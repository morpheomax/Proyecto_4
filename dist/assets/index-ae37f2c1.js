var aj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var QZ=aj((ZZ,hm)=>{function lj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uj(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var s=[null];s.push.apply(s,arguments);var i=Function.bind.apply(e,s);return new i}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var WI={exports:{}},xg={},HI={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),cj=Symbol.for("react.portal"),hj=Symbol.for("react.fragment"),dj=Symbol.for("react.strict_mode"),fj=Symbol.for("react.profiler"),pj=Symbol.for("react.provider"),mj=Symbol.for("react.context"),gj=Symbol.for("react.forward_ref"),yj=Symbol.for("react.suspense"),vj=Symbol.for("react.memo"),wj=Symbol.for("react.lazy"),qT=Symbol.iterator;function _j(t){return t===null||typeof t!="object"?null:(t=qT&&t[qT]||t["@@iterator"],typeof t=="function"?t:null)}var qI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GI=Object.assign,KI={};function rc(t,e,n){this.props=t,this.context=e,this.refs=KI,this.updater=n||qI}rc.prototype.isReactComponent={};rc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QI(){}QI.prototype=rc.prototype;function Q_(t,e,n){this.props=t,this.context=e,this.refs=KI,this.updater=n||qI}var X_=Q_.prototype=new QI;X_.constructor=Q_;GI(X_,rc.prototype);X_.isPureReactComponent=!0;var GT=Array.isArray,XI=Object.prototype.hasOwnProperty,J_={current:null},JI={key:!0,ref:!0,__self:!0,__source:!0};function ZI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XI.call(e,r)&&!JI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ad,type:t,key:i,ref:o,props:s,_owner:J_.current}}function Sj(t,e){return{$$typeof:Ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Z_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ad}function Ej(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KT=/\/+/g;function Rv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ej(""+t.key):e.toString(36)}function Mp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ad:case cj:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Rv(o,0):r,GT(s)?(n="",t!=null&&(n=t.replace(KT,"$&/")+"/"),Mp(s,e,n,"",function(c){return c})):s!=null&&(Z_(s)&&(s=Sj(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(KT,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",GT(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Rv(i,a);o+=Mp(i,e,n,l,s)}else if(l=_j(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Rv(i,a++),o+=Mp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jf(t,e,n){if(t==null)return t;var r=[],s=0;return Mp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Tj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},Pp={transition:null},xj={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Pp,ReactCurrentOwner:J_};Pe.Children={map:Jf,forEach:function(t,e,n){Jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jf(t,function(){e++}),e},toArray:function(t){return Jf(t,function(e){return e})||[]},only:function(t){if(!Z_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=rc;Pe.Fragment=hj;Pe.Profiler=fj;Pe.PureComponent=Q_;Pe.StrictMode=dj;Pe.Suspense=yj;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xj;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=J_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XI.call(e,l)&&!JI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ad,type:t.type,key:s,ref:i,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:mj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pj,_context:t},t.Consumer=t};Pe.createElement=ZI;Pe.createFactory=function(t){var e=ZI.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:gj,render:t}};Pe.isValidElement=Z_;Pe.lazy=function(t){return{$$typeof:wj,_payload:{_status:-1,_result:t},_init:Tj}};Pe.memo=function(t,e){return{$$typeof:vj,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Pp.transition;Pp.transition={};try{t()}finally{Pp.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return qn.current.useCallback(t,e)};Pe.useContext=function(t){return qn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return qn.current.useEffect(t,e)};Pe.useId=function(){return qn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return qn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};Pe.useRef=function(t){return qn.current.useRef(t)};Pe.useState=function(t){return qn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return qn.current.useTransition()};Pe.version="18.2.0";HI.exports=Pe;var C=HI.exports;const Br=Od(C),bj=lj({__proto__:null,default:Br},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj=C,Ij=Symbol.for("react.element"),Cj=Symbol.for("react.fragment"),Dj=Object.prototype.hasOwnProperty,Nj=kj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oj={key:!0,ref:!0,__self:!0,__source:!0};function eC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Dj.call(e,r)&&!Oj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Ij,type:t,key:i,ref:o,props:s,_owner:Nj.current}}xg.Fragment=Cj;xg.jsx=eC;xg.jsxs=eC;WI.exports=xg;var v=WI.exports,Uw={},tC={exports:{}},Ir={},nC={exports:{}},rC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ce){var ie=H.length;H.push(ce);e:for(;0<ie;){var ke=ie-1>>>1,Ee=H[ke];if(0<s(Ee,ce))H[ke]=ce,H[ie]=Ee,ie=ke;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ce=H[0],ie=H.pop();if(ie!==ce){H[0]=ie;e:for(var ke=0,Ee=H.length,j=Ee>>>1;ke<j;){var Ye=2*(ke+1)-1,Q=H[Ye],it=Ye+1,ft=H[it];if(0>s(Q,ie))it<Ee&&0>s(ft,Q)?(H[ke]=ft,H[it]=ie,ke=it):(H[ke]=Q,H[Ye]=ie,ke=Ye);else if(it<Ee&&0>s(ft,ie))H[ke]=ft,H[it]=ie,ke=it;else break e}}return ce}function s(H,ce){var ie=H.sortIndex-ce.sortIndex;return ie!==0?ie:H.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,p=null,y=3,_=!1,E=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var ce=n(c);ce!==null;){if(ce.callback===null)r(c);else if(ce.startTime<=H)r(c),ce.sortIndex=ce.expirationTime,e(l,ce);else break;ce=n(c)}}function D(H){if(x=!1,k(H),!E)if(n(l)!==null)E=!0,$e(R);else{var ce=n(c);ce!==null&&Ke(D,ce.startTime-H)}}function R(H,ce){E=!1,x&&(x=!1,b(z),z=-1),_=!0;var ie=y;try{for(k(ce),p=n(l);p!==null&&(!(p.expirationTime>ce)||H&&!ye());){var ke=p.callback;if(typeof ke=="function"){p.callback=null,y=p.priorityLevel;var Ee=ke(p.expirationTime<=ce);ce=t.unstable_now(),typeof Ee=="function"?p.callback=Ee:p===n(l)&&r(l),k(ce)}else r(l);p=n(l)}if(p!==null)var j=!0;else{var Ye=n(c);Ye!==null&&Ke(D,Ye.startTime-ce),j=!1}return j}finally{p=null,y=ie,_=!1}}var M=!1,$=null,z=-1,ue=5,V=-1;function ye(){return!(t.unstable_now()-V<ue)}function Le(){if($!==null){var H=t.unstable_now();V=H;var ce=!0;try{ce=$(!0,H)}finally{ce?ve():(M=!1,$=null)}}else M=!1}var ve;if(typeof T=="function")ve=function(){T(Le)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ae=Ce.port2;Ce.port1.onmessage=Le,ve=function(){Ae.postMessage(null)}}else ve=function(){I(Le,0)};function $e(H){$=H,M||(M=!0,ve())}function Ke(H,ce){z=I(function(){H(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,$e(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var ie=y;y=ce;try{return H()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ce){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=y;y=H;try{return ce()}finally{y=ie}},t.unstable_scheduleCallback=function(H,ce,ie){var ke=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,H){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ie+Ee,H={id:d++,callback:ce,priorityLevel:H,startTime:ie,expirationTime:Ee,sortIndex:-1},ie>ke?(H.sortIndex=ie,e(c,H),n(l)===null&&H===n(c)&&(x?(b(z),z=-1):x=!0,Ke(D,ie-ke))):(H.sortIndex=Ee,e(l,H),E||_||(E=!0,$e(R))),H},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(H){var ce=y;return function(){var ie=y;y=ce;try{return H.apply(this,arguments)}finally{y=ie}}}})(rC);nC.exports=rC;var Aj=nC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=C,Sr=Aj;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iC=new Set,Lh={};function hl(t,e){Nu(t,e),Nu(t+"Capture",e)}function Nu(t,e){for(Lh[t]=e,t=0;t<e.length;t++)iC.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vw=Object.prototype.hasOwnProperty,Rj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QT={},XT={};function Mj(t){return Vw.call(XT,t)?!0:Vw.call(QT,t)?!1:Rj.test(t)?XT[t]=!0:(QT[t]=!0,!1)}function Pj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lj(t,e,n,r){if(e===null||typeof e>"u"||Pj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var e1=/[\-:]([a-z])/g;function t1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e1,t1);Tn[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e1,t1);Tn[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e1,t1);Tn[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function n1(t,e,n,r){var s=Tn.hasOwnProperty(e)?Tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lj(e,n,s,r)&&(n=null),r||s===null?Mj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fi=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zf=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),r1=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),oC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),s1=Symbol.for("react.forward_ref"),zw=Symbol.for("react.suspense"),Yw=Symbol.for("react.suspense_list"),i1=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),lC=Symbol.for("react.offscreen"),JT=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=JT&&t[JT]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,Mv;function ih(t){if(Mv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mv=e&&e[1]||""}return`
`+Mv+t}var Pv=!1;function Lv(t,e){if(!t||Pv)return"";Pv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ih(t):""}function $j(t){switch(t.tag){case 5:return ih(t.type);case 16:return ih("Lazy");case 13:return ih("Suspense");case 19:return ih("SuspenseList");case 0:case 2:case 15:return t=Lv(t.type,!1),t;case 11:return t=Lv(t.type.render,!1),t;case 1:return t=Lv(t.type,!0),t;default:return""}}function Ww(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tu:return"Fragment";case eu:return"Portal";case Bw:return"Profiler";case r1:return"StrictMode";case zw:return"Suspense";case Yw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aC:return(t.displayName||"Context")+".Consumer";case oC:return(t._context.displayName||"Context")+".Provider";case s1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i1:return e=t.displayName||null,e!==null?e:Ww(t.type)||"Memo";case so:e=t._payload,t=t._init;try{return Ww(t(e))}catch{}}return null}function Fj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ww(e);case 8:return e===r1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jj(t){var e=uC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ep(t){t._valueTracker||(t._valueTracker=jj(t))}function cC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hw(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ZT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hC(t,e){e=e.checked,e!=null&&n1(t,"checked",e,!1)}function qw(t,e){hC(t,e);var n=Ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gw(t,e.type,Ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gw(t,e,n){(e!=="number"||dm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oh=Array.isArray;function mu(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ao(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Kw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(oh(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ao(n)}}function dC(t,e){var n=Ao(e.value),r=Ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tp,pC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tp=tp||document.createElement("div"),tp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $h(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uj=["Webkit","ms","Moz","O"];Object.keys(mh).forEach(function(t){Uj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mh[e]=mh[t]})});function mC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mh.hasOwnProperty(t)&&mh[t]?(""+e).trim():e+"px"}function gC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Vj=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xw(t,e){if(e){if(Vj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Jw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zw=null;function o1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var e0=null,gu=null,yu=null;function rx(t){if(t=Pd(t)){if(typeof e0!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Dg(e),e0(t.stateNode,t.type,e))}}function yC(t){gu?yu?yu.push(t):yu=[t]:gu=t}function vC(){if(gu){var t=gu,e=yu;if(yu=gu=null,rx(t),e)for(t=0;t<e.length;t++)rx(e[t])}}function wC(t,e){return t(e)}function _C(){}var $v=!1;function SC(t,e,n){if($v)return t(e,n);$v=!0;try{return wC(t,e,n)}finally{$v=!1,(gu!==null||yu!==null)&&(_C(),vC())}}function Fh(t,e){var n=t.stateNode;if(n===null)return null;var r=Dg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var t0=!1;if(Ii)try{var Uc={};Object.defineProperty(Uc,"passive",{get:function(){t0=!0}}),window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{t0=!1}function Bj(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var gh=!1,fm=null,pm=!1,n0=null,zj={onError:function(t){gh=!0,fm=t}};function Yj(t,e,n,r,s,i,o,a,l){gh=!1,fm=null,Bj.apply(zj,arguments)}function Wj(t,e,n,r,s,i,o,a,l){if(Yj.apply(this,arguments),gh){if(gh){var c=fm;gh=!1,fm=null}else throw Error(q(198));pm||(pm=!0,n0=c)}}function dl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sx(t){if(dl(t)!==t)throw Error(q(188))}function Hj(t){var e=t.alternate;if(!e){if(e=dl(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return sx(s),t;if(i===r)return sx(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function TC(t){return t=Hj(t),t!==null?xC(t):null}function xC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xC(t);if(e!==null)return e;t=t.sibling}return null}var bC=Sr.unstable_scheduleCallback,ix=Sr.unstable_cancelCallback,qj=Sr.unstable_shouldYield,Gj=Sr.unstable_requestPaint,Bt=Sr.unstable_now,Kj=Sr.unstable_getCurrentPriorityLevel,a1=Sr.unstable_ImmediatePriority,kC=Sr.unstable_UserBlockingPriority,mm=Sr.unstable_NormalPriority,Qj=Sr.unstable_LowPriority,IC=Sr.unstable_IdlePriority,bg=null,Ps=null;function Xj(t){if(Ps&&typeof Ps.onCommitFiberRoot=="function")try{Ps.onCommitFiberRoot(bg,t,void 0,(t.current.flags&128)===128)}catch{}}var ps=Math.clz32?Math.clz32:eU,Jj=Math.log,Zj=Math.LN2;function eU(t){return t>>>=0,t===0?32:31-(Jj(t)/Zj|0)|0}var np=64,rp=4194304;function ah(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ah(a):(i&=o,i!==0&&(r=ah(i)))}else o=n&~s,o!==0?r=ah(o):i!==0&&(r=ah(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ps(e),s=1<<n,r|=t[n],e&=~s;return r}function tU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ps(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=tU(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CC(){var t=np;return np<<=1,!(np&4194240)&&(np=64),t}function Fv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ps(e),t[e]=n}function rU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ps(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function l1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ps(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var rt=0;function DC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NC,u1,OC,AC,RC,s0=!1,sp=[],So=null,Eo=null,To=null,jh=new Map,Uh=new Map,ao=[],sU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(e.pointerId)}}function Vc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Pd(e),e!==null&&u1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iU(t,e,n,r,s){switch(e){case"focusin":return So=Vc(So,t,e,n,r,s),!0;case"dragenter":return Eo=Vc(Eo,t,e,n,r,s),!0;case"mouseover":return To=Vc(To,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jh.set(i,Vc(jh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Uh.set(i,Vc(Uh.get(i)||null,t,e,n,r,s)),!0}return!1}function MC(t){var e=Oa(t.target);if(e!==null){var n=dl(e);if(n!==null){if(e=n.tag,e===13){if(e=EC(n),e!==null){t.blockedOn=e,RC(t.priority,function(){OC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zw=r,n.target.dispatchEvent(r),Zw=null}else return e=Pd(n),e!==null&&u1(e),t.blockedOn=n,!1;e.shift()}return!0}function ax(t,e,n){Lp(t)&&n.delete(e)}function oU(){s0=!1,So!==null&&Lp(So)&&(So=null),Eo!==null&&Lp(Eo)&&(Eo=null),To!==null&&Lp(To)&&(To=null),jh.forEach(ax),Uh.forEach(ax)}function Bc(t,e){t.blockedOn===e&&(t.blockedOn=null,s0||(s0=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,oU)))}function Vh(t){function e(s){return Bc(s,t)}if(0<sp.length){Bc(sp[0],t);for(var n=1;n<sp.length;n++){var r=sp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(So!==null&&Bc(So,t),Eo!==null&&Bc(Eo,t),To!==null&&Bc(To,t),jh.forEach(e),Uh.forEach(e),n=0;n<ao.length;n++)r=ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ao.length&&(n=ao[0],n.blockedOn===null);)MC(n),n.blockedOn===null&&ao.shift()}var vu=Fi.ReactCurrentBatchConfig,ym=!0;function aU(t,e,n,r){var s=rt,i=vu.transition;vu.transition=null;try{rt=1,c1(t,e,n,r)}finally{rt=s,vu.transition=i}}function lU(t,e,n,r){var s=rt,i=vu.transition;vu.transition=null;try{rt=4,c1(t,e,n,r)}finally{rt=s,vu.transition=i}}function c1(t,e,n,r){if(ym){var s=i0(t,e,n,r);if(s===null)Gv(t,e,r,vm,n),ox(t,r);else if(iU(s,t,e,n,r))r.stopPropagation();else if(ox(t,r),e&4&&-1<sU.indexOf(t)){for(;s!==null;){var i=Pd(s);if(i!==null&&NC(i),i=i0(t,e,n,r),i===null&&Gv(t,e,r,vm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gv(t,e,r,null,n)}}var vm=null;function i0(t,e,n,r){if(vm=null,t=o1(r),t=Oa(t),t!==null)if(e=dl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vm=t,null}function PC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kj()){case a1:return 1;case kC:return 4;case mm:case Qj:return 16;case IC:return 536870912;default:return 16}default:return 16}}var mo=null,h1=null,$p=null;function LC(){if($p)return $p;var t,e=h1,n=e.length,r,s="value"in mo?mo.value:mo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $p=s.slice(t,1<r?1-r:void 0)}function Fp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ip(){return!0}function lx(){return!1}function Cr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ip:lx,this.isPropagationStopped=lx,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),e}var sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d1=Cr(sc),Md=At({},sc,{view:0,detail:0}),uU=Cr(Md),jv,Uv,zc,kg=At({},Md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zc&&(zc&&t.type==="mousemove"?(jv=t.screenX-zc.screenX,Uv=t.screenY-zc.screenY):Uv=jv=0,zc=t),jv)},movementY:function(t){return"movementY"in t?t.movementY:Uv}}),ux=Cr(kg),cU=At({},kg,{dataTransfer:0}),hU=Cr(cU),dU=At({},Md,{relatedTarget:0}),Vv=Cr(dU),fU=At({},sc,{animationName:0,elapsedTime:0,pseudoElement:0}),pU=Cr(fU),mU=At({},sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gU=Cr(mU),yU=At({},sc,{data:0}),cx=Cr(yU),vU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_U[t])?!!e[t]:!1}function f1(){return SU}var EU=At({},Md,{key:function(t){if(t.key){var e=vU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f1,charCode:function(t){return t.type==="keypress"?Fp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TU=Cr(EU),xU=At({},kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=Cr(xU),bU=At({},Md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f1}),kU=Cr(bU),IU=At({},sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),CU=Cr(IU),DU=At({},kg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NU=Cr(DU),OU=[9,13,27,32],p1=Ii&&"CompositionEvent"in window,yh=null;Ii&&"documentMode"in document&&(yh=document.documentMode);var AU=Ii&&"TextEvent"in window&&!yh,$C=Ii&&(!p1||yh&&8<yh&&11>=yh),dx=String.fromCharCode(32),fx=!1;function FC(t,e){switch(t){case"keyup":return OU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nu=!1;function RU(t,e){switch(t){case"compositionend":return jC(e);case"keypress":return e.which!==32?null:(fx=!0,dx);case"textInput":return t=e.data,t===dx&&fx?null:t;default:return null}}function MU(t,e){if(nu)return t==="compositionend"||!p1&&FC(t,e)?(t=LC(),$p=h1=mo=null,nu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $C&&e.locale!=="ko"?null:e.data;default:return null}}var PU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PU[t.type]:e==="textarea"}function UC(t,e,n,r){yC(r),e=wm(e,"onChange"),0<e.length&&(n=new d1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vh=null,Bh=null;function LU(t){XC(t,0)}function Ig(t){var e=iu(t);if(cC(e))return t}function $U(t,e){if(t==="change")return e}var VC=!1;if(Ii){var Bv;if(Ii){var zv="oninput"in document;if(!zv){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),zv=typeof mx.oninput=="function"}Bv=zv}else Bv=!1;VC=Bv&&(!document.documentMode||9<document.documentMode)}function gx(){vh&&(vh.detachEvent("onpropertychange",BC),Bh=vh=null)}function BC(t){if(t.propertyName==="value"&&Ig(Bh)){var e=[];UC(e,Bh,t,o1(t)),SC(LU,e)}}function FU(t,e,n){t==="focusin"?(gx(),vh=e,Bh=n,vh.attachEvent("onpropertychange",BC)):t==="focusout"&&gx()}function jU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ig(Bh)}function UU(t,e){if(t==="click")return Ig(e)}function VU(t,e){if(t==="input"||t==="change")return Ig(e)}function BU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:BU;function zh(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vw.call(e,s)||!gs(t[s],e[s]))return!1}return!0}function yx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vx(t,e){var n=yx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yx(n)}}function zC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YC(){for(var t=window,e=dm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dm(t.document)}return e}function m1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zU(t){var e=YC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zC(n.ownerDocument.documentElement,n)){if(r!==null&&m1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=vx(n,i);var o=vx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YU=Ii&&"documentMode"in document&&11>=document.documentMode,ru=null,o0=null,wh=null,a0=!1;function wx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a0||ru==null||ru!==dm(r)||(r=ru,"selectionStart"in r&&m1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wh&&zh(wh,r)||(wh=r,r=wm(o0,"onSelect"),0<r.length&&(e=new d1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ru)))}function op(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var su={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},Yv={},WC={};Ii&&(WC=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Cg(t){if(Yv[t])return Yv[t];if(!su[t])return t;var e=su[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WC)return Yv[t]=e[n];return t}var HC=Cg("animationend"),qC=Cg("animationiteration"),GC=Cg("animationstart"),KC=Cg("transitionend"),QC=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){QC.set(t,e),hl(e,[t])}for(var Wv=0;Wv<_x.length;Wv++){var Hv=_x[Wv],WU=Hv.toLowerCase(),HU=Hv[0].toUpperCase()+Hv.slice(1);Ho(WU,"on"+HU)}Ho(HC,"onAnimationEnd");Ho(qC,"onAnimationIteration");Ho(GC,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(KC,"onTransitionEnd");Nu("onMouseEnter",["mouseout","mouseover"]);Nu("onMouseLeave",["mouseout","mouseover"]);Nu("onPointerEnter",["pointerout","pointerover"]);Nu("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qU=new Set("cancel close invalid load scroll toggle".split(" ").concat(lh));function Sx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wj(r,e,void 0,t),t.currentTarget=null}function XC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Sx(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Sx(s,a,c),i=l}}}if(pm)throw t=n0,pm=!1,n0=null,t}function gt(t,e){var n=e[d0];n===void 0&&(n=e[d0]=new Set);var r=t+"__bubble";n.has(r)||(JC(e,t,2,!1),n.add(r))}function qv(t,e,n){var r=0;e&&(r|=4),JC(n,t,r,e)}var ap="_reactListening"+Math.random().toString(36).slice(2);function Yh(t){if(!t[ap]){t[ap]=!0,iC.forEach(function(n){n!=="selectionchange"&&(qU.has(n)||qv(n,!1,t),qv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ap]||(e[ap]=!0,qv("selectionchange",!1,e))}}function JC(t,e,n,r){switch(PC(e)){case 1:var s=aU;break;case 4:s=lU;break;default:s=c1}n=s.bind(null,e,n,t),s=void 0,!t0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Oa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}SC(function(){var c=i,d=o1(n),p=[];e:{var y=QC.get(t);if(y!==void 0){var _=d1,E=t;switch(t){case"keypress":if(Fp(n)===0)break e;case"keydown":case"keyup":_=TU;break;case"focusin":E="focus",_=Vv;break;case"focusout":E="blur",_=Vv;break;case"beforeblur":case"afterblur":_=Vv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=hU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=kU;break;case HC:case qC:case GC:_=pU;break;case KC:_=CU;break;case"scroll":_=uU;break;case"wheel":_=NU;break;case"copy":case"cut":case"paste":_=gU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=hx}var x=(e&4)!==0,I=!x&&t==="scroll",b=x?y!==null?y+"Capture":null:y;x=[];for(var T=c,k;T!==null;){k=T;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,b!==null&&(D=Fh(T,b),D!=null&&x.push(Wh(T,D,k)))),I)break;T=T.return}0<x.length&&(y=new _(y,E,null,n,d),p.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==Zw&&(E=n.relatedTarget||n.fromElement)&&(Oa(E)||E[Ci]))break e;if((_||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,_?(E=n.relatedTarget||n.toElement,_=c,E=E?Oa(E):null,E!==null&&(I=dl(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=c),_!==E)){if(x=ux,D="onMouseLeave",b="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(x=hx,D="onPointerLeave",b="onPointerEnter",T="pointer"),I=_==null?y:iu(_),k=E==null?y:iu(E),y=new x(D,T+"leave",_,n,d),y.target=I,y.relatedTarget=k,D=null,Oa(d)===c&&(x=new x(b,T+"enter",E,n,d),x.target=k,x.relatedTarget=I,D=x),I=D,_&&E)t:{for(x=_,b=E,T=0,k=x;k;k=Ul(k))T++;for(k=0,D=b;D;D=Ul(D))k++;for(;0<T-k;)x=Ul(x),T--;for(;0<k-T;)b=Ul(b),k--;for(;T--;){if(x===b||b!==null&&x===b.alternate)break t;x=Ul(x),b=Ul(b)}x=null}else x=null;_!==null&&Ex(p,y,_,x,!1),E!==null&&I!==null&&Ex(p,I,E,x,!0)}}e:{if(y=c?iu(c):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var R=$U;else if(px(y))if(VC)R=VU;else{R=jU;var M=FU}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(R=UU);if(R&&(R=R(t,c))){UC(p,R,n,d);break e}M&&M(t,y,c),t==="focusout"&&(M=y._wrapperState)&&M.controlled&&y.type==="number"&&Gw(y,"number",y.value)}switch(M=c?iu(c):window,t){case"focusin":(px(M)||M.contentEditable==="true")&&(ru=M,o0=c,wh=null);break;case"focusout":wh=o0=ru=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,wx(p,n,d);break;case"selectionchange":if(YU)break;case"keydown":case"keyup":wx(p,n,d)}var $;if(p1)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else nu?FC(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&($C&&n.locale!=="ko"&&(nu||z!=="onCompositionStart"?z==="onCompositionEnd"&&nu&&($=LC()):(mo=d,h1="value"in mo?mo.value:mo.textContent,nu=!0)),M=wm(c,z),0<M.length&&(z=new cx(z,t,null,n,d),p.push({event:z,listeners:M}),$?z.data=$:($=jC(n),$!==null&&(z.data=$)))),($=AU?RU(t,n):MU(t,n))&&(c=wm(c,"onBeforeInput"),0<c.length&&(d=new cx("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=$))}XC(p,e)})}function Wh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fh(t,n),i!=null&&r.unshift(Wh(t,i,s)),i=Fh(t,e),i!=null&&r.push(Wh(t,i,s))),t=t.return}return r}function Ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ex(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Fh(n,i),l!=null&&o.unshift(Wh(n,l,a))):s||(l=Fh(n,i),l!=null&&o.push(Wh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var GU=/\r\n?/g,KU=/\u0000|\uFFFD/g;function Tx(t){return(typeof t=="string"?t:""+t).replace(GU,`
`).replace(KU,"")}function lp(t,e,n){if(e=Tx(e),Tx(t)!==e&&n)throw Error(q(425))}function _m(){}var l0=null,u0=null;function c0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h0=typeof setTimeout=="function"?setTimeout:void 0,QU=typeof clearTimeout=="function"?clearTimeout:void 0,xx=typeof Promise=="function"?Promise:void 0,XU=typeof queueMicrotask=="function"?queueMicrotask:typeof xx<"u"?function(t){return xx.resolve(null).then(t).catch(JU)}:h0;function JU(t){setTimeout(function(){throw t})}function Kv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vh(e)}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ic=Math.random().toString(36).slice(2),Is="__reactFiber$"+ic,Hh="__reactProps$"+ic,Ci="__reactContainer$"+ic,d0="__reactEvents$"+ic,ZU="__reactListeners$"+ic,e4="__reactHandles$"+ic;function Oa(t){var e=t[Is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bx(t);t!==null;){if(n=t[Is])return n;t=bx(t)}return e}t=n,n=t.parentNode}return null}function Pd(t){return t=t[Is]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Dg(t){return t[Hh]||null}var f0=[],ou=-1;function qo(t){return{current:t}}function wt(t){0>ou||(t.current=f0[ou],f0[ou]=null,ou--)}function ct(t,e){ou++,f0[ou]=t.current,t.current=e}var Ro={},Pn=qo(Ro),ir=qo(!1),qa=Ro;function Ou(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function or(t){return t=t.childContextTypes,t!=null}function Sm(){wt(ir),wt(Pn)}function kx(t,e,n){if(Pn.current!==Ro)throw Error(q(168));ct(Pn,e),ct(ir,n)}function ZC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,Fj(t)||"Unknown",s));return At({},n,r)}function Em(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,qa=Pn.current,ct(Pn,t),ct(ir,ir.current),!0}function Ix(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=ZC(t,e,qa),r.__reactInternalMemoizedMergedChildContext=t,wt(ir),wt(Pn),ct(Pn,t)):wt(ir),ct(ir,n)}var ci=null,Ng=!1,Qv=!1;function eD(t){ci===null?ci=[t]:ci.push(t)}function t4(t){Ng=!0,eD(t)}function Go(){if(!Qv&&ci!==null){Qv=!0;var t=0,e=rt;try{var n=ci;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,Ng=!1}catch(s){throw ci!==null&&(ci=ci.slice(t+1)),bC(a1,Go),s}finally{rt=e,Qv=!1}}return null}var au=[],lu=0,Tm=null,xm=0,Fr=[],jr=0,Ga=null,fi=1,pi="";function wa(t,e){au[lu++]=xm,au[lu++]=Tm,Tm=t,xm=e}function tD(t,e,n){Fr[jr++]=fi,Fr[jr++]=pi,Fr[jr++]=Ga,Ga=t;var r=fi;t=pi;var s=32-ps(r)-1;r&=~(1<<s),n+=1;var i=32-ps(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fi=1<<32-ps(e)+s|n<<s|r,pi=i+t}else fi=1<<i|n<<s|r,pi=t}function g1(t){t.return!==null&&(wa(t,1),tD(t,1,0))}function y1(t){for(;t===Tm;)Tm=au[--lu],au[lu]=null,xm=au[--lu],au[lu]=null;for(;t===Ga;)Ga=Fr[--jr],Fr[jr]=null,pi=Fr[--jr],Fr[jr]=null,fi=Fr[--jr],Fr[jr]=null}var _r=null,vr=null,kt=!1,cs=null;function nD(t,e){var n=zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_r=t,vr=xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_r=t,vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ga!==null?{id:fi,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_r=t,vr=null,!0):!1;default:return!1}}function p0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function m0(t){if(kt){var e=vr;if(e){var n=e;if(!Cx(t,e)){if(p0(t))throw Error(q(418));e=xo(n.nextSibling);var r=_r;e&&Cx(t,e)?nD(r,n):(t.flags=t.flags&-4097|2,kt=!1,_r=t)}}else{if(p0(t))throw Error(q(418));t.flags=t.flags&-4097|2,kt=!1,_r=t}}}function Dx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_r=t}function up(t){if(t!==_r)return!1;if(!kt)return Dx(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c0(t.type,t.memoizedProps)),e&&(e=vr)){if(p0(t))throw rD(),Error(q(418));for(;e;)nD(t,e),e=xo(e.nextSibling)}if(Dx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vr=xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vr=null}}else vr=_r?xo(t.stateNode.nextSibling):null;return!0}function rD(){for(var t=vr;t;)t=xo(t.nextSibling)}function Au(){vr=_r=null,kt=!1}function v1(t){cs===null?cs=[t]:cs.push(t)}var n4=Fi.ReactCurrentBatchConfig;function ls(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var bm=qo(null),km=null,uu=null,w1=null;function _1(){w1=uu=km=null}function S1(t){var e=bm.current;wt(bm),t._currentValue=e}function g0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wu(t,e){km=t,w1=uu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(w1!==t)if(t={context:t,memoizedValue:e,next:null},uu===null){if(km===null)throw Error(q(308));uu=t,km.dependencies={lanes:0,firstContext:t}}else uu=uu.next=t;return e}var Aa=null;function E1(t){Aa===null?Aa=[t]:Aa.push(t)}function sD(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,E1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var io=!1;function T1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Di(t,n)}return s=r.interleaved,s===null?(e.next=e,E1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Di(t,n)}function jp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l1(t,n)}}function Nx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Im(t,e,n,r){var s=t.updateQueue;io=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=c=l=null,a=i;do{var y=a.lane,_=a.eventTime;if((r&y)===y){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,x=a;switch(y=e,_=n,x.tag){case 1:if(E=x.payload,typeof E=="function"){p=E.call(_,p,y);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,y=typeof E=="function"?E.call(_,p,y):E,y==null)break e;p=At({},p,y);break e;case 2:io=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else _={eventTime:_,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=_,l=p):d=d.next=_,o|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(1);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qa|=o,t.lanes=o,t.memoizedState=p}}function Ox(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var oD=new sC.Component().refs;function y0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Og={isMounted:function(t){return(t=t._reactInternals)?dl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zn(),s=Io(t),i=Si(r,s);i.payload=e,n!=null&&(i.callback=n),e=bo(t,i,s),e!==null&&(ms(e,t,s,r),jp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zn(),s=Io(t),i=Si(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=bo(t,i,s),e!==null&&(ms(e,t,s,r),jp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zn(),r=Io(t),s=Si(n,r);s.tag=2,e!=null&&(s.callback=e),e=bo(t,s,r),e!==null&&(ms(e,t,r,n),jp(e,t,r))}};function Ax(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!zh(n,r)||!zh(s,i):!0}function aD(t,e,n){var r=!1,s=Ro,i=e.contextType;return typeof i=="object"&&i!==null?i=Gr(i):(s=or(e)?qa:Pn.current,r=e.contextTypes,i=(r=r!=null)?Ou(t,s):Ro),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Og,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Rx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Og.enqueueReplaceState(e,e.state,null)}function v0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=oD,T1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gr(i):(i=or(e)?qa:Pn.current,s.context=Ou(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(y0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Og.enqueueReplaceState(s,s.state,null),Im(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===oD&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function cp(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mx(t){var e=t._init;return e(t._payload)}function lD(t){function e(b,T){if(t){var k=b.deletions;k===null?(b.deletions=[T],b.flags|=16):k.push(T)}}function n(b,T){if(!t)return null;for(;T!==null;)e(b,T),T=T.sibling;return null}function r(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function s(b,T){return b=Co(b,T),b.index=0,b.sibling=null,b}function i(b,T,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<T?(b.flags|=2,T):k):(b.flags|=2,T)):(b.flags|=1048576,T)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,T,k,D){return T===null||T.tag!==6?(T=rw(k,b.mode,D),T.return=b,T):(T=s(T,k),T.return=b,T)}function l(b,T,k,D){var R=k.type;return R===tu?d(b,T,k.props.children,D,k.key):T!==null&&(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===so&&Mx(R)===T.type)?(D=s(T,k.props),D.ref=Yc(b,T,k),D.return=b,D):(D=Wp(k.type,k.key,k.props,null,b.mode,D),D.ref=Yc(b,T,k),D.return=b,D)}function c(b,T,k,D){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=sw(k,b.mode,D),T.return=b,T):(T=s(T,k.children||[]),T.return=b,T)}function d(b,T,k,D,R){return T===null||T.tag!==7?(T=Va(k,b.mode,D,R),T.return=b,T):(T=s(T,k),T.return=b,T)}function p(b,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=rw(""+T,b.mode,k),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zf:return k=Wp(T.type,T.key,T.props,null,b.mode,k),k.ref=Yc(b,null,T),k.return=b,k;case eu:return T=sw(T,b.mode,k),T.return=b,T;case so:var D=T._init;return p(b,D(T._payload),k)}if(oh(T)||jc(T))return T=Va(T,b.mode,k,null),T.return=b,T;cp(b,T)}return null}function y(b,T,k,D){var R=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return R!==null?null:a(b,T,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zf:return k.key===R?l(b,T,k,D):null;case eu:return k.key===R?c(b,T,k,D):null;case so:return R=k._init,y(b,T,R(k._payload),D)}if(oh(k)||jc(k))return R!==null?null:d(b,T,k,D,null);cp(b,k)}return null}function _(b,T,k,D,R){if(typeof D=="string"&&D!==""||typeof D=="number")return b=b.get(k)||null,a(T,b,""+D,R);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Zf:return b=b.get(D.key===null?k:D.key)||null,l(T,b,D,R);case eu:return b=b.get(D.key===null?k:D.key)||null,c(T,b,D,R);case so:var M=D._init;return _(b,T,k,M(D._payload),R)}if(oh(D)||jc(D))return b=b.get(k)||null,d(T,b,D,R,null);cp(T,D)}return null}function E(b,T,k,D){for(var R=null,M=null,$=T,z=T=0,ue=null;$!==null&&z<k.length;z++){$.index>z?(ue=$,$=null):ue=$.sibling;var V=y(b,$,k[z],D);if(V===null){$===null&&($=ue);break}t&&$&&V.alternate===null&&e(b,$),T=i(V,T,z),M===null?R=V:M.sibling=V,M=V,$=ue}if(z===k.length)return n(b,$),kt&&wa(b,z),R;if($===null){for(;z<k.length;z++)$=p(b,k[z],D),$!==null&&(T=i($,T,z),M===null?R=$:M.sibling=$,M=$);return kt&&wa(b,z),R}for($=r(b,$);z<k.length;z++)ue=_($,b,z,k[z],D),ue!==null&&(t&&ue.alternate!==null&&$.delete(ue.key===null?z:ue.key),T=i(ue,T,z),M===null?R=ue:M.sibling=ue,M=ue);return t&&$.forEach(function(ye){return e(b,ye)}),kt&&wa(b,z),R}function x(b,T,k,D){var R=jc(k);if(typeof R!="function")throw Error(q(150));if(k=R.call(k),k==null)throw Error(q(151));for(var M=R=null,$=T,z=T=0,ue=null,V=k.next();$!==null&&!V.done;z++,V=k.next()){$.index>z?(ue=$,$=null):ue=$.sibling;var ye=y(b,$,V.value,D);if(ye===null){$===null&&($=ue);break}t&&$&&ye.alternate===null&&e(b,$),T=i(ye,T,z),M===null?R=ye:M.sibling=ye,M=ye,$=ue}if(V.done)return n(b,$),kt&&wa(b,z),R;if($===null){for(;!V.done;z++,V=k.next())V=p(b,V.value,D),V!==null&&(T=i(V,T,z),M===null?R=V:M.sibling=V,M=V);return kt&&wa(b,z),R}for($=r(b,$);!V.done;z++,V=k.next())V=_($,b,z,V.value,D),V!==null&&(t&&V.alternate!==null&&$.delete(V.key===null?z:V.key),T=i(V,T,z),M===null?R=V:M.sibling=V,M=V);return t&&$.forEach(function(Le){return e(b,Le)}),kt&&wa(b,z),R}function I(b,T,k,D){if(typeof k=="object"&&k!==null&&k.type===tu&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Zf:e:{for(var R=k.key,M=T;M!==null;){if(M.key===R){if(R=k.type,R===tu){if(M.tag===7){n(b,M.sibling),T=s(M,k.props.children),T.return=b,b=T;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===so&&Mx(R)===M.type){n(b,M.sibling),T=s(M,k.props),T.ref=Yc(b,M,k),T.return=b,b=T;break e}n(b,M);break}else e(b,M);M=M.sibling}k.type===tu?(T=Va(k.props.children,b.mode,D,k.key),T.return=b,b=T):(D=Wp(k.type,k.key,k.props,null,b.mode,D),D.ref=Yc(b,T,k),D.return=b,b=D)}return o(b);case eu:e:{for(M=k.key;T!==null;){if(T.key===M)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(b,T.sibling),T=s(T,k.children||[]),T.return=b,b=T;break e}else{n(b,T);break}else e(b,T);T=T.sibling}T=sw(k,b.mode,D),T.return=b,b=T}return o(b);case so:return M=k._init,I(b,T,M(k._payload),D)}if(oh(k))return E(b,T,k,D);if(jc(k))return x(b,T,k,D);cp(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(b,T.sibling),T=s(T,k),T.return=b,b=T):(n(b,T),T=rw(k,b.mode,D),T.return=b,b=T),o(b)):n(b,T)}return I}var Ru=lD(!0),uD=lD(!1),Ld={},Ls=qo(Ld),qh=qo(Ld),Gh=qo(Ld);function Ra(t){if(t===Ld)throw Error(q(174));return t}function x1(t,e){switch(ct(Gh,e),ct(qh,t),ct(Ls,Ld),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qw(e,t)}wt(Ls),ct(Ls,e)}function Mu(){wt(Ls),wt(qh),wt(Gh)}function cD(t){Ra(Gh.current);var e=Ra(Ls.current),n=Qw(e,t.type);e!==n&&(ct(qh,t),ct(Ls,n))}function b1(t){qh.current===t&&(wt(Ls),wt(qh))}var Nt=qo(0);function Cm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xv=[];function k1(){for(var t=0;t<Xv.length;t++)Xv[t]._workInProgressVersionPrimary=null;Xv.length=0}var Up=Fi.ReactCurrentDispatcher,Jv=Fi.ReactCurrentBatchConfig,Ka=0,Ot=null,Jt=null,on=null,Dm=!1,_h=!1,Kh=0,r4=0;function In(){throw Error(q(321))}function I1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function C1(t,e,n,r,s,i){if(Ka=i,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Up.current=t===null||t.memoizedState===null?a4:l4,t=n(r,s),_h){i=0;do{if(_h=!1,Kh=0,25<=i)throw Error(q(301));i+=1,on=Jt=null,e.updateQueue=null,Up.current=u4,t=n(r,s)}while(_h)}if(Up.current=Nm,e=Jt!==null&&Jt.next!==null,Ka=0,on=Jt=Ot=null,Dm=!1,e)throw Error(q(300));return t}function D1(){var t=Kh!==0;return Kh=0,t}function ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ot.memoizedState=on=t:on=on.next=t,on}function Kr(){if(Jt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=on===null?Ot.memoizedState:on.next;if(e!==null)on=e,Jt=t;else{if(t===null)throw Error(q(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},on===null?Ot.memoizedState=on=t:on=on.next=t}return on}function Qh(t,e){return typeof e=="function"?e(t):e}function Zv(t){var e=Kr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ka&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ot.lanes|=d,Qa|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gs(r,e.memoizedState)||(tr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ot.lanes|=i,Qa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ew(t){var e=Kr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gs(i,e.memoizedState)||(tr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function hD(){}function dD(t,e){var n=Ot,r=Kr(),s=e(),i=!gs(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,N1(mD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,Xh(9,pD.bind(null,n,r,s,e),void 0,null),ln===null)throw Error(q(349));Ka&30||fD(n,e,s)}return s}function fD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pD(t,e,n,r){e.value=n,e.getSnapshot=r,gD(e)&&yD(t)}function mD(t,e,n){return n(function(){gD(e)&&yD(t)})}function gD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function yD(t){var e=Di(t,1);e!==null&&ms(e,t,1,-1)}function Px(t){var e=ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:t},e.queue=t,t=t.dispatch=o4.bind(null,Ot,t),[e.memoizedState,t]}function Xh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vD(){return Kr().memoizedState}function Vp(t,e,n,r){var s=ks();Ot.flags|=t,s.memoizedState=Xh(1|e,n,void 0,r===void 0?null:r)}function Ag(t,e,n,r){var s=Kr();r=r===void 0?null:r;var i=void 0;if(Jt!==null){var o=Jt.memoizedState;if(i=o.destroy,r!==null&&I1(r,o.deps)){s.memoizedState=Xh(e,n,i,r);return}}Ot.flags|=t,s.memoizedState=Xh(1|e,n,i,r)}function Lx(t,e){return Vp(8390656,8,t,e)}function N1(t,e){return Ag(2048,8,t,e)}function wD(t,e){return Ag(4,2,t,e)}function _D(t,e){return Ag(4,4,t,e)}function SD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ED(t,e,n){return n=n!=null?n.concat([t]):null,Ag(4,4,SD.bind(null,e,t),n)}function O1(){}function TD(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xD(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bD(t,e,n){return Ka&21?(gs(n,e)||(n=CC(),Ot.lanes|=n,Qa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function s4(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=Jv.transition;Jv.transition={};try{t(!1),e()}finally{rt=n,Jv.transition=r}}function kD(){return Kr().memoizedState}function i4(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ID(t))CD(e,n);else if(n=sD(t,e,n,r),n!==null){var s=zn();ms(n,t,r,s),DD(n,e,r)}}function o4(t,e,n){var r=Io(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ID(t))CD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gs(a,o)){var l=e.interleaved;l===null?(s.next=s,E1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=sD(t,e,s,r),n!==null&&(s=zn(),ms(n,t,r,s),DD(n,e,r))}}function ID(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function CD(t,e){_h=Dm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l1(t,n)}}var Nm={readContext:Gr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},a4={readContext:Gr,useCallback:function(t,e){return ks().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:Lx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vp(4194308,4,SD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vp(4,2,t,e)},useMemo:function(t,e){var n=ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=i4.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=ks();return t={current:t},e.memoizedState=t},useState:Px,useDebugValue:O1,useDeferredValue:function(t){return ks().memoizedState=t},useTransition:function(){var t=Px(!1),e=t[0];return t=s4.bind(null,t[1]),ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ot,s=ks();if(kt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),ln===null)throw Error(q(349));Ka&30||fD(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Lx(mD.bind(null,r,i,t),[t]),r.flags|=2048,Xh(9,pD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ks(),e=ln.identifierPrefix;if(kt){var n=pi,r=fi;n=(r&~(1<<32-ps(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l4={readContext:Gr,useCallback:TD,useContext:Gr,useEffect:N1,useImperativeHandle:ED,useInsertionEffect:wD,useLayoutEffect:_D,useMemo:xD,useReducer:Zv,useRef:vD,useState:function(){return Zv(Qh)},useDebugValue:O1,useDeferredValue:function(t){var e=Kr();return bD(e,Jt.memoizedState,t)},useTransition:function(){var t=Zv(Qh)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:hD,useSyncExternalStore:dD,useId:kD,unstable_isNewReconciler:!1},u4={readContext:Gr,useCallback:TD,useContext:Gr,useEffect:N1,useImperativeHandle:ED,useInsertionEffect:wD,useLayoutEffect:_D,useMemo:xD,useReducer:ew,useRef:vD,useState:function(){return ew(Qh)},useDebugValue:O1,useDeferredValue:function(t){var e=Kr();return Jt===null?e.memoizedState=t:bD(e,Jt.memoizedState,t)},useTransition:function(){var t=ew(Qh)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:hD,useSyncExternalStore:dD,useId:kD,unstable_isNewReconciler:!1};function Pu(t,e){try{var n="",r=e;do n+=$j(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function w0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var c4=typeof WeakMap=="function"?WeakMap:Map;function ND(t,e,n){n=Si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Am||(Am=!0,D0=r),w0(t,e)},n}function OD(t,e,n){n=Si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){w0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){w0(t,e),typeof r!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $x(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=x4.bind(null,t,e,n),e.then(t,t))}function Fx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Si(-1,1),e.tag=2,bo(n,e,1))),n.lanes|=1),t)}var h4=Fi.ReactCurrentOwner,tr=!1;function jn(t,e,n,r){e.child=t===null?uD(e,null,n,r):Ru(e,t.child,n,r)}function Ux(t,e,n,r,s){n=n.render;var i=e.ref;return wu(e,s),r=C1(t,e,n,r,i,s),n=D1(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ni(t,e,s)):(kt&&n&&g1(e),e.flags|=1,jn(t,e,r,s),e.child)}function Vx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!j1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,AD(t,e,i,r,s)):(t=Wp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zh,n(o,r)&&t.ref===e.ref)return Ni(t,e,s)}return e.flags|=1,t=Co(i,r),t.ref=e.ref,t.return=e,e.child=t}function AD(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zh(i,r)&&t.ref===e.ref)if(tr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,Ni(t,e,s)}return _0(t,e,n,r,s)}function RD(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(hu,gr),gr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(hu,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ct(hu,gr),gr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ct(hu,gr),gr|=r;return jn(t,e,s,n),e.child}function MD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _0(t,e,n,r,s){var i=or(n)?qa:Pn.current;return i=Ou(e,i),wu(e,s),n=C1(t,e,n,r,i,s),r=D1(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ni(t,e,s)):(kt&&r&&g1(e),e.flags|=1,jn(t,e,n,s),e.child)}function Bx(t,e,n,r,s){if(or(n)){var i=!0;Em(e)}else i=!1;if(wu(e,s),e.stateNode===null)Bp(t,e),aD(e,n,r),v0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gr(c):(c=or(n)?qa:Pn.current,c=Ou(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Rx(e,o,r,c),io=!1;var y=e.memoizedState;o.state=y,Im(e,r,o,s),l=e.memoizedState,a!==r||y!==l||ir.current||io?(typeof d=="function"&&(y0(e,n,d,r),l=e.memoizedState),(a=io||Ax(e,n,a,r,y,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ls(e.type,a),o.props=c,p=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gr(l):(l=or(n)?qa:Pn.current,l=Ou(e,l));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==l)&&Rx(e,o,r,l),io=!1,y=e.memoizedState,o.state=y,Im(e,r,o,s);var E=e.memoizedState;a!==p||y!==E||ir.current||io?(typeof _=="function"&&(y0(e,n,_,r),E=e.memoizedState),(c=io||Ax(e,n,c,r,y,E,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return S0(t,e,n,r,i,s)}function S0(t,e,n,r,s,i){MD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ix(e,n,!1),Ni(t,e,i);r=e.stateNode,h4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ru(e,t.child,null,i),e.child=Ru(e,null,a,i)):jn(t,e,a,i),e.memoizedState=r.state,s&&Ix(e,n,!0),e.child}function PD(t){var e=t.stateNode;e.pendingContext?kx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kx(t,e.context,!1),x1(t,e.containerInfo)}function zx(t,e,n,r,s){return Au(),v1(s),e.flags|=256,jn(t,e,n,r),e.child}var E0={dehydrated:null,treeContext:null,retryLane:0};function T0(t){return{baseLanes:t,cachePool:null,transitions:null}}function LD(t,e,n){var r=e.pendingProps,s=Nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ct(Nt,s&1),t===null)return m0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pg(o,r,0,null),t=Va(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=T0(n),e.memoizedState=E0,t):A1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return d4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Co(a,i):(i=Va(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?T0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=E0,r}return i=t.child,t=i.sibling,r=Co(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function A1(t,e){return e=Pg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hp(t,e,n,r){return r!==null&&v1(r),Ru(e,t.child,null,n),t=A1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=tw(Error(q(422))),hp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pg({mode:"visible",children:r.children},s,0,null),i=Va(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ru(e,t.child,null,o),e.child.memoizedState=T0(o),e.memoizedState=E0,i);if(!(e.mode&1))return hp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=tw(i,r,void 0),hp(t,e,o,r)}if(a=(o&t.childLanes)!==0,tr||a){if(r=ln,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Di(t,s),ms(r,t,s,-1))}return F1(),r=tw(Error(q(421))),hp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=b4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vr=xo(s.nextSibling),_r=e,kt=!0,cs=null,t!==null&&(Fr[jr++]=fi,Fr[jr++]=pi,Fr[jr++]=Ga,fi=t.id,pi=t.overflow,Ga=e),e=A1(e,r.children),e.flags|=4096,e)}function Yx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g0(t.return,e,n)}function nw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $D(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jn(t,e,r.children,n),r=Nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yx(t,n,e);else if(t.tag===19)Yx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(Nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nw(e,!0,n,null,i);break;case"together":nw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ni(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f4(t,e,n){switch(e.tag){case 3:PD(e),Au();break;case 5:cD(e);break;case 1:or(e.type)&&Em(e);break;case 4:x1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ct(bm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(Nt,Nt.current&1),e.flags|=128,null):n&e.child.childLanes?LD(t,e,n):(ct(Nt,Nt.current&1),t=Ni(t,e,n),t!==null?t.sibling:null);ct(Nt,Nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $D(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ct(Nt,Nt.current),r)break;return null;case 22:case 23:return e.lanes=0,RD(t,e,n)}return Ni(t,e,n)}var FD,x0,jD,UD;FD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};x0=function(){};jD=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ra(Ls.current);var i=null;switch(n){case"input":s=Hw(t,s),r=Hw(t,r),i=[];break;case"select":s=At({},s,{value:void 0}),r=At({},r,{value:void 0}),i=[];break;case"textarea":s=Kw(t,s),r=Kw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_m)}Xw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};UD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wc(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p4(t,e,n){var r=e.pendingProps;switch(y1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(e),null;case 1:return or(e.type)&&Sm(),Cn(e),null;case 3:return r=e.stateNode,Mu(),wt(ir),wt(Pn),k1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(up(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(A0(cs),cs=null))),x0(t,e),Cn(e),null;case 5:b1(e);var s=Ra(Gh.current);if(n=e.type,t!==null&&e.stateNode!=null)jD(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Cn(e),null}if(t=Ra(Ls.current),up(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Is]=e,r[Hh]=i,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(s=0;s<lh.length;s++)gt(lh[s],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":ZT(r,i),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},gt("invalid",r);break;case"textarea":tx(r,i),gt("invalid",r)}Xw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&lp(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&lp(r.textContent,a,t),s=["children",""+a]):Lh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":ep(r),ex(r,i,!0);break;case"textarea":ep(r),nx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_m)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Is]=e,t[Hh]=r,FD(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jw(n,r),n){case"dialog":gt("cancel",t),gt("close",t),s=r;break;case"iframe":case"object":case"embed":gt("load",t),s=r;break;case"video":case"audio":for(s=0;s<lh.length;s++)gt(lh[s],t);s=r;break;case"source":gt("error",t),s=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),s=r;break;case"details":gt("toggle",t),s=r;break;case"input":ZT(t,r),s=Hw(t,r),gt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=At({},r,{value:void 0}),gt("invalid",t);break;case"textarea":tx(t,r),s=Kw(t,r),gt("invalid",t);break;default:s=r}Xw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$h(t,l):typeof l=="number"&&$h(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&gt("scroll",t):l!=null&&n1(t,i,l,o))}switch(n){case"input":ep(t),ex(t,r,!1);break;case"textarea":ep(t),nx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ao(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?mu(t,!!r.multiple,i,!1):r.defaultValue!=null&&mu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_m)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cn(e),null;case 6:if(t&&e.stateNode!=null)UD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Ra(Gh.current),Ra(Ls.current),up(e)){if(r=e.stateNode,n=e.memoizedProps,r[Is]=e,(i=r.nodeValue!==n)&&(t=_r,t!==null))switch(t.tag){case 3:lp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Is]=e,e.stateNode=r}return Cn(e),null;case 13:if(wt(Nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&vr!==null&&e.mode&1&&!(e.flags&128))rD(),Au(),e.flags|=98560,i=!1;else if(i=up(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Is]=e}else Au(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cn(e),i=!1}else cs!==null&&(A0(cs),cs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Nt.current&1?Zt===0&&(Zt=3):F1())),e.updateQueue!==null&&(e.flags|=4),Cn(e),null);case 4:return Mu(),x0(t,e),t===null&&Yh(e.stateNode.containerInfo),Cn(e),null;case 10:return S1(e.type._context),Cn(e),null;case 17:return or(e.type)&&Sm(),Cn(e),null;case 19:if(wt(Nt),i=e.memoizedState,i===null)return Cn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wc(i,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cm(t),o!==null){for(e.flags|=128,Wc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(Nt,Nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Bt()>Lu&&(e.flags|=128,r=!0,Wc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!kt)return Cn(e),null}else 2*Bt()-i.renderingStartTime>Lu&&n!==1073741824&&(e.flags|=128,r=!0,Wc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Bt(),e.sibling=null,n=Nt.current,ct(Nt,r?n&1|2:n&1),e):(Cn(e),null);case 22:case 23:return $1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gr&1073741824&&(Cn(e),e.subtreeFlags&6&&(e.flags|=8192)):Cn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function m4(t,e){switch(y1(e),e.tag){case 1:return or(e.type)&&Sm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mu(),wt(ir),wt(Pn),k1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return b1(e),null;case 13:if(wt(Nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Au()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Nt),null;case 4:return Mu(),null;case 10:return S1(e.type._context),null;case 22:case 23:return $1(),null;case 24:return null;default:return null}}var dp=!1,Nn=!1,g4=typeof WeakSet=="function"?WeakSet:Set,oe=null;function cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function b0(t,e,n){try{n()}catch(r){$t(t,e,r)}}var Wx=!1;function y4(t,e){if(l0=ym,t=YC(),m1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,p=t,y=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)y=p,p=_;for(;;){if(p===t)break t;if(y===n&&++c===s&&(a=o),y===i&&++d===r&&(l=o),(_=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u0={focusedElem:t,selectionRange:n},ym=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var x=E.memoizedProps,I=E.memoizedState,b=e.stateNode,T=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:ls(e.type,x),I);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(D){$t(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return E=Wx,Wx=!1,E}function Sh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&b0(e,n,i)}s=s.next}while(s!==r)}}function Rg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function k0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VD(t){var e=t.alternate;e!==null&&(t.alternate=null,VD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Is],delete e[Hh],delete e[d0],delete e[ZU],delete e[e4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BD(t){return t.tag===5||t.tag===3||t.tag===4}function Hx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_m));else if(r!==4&&(t=t.child,t!==null))for(I0(t,e,n),t=t.sibling;t!==null;)I0(t,e,n),t=t.sibling}function C0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(C0(t,e,n),t=t.sibling;t!==null;)C0(t,e,n),t=t.sibling}var yn=null,us=!1;function Xi(t,e,n){for(n=n.child;n!==null;)zD(t,e,n),n=n.sibling}function zD(t,e,n){if(Ps&&typeof Ps.onCommitFiberUnmount=="function")try{Ps.onCommitFiberUnmount(bg,n)}catch{}switch(n.tag){case 5:Nn||cu(n,e);case 6:var r=yn,s=us;yn=null,Xi(t,e,n),yn=r,us=s,yn!==null&&(us?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(us?(t=yn,n=n.stateNode,t.nodeType===8?Kv(t.parentNode,n):t.nodeType===1&&Kv(t,n),Vh(t)):Kv(yn,n.stateNode));break;case 4:r=yn,s=us,yn=n.stateNode.containerInfo,us=!0,Xi(t,e,n),yn=r,us=s;break;case 0:case 11:case 14:case 15:if(!Nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&b0(n,e,o),s=s.next}while(s!==r)}Xi(t,e,n);break;case 1:if(!Nn&&(cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$t(n,e,a)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(Nn=(r=Nn)||n.memoizedState!==null,Xi(t,e,n),Nn=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function qx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g4),e.forEach(function(r){var s=k4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function as(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yn=a.stateNode,us=!1;break e;case 3:yn=a.stateNode.containerInfo,us=!0;break e;case 4:yn=a.stateNode.containerInfo,us=!0;break e}a=a.return}if(yn===null)throw Error(q(160));zD(i,o,s),yn=null,us=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){$t(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YD(e,t),e=e.sibling}function YD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(as(e,t),xs(t),r&4){try{Sh(3,t,t.return),Rg(3,t)}catch(x){$t(t,t.return,x)}try{Sh(5,t,t.return)}catch(x){$t(t,t.return,x)}}break;case 1:as(e,t),xs(t),r&512&&n!==null&&cu(n,n.return);break;case 5:if(as(e,t),xs(t),r&512&&n!==null&&cu(n,n.return),t.flags&32){var s=t.stateNode;try{$h(s,"")}catch(x){$t(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hC(s,i),Jw(a,o);var c=Jw(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?gC(s,p):d==="dangerouslySetInnerHTML"?pC(s,p):d==="children"?$h(s,p):n1(s,d,p,c)}switch(a){case"input":qw(s,i);break;case"textarea":dC(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?mu(s,!!i.multiple,_,!1):y!==!!i.multiple&&(i.defaultValue!=null?mu(s,!!i.multiple,i.defaultValue,!0):mu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hh]=i}catch(x){$t(t,t.return,x)}}break;case 6:if(as(e,t),xs(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){$t(t,t.return,x)}}break;case 3:if(as(e,t),xs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vh(e.containerInfo)}catch(x){$t(t,t.return,x)}break;case 4:as(e,t),xs(t);break;case 13:as(e,t),xs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(P1=Bt())),r&4&&qx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nn=(c=Nn)||d,as(e,t),Nn=c):as(e,t),xs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(p=oe=d;oe!==null;){switch(y=oe,_=y.child,y.tag){case 0:case 11:case 14:case 15:Sh(4,y,y.return);break;case 1:cu(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(x){$t(r,n,x)}}break;case 5:cu(y,y.return);break;case 22:if(y.memoizedState!==null){Kx(p);continue}}_!==null?(_.return=y,oe=_):Kx(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mC("display",o))}catch(x){$t(t,t.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){$t(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:as(e,t),xs(t),r&4&&qx(t);break;case 21:break;default:as(e,t),xs(t)}}function xs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BD(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($h(s,""),r.flags&=-33);var i=Hx(t);C0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hx(t);I0(t,a,o);break;default:throw Error(q(161))}}catch(l){$t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v4(t,e,n){oe=t,WD(t)}function WD(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Nn;a=dp;var c=Nn;if(dp=o,(Nn=l)&&!c)for(oe=s;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?Qx(s):l!==null?(l.return=o,oe=l):Qx(s);for(;i!==null;)oe=i,WD(i),i=i.sibling;oe=s,dp=a,Nn=c}Gx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):Gx(t)}}function Gx(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nn||Rg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ls(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ox(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ox(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Vh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Nn||e.flags&512&&k0(e)}catch(y){$t(e,e.return,y)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Kx(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Qx(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rg(4,e)}catch(l){$t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){$t(e,s,l)}}var i=e.return;try{k0(e)}catch(l){$t(e,i,l)}break;case 5:var o=e.return;try{k0(e)}catch(l){$t(e,o,l)}}}catch(l){$t(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var w4=Math.ceil,Om=Fi.ReactCurrentDispatcher,R1=Fi.ReactCurrentOwner,Wr=Fi.ReactCurrentBatchConfig,qe=0,ln=null,Gt=null,Sn=0,gr=0,hu=qo(0),Zt=0,Jh=null,Qa=0,Mg=0,M1=0,Eh=null,er=null,P1=0,Lu=1/0,li=null,Am=!1,D0=null,ko=null,fp=!1,go=null,Rm=0,Th=0,N0=null,zp=-1,Yp=0;function zn(){return qe&6?Bt():zp!==-1?zp:zp=Bt()}function Io(t){return t.mode&1?qe&2&&Sn!==0?Sn&-Sn:n4.transition!==null?(Yp===0&&(Yp=CC()),Yp):(t=rt,t!==0||(t=window.event,t=t===void 0?16:PC(t.type)),t):1}function ms(t,e,n,r){if(50<Th)throw Th=0,N0=null,Error(q(185));Rd(t,n,r),(!(qe&2)||t!==ln)&&(t===ln&&(!(qe&2)&&(Mg|=n),Zt===4&&lo(t,Sn)),ar(t,r),n===1&&qe===0&&!(e.mode&1)&&(Lu=Bt()+500,Ng&&Go()))}function ar(t,e){var n=t.callbackNode;nU(t,e);var r=gm(t,t===ln?Sn:0);if(r===0)n!==null&&ix(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ix(n),e===1)t.tag===0?t4(Xx.bind(null,t)):eD(Xx.bind(null,t)),XU(function(){!(qe&6)&&Go()}),n=null;else{switch(DC(r)){case 1:n=a1;break;case 4:n=kC;break;case 16:n=mm;break;case 536870912:n=IC;break;default:n=mm}n=ZD(n,HD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HD(t,e){if(zp=-1,Yp=0,qe&6)throw Error(q(327));var n=t.callbackNode;if(_u()&&t.callbackNode!==n)return null;var r=gm(t,t===ln?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mm(t,r);else{e=r;var s=qe;qe|=2;var i=GD();(ln!==t||Sn!==e)&&(li=null,Lu=Bt()+500,Ua(t,e));do try{E4();break}catch(a){qD(t,a)}while(1);_1(),Om.current=i,qe=s,Gt!==null?e=0:(ln=null,Sn=0,e=Zt)}if(e!==0){if(e===2&&(s=r0(t),s!==0&&(r=s,e=O0(t,s))),e===1)throw n=Jh,Ua(t,0),lo(t,r),ar(t,Bt()),n;if(e===6)lo(t,r);else{if(s=t.current.alternate,!(r&30)&&!_4(s)&&(e=Mm(t,r),e===2&&(i=r0(t),i!==0&&(r=i,e=O0(t,i))),e===1))throw n=Jh,Ua(t,0),lo(t,r),ar(t,Bt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:_a(t,er,li);break;case 3:if(lo(t,r),(r&130023424)===r&&(e=P1+500-Bt(),10<e)){if(gm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=h0(_a.bind(null,t,er,li),e);break}_a(t,er,li);break;case 4:if(lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ps(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w4(r/1960))-r,10<r){t.timeoutHandle=h0(_a.bind(null,t,er,li),r);break}_a(t,er,li);break;case 5:_a(t,er,li);break;default:throw Error(q(329))}}}return ar(t,Bt()),t.callbackNode===n?HD.bind(null,t):null}function O0(t,e){var n=Eh;return t.current.memoizedState.isDehydrated&&(Ua(t,e).flags|=256),t=Mm(t,e),t!==2&&(e=er,er=n,e!==null&&A0(e)),t}function A0(t){er===null?er=t:er.push.apply(er,t)}function _4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lo(t,e){for(e&=~M1,e&=~Mg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ps(e),r=1<<n;t[n]=-1,e&=~r}}function Xx(t){if(qe&6)throw Error(q(327));_u();var e=gm(t,0);if(!(e&1))return ar(t,Bt()),null;var n=Mm(t,e);if(t.tag!==0&&n===2){var r=r0(t);r!==0&&(e=r,n=O0(t,r))}if(n===1)throw n=Jh,Ua(t,0),lo(t,e),ar(t,Bt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_a(t,er,li),ar(t,Bt()),null}function L1(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Lu=Bt()+500,Ng&&Go())}}function Xa(t){go!==null&&go.tag===0&&!(qe&6)&&_u();var e=qe;qe|=1;var n=Wr.transition,r=rt;try{if(Wr.transition=null,rt=1,t)return t()}finally{rt=r,Wr.transition=n,qe=e,!(qe&6)&&Go()}}function $1(){gr=hu.current,wt(hu)}function Ua(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QU(n)),Gt!==null)for(n=Gt.return;n!==null;){var r=n;switch(y1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sm();break;case 3:Mu(),wt(ir),wt(Pn),k1();break;case 5:b1(r);break;case 4:Mu();break;case 13:wt(Nt);break;case 19:wt(Nt);break;case 10:S1(r.type._context);break;case 22:case 23:$1()}n=n.return}if(ln=t,Gt=t=Co(t.current,null),Sn=gr=e,Zt=0,Jh=null,M1=Mg=Qa=0,er=Eh=null,Aa!==null){for(e=0;e<Aa.length;e++)if(n=Aa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Aa=null}return t}function qD(t,e){do{var n=Gt;try{if(_1(),Up.current=Nm,Dm){for(var r=Ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dm=!1}if(Ka=0,on=Jt=Ot=null,_h=!1,Kh=0,R1.current=null,n===null||n.return===null){Zt=1,Jh=e,Gt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Fx(o);if(_!==null){_.flags&=-257,jx(_,o,a,i,e),_.mode&1&&$x(i,c,e),e=_,l=c;var E=e.updateQueue;if(E===null){var x=new Set;x.add(l),e.updateQueue=x}else E.add(l);break e}else{if(!(e&1)){$x(i,c,e),F1();break e}l=Error(q(426))}}else if(kt&&a.mode&1){var I=Fx(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),jx(I,o,a,i,e),v1(Pu(l,a));break e}}i=l=Pu(l,a),Zt!==4&&(Zt=2),Eh===null?Eh=[i]:Eh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=ND(i,l,e);Nx(i,b);break e;case 1:a=l;var T=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ko===null||!ko.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=OD(i,a,e);Nx(i,D);break e}}i=i.return}while(i!==null)}QD(n)}catch(R){e=R,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(1)}function GD(){var t=Om.current;return Om.current=Nm,t===null?Nm:t}function F1(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),ln===null||!(Qa&268435455)&&!(Mg&268435455)||lo(ln,Sn)}function Mm(t,e){var n=qe;qe|=2;var r=GD();(ln!==t||Sn!==e)&&(li=null,Ua(t,e));do try{S4();break}catch(s){qD(t,s)}while(1);if(_1(),qe=n,Om.current=r,Gt!==null)throw Error(q(261));return ln=null,Sn=0,Zt}function S4(){for(;Gt!==null;)KD(Gt)}function E4(){for(;Gt!==null&&!qj();)KD(Gt)}function KD(t){var e=JD(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?QD(t):Gt=e,R1.current=null}function QD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m4(n,e),n!==null){n.flags&=32767,Gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Gt=null;return}}else if(n=p4(n,e,gr),n!==null){Gt=n;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);Zt===0&&(Zt=5)}function _a(t,e,n){var r=rt,s=Wr.transition;try{Wr.transition=null,rt=1,T4(t,e,n,r)}finally{Wr.transition=s,rt=r}return null}function T4(t,e,n,r){do _u();while(go!==null);if(qe&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rU(t,i),t===ln&&(Gt=ln=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fp||(fp=!0,ZD(mm,function(){return _u(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wr.transition,Wr.transition=null;var o=rt;rt=1;var a=qe;qe|=4,R1.current=null,y4(t,n),YD(n,t),zU(u0),ym=!!l0,u0=l0=null,t.current=n,v4(n),Gj(),qe=a,rt=o,Wr.transition=i}else t.current=n;if(fp&&(fp=!1,go=t,Rm=s),i=t.pendingLanes,i===0&&(ko=null),Xj(n.stateNode),ar(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Am)throw Am=!1,t=D0,D0=null,t;return Rm&1&&t.tag!==0&&_u(),i=t.pendingLanes,i&1?t===N0?Th++:(Th=0,N0=t):Th=0,Go(),null}function _u(){if(go!==null){var t=DC(Rm),e=Wr.transition,n=rt;try{if(Wr.transition=null,rt=16>t?16:t,go===null)var r=!1;else{if(t=go,go=null,Rm=0,qe&6)throw Error(q(331));var s=qe;for(qe|=4,oe=t.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Sh(8,d,i)}var p=d.child;if(p!==null)p.return=d,oe=p;else for(;oe!==null;){d=oe;var y=d.sibling,_=d.return;if(VD(d),d===c){oe=null;break}if(y!==null){y.return=_,oe=y;break}oe=_}}}var E=i.alternate;if(E!==null){var x=E.child;if(x!==null){E.child=null;do{var I=x.sibling;x.sibling=null,x=I}while(x!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,oe=b;break e}oe=i.return}}var T=t.current;for(oe=T;oe!==null;){o=oe;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,oe=k;else e:for(o=T;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rg(9,a)}}catch(R){$t(a,a.return,R)}if(a===o){oe=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,oe=D;break e}oe=a.return}}if(qe=s,Go(),Ps&&typeof Ps.onPostCommitFiberRoot=="function")try{Ps.onPostCommitFiberRoot(bg,t)}catch{}r=!0}return r}finally{rt=n,Wr.transition=e}}return!1}function Jx(t,e,n){e=Pu(n,e),e=ND(t,e,1),t=bo(t,e,1),e=zn(),t!==null&&(Rd(t,1,e),ar(t,e))}function $t(t,e,n){if(t.tag===3)Jx(t,t,n);else for(;e!==null;){if(e.tag===3){Jx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ko===null||!ko.has(r))){t=Pu(n,t),t=OD(e,t,1),e=bo(e,t,1),t=zn(),e!==null&&(Rd(e,1,t),ar(e,t));break}}e=e.return}}function x4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zn(),t.pingedLanes|=t.suspendedLanes&n,ln===t&&(Sn&n)===n&&(Zt===4||Zt===3&&(Sn&130023424)===Sn&&500>Bt()-P1?Ua(t,0):M1|=n),ar(t,e)}function XD(t,e){e===0&&(t.mode&1?(e=rp,rp<<=1,!(rp&130023424)&&(rp=4194304)):e=1);var n=zn();t=Di(t,e),t!==null&&(Rd(t,e,n),ar(t,n))}function b4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XD(t,n)}function k4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),XD(t,n)}var JD;JD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,f4(t,e,n);tr=!!(t.flags&131072)}else tr=!1,kt&&e.flags&1048576&&tD(e,xm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bp(t,e),t=e.pendingProps;var s=Ou(e,Pn.current);wu(e,n),s=C1(null,e,r,t,s,n);var i=D1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,or(r)?(i=!0,Em(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,T1(e),s.updater=Og,e.stateNode=s,s._reactInternals=e,v0(e,r,t,n),e=S0(null,e,r,!0,i,n)):(e.tag=0,kt&&i&&g1(e),jn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=C4(r),t=ls(r,t),s){case 0:e=_0(null,e,r,t,n);break e;case 1:e=Bx(null,e,r,t,n);break e;case 11:e=Ux(null,e,r,t,n);break e;case 14:e=Vx(null,e,r,ls(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),_0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),Bx(t,e,r,s,n);case 3:e:{if(PD(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,iD(t,e),Im(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pu(Error(q(423)),e),e=zx(t,e,r,n,s);break e}else if(r!==s){s=Pu(Error(q(424)),e),e=zx(t,e,r,n,s);break e}else for(vr=xo(e.stateNode.containerInfo.firstChild),_r=e,kt=!0,cs=null,n=uD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Au(),r===s){e=Ni(t,e,n);break e}jn(t,e,r,n)}e=e.child}return e;case 5:return cD(e),t===null&&m0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,c0(r,s)?o=null:i!==null&&c0(r,i)&&(e.flags|=32),MD(t,e),jn(t,e,o,n),e.child;case 6:return t===null&&m0(e),null;case 13:return LD(t,e,n);case 4:return x1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ru(e,null,r,n):jn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),Ux(t,e,r,s,n);case 7:return jn(t,e,e.pendingProps,n),e.child;case 8:return jn(t,e,e.pendingProps.children,n),e.child;case 12:return jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ct(bm,r._currentValue),r._currentValue=o,i!==null)if(gs(i.value,o)){if(i.children===s.children&&!ir.current){e=Ni(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Si(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),g0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),g0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wu(e,n),s=Gr(s),r=r(s),e.flags|=1,jn(t,e,r,n),e.child;case 14:return r=e.type,s=ls(r,e.pendingProps),s=ls(r.type,s),Vx(t,e,r,s,n);case 15:return AD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ls(r,s),Bp(t,e),e.tag=1,or(r)?(t=!0,Em(e)):t=!1,wu(e,n),aD(e,r,s),v0(e,r,s,n),S0(null,e,r,!0,t,n);case 19:return $D(t,e,n);case 22:return RD(t,e,n)}throw Error(q(156,e.tag))};function ZD(t,e){return bC(t,e)}function I4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,n,r){return new I4(t,e,n,r)}function j1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C4(t){if(typeof t=="function")return j1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===s1)return 11;if(t===i1)return 14}return 2}function Co(t,e){var n=t.alternate;return n===null?(n=zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")j1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tu:return Va(n.children,s,i,e);case r1:o=8,s|=8;break;case Bw:return t=zr(12,n,e,s|2),t.elementType=Bw,t.lanes=i,t;case zw:return t=zr(13,n,e,s),t.elementType=zw,t.lanes=i,t;case Yw:return t=zr(19,n,e,s),t.elementType=Yw,t.lanes=i,t;case lC:return Pg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oC:o=10;break e;case aC:o=9;break e;case s1:o=11;break e;case i1:o=14;break e;case so:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=zr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Va(t,e,n,r){return t=zr(7,t,r,e),t.lanes=n,t}function Pg(t,e,n,r){return t=zr(22,t,r,e),t.elementType=lC,t.lanes=n,t.stateNode={isHidden:!1},t}function rw(t,e,n){return t=zr(6,t,null,e),t.lanes=n,t}function sw(t,e,n){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fv(0),this.expirationTimes=Fv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function U1(t,e,n,r,s,i,o,a,l){return t=new D4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T1(i),t}function N4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eN(t){if(!t)return Ro;t=t._reactInternals;e:{if(dl(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(or(n))return ZC(t,n,e)}return e}function tN(t,e,n,r,s,i,o,a,l){return t=U1(n,r,!0,t,s,i,o,a,l),t.context=eN(null),n=t.current,r=zn(),s=Io(n),i=Si(r,s),i.callback=e??null,bo(n,i,s),t.current.lanes=s,Rd(t,s,r),ar(t,r),t}function Lg(t,e,n,r){var s=e.current,i=zn(),o=Io(s);return n=eN(n),e.context===null?e.context=n:e.pendingContext=n,e=Si(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bo(s,e,o),t!==null&&(ms(t,s,o,i),jp(t,s,o)),o}function Pm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V1(t,e){Zx(t,e),(t=t.alternate)&&Zx(t,e)}function O4(){return null}var nN=typeof reportError=="function"?reportError:function(t){console.error(t)};function B1(t){this._internalRoot=t}$g.prototype.render=B1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Lg(t,e,null,null)};$g.prototype.unmount=B1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xa(function(){Lg(null,t,null,null)}),e[Ci]=null}};function $g(t){this._internalRoot=t}$g.prototype.unstable_scheduleHydration=function(t){if(t){var e=AC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ao.length&&e!==0&&e<ao[n].priority;n++);ao.splice(n,0,t),n===0&&MC(t)}};function z1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eb(){}function A4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Pm(o);i.call(c)}}var o=tN(e,r,t,0,null,!1,!1,"",eb);return t._reactRootContainer=o,t[Ci]=o.current,Yh(t.nodeType===8?t.parentNode:t),Xa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Pm(l);a.call(c)}}var l=U1(t,0,!1,null,null,!1,!1,"",eb);return t._reactRootContainer=l,t[Ci]=l.current,Yh(t.nodeType===8?t.parentNode:t),Xa(function(){Lg(e,l,n,r)}),l}function jg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Pm(o);a.call(l)}}Lg(e,o,t,s)}else o=A4(n,e,t,s,r);return Pm(o)}NC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ah(e.pendingLanes);n!==0&&(l1(e,n|1),ar(e,Bt()),!(qe&6)&&(Lu=Bt()+500,Go()))}break;case 13:Xa(function(){var r=Di(t,1);if(r!==null){var s=zn();ms(r,t,1,s)}}),V1(t,1)}};u1=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=zn();ms(e,t,134217728,n)}V1(t,134217728)}};OC=function(t){if(t.tag===13){var e=Io(t),n=Di(t,e);if(n!==null){var r=zn();ms(n,t,e,r)}V1(t,e)}};AC=function(){return rt};RC=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};e0=function(t,e,n){switch(e){case"input":if(qw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Dg(r);if(!s)throw Error(q(90));cC(r),qw(r,s)}}}break;case"textarea":dC(t,n);break;case"select":e=n.value,e!=null&&mu(t,!!n.multiple,e,!1)}};wC=L1;_C=Xa;var R4={usingClientEntryPoint:!1,Events:[Pd,iu,Dg,yC,vC,L1]},Hc={findFiberByHostInstance:Oa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M4={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TC(t),t===null?null:t.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pp.isDisabled&&pp.supportsFiber)try{bg=pp.inject(M4),Ps=pp}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R4;Ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z1(e))throw Error(q(200));return N4(t,e,null,n)};Ir.createRoot=function(t,e){if(!z1(t))throw Error(q(299));var n=!1,r="",s=nN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=U1(t,1,!1,null,null,n,!1,r,s),t[Ci]=e.current,Yh(t.nodeType===8?t.parentNode:t),new B1(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=TC(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return Xa(t)};Ir.hydrate=function(t,e,n){if(!Fg(e))throw Error(q(200));return jg(null,t,e,!0,n)};Ir.hydrateRoot=function(t,e,n){if(!z1(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tN(e,null,t,1,n??null,s,!1,i,o),t[Ci]=e.current,Yh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $g(e)};Ir.render=function(t,e,n){if(!Fg(e))throw Error(q(200));return jg(null,t,e,!1,n)};Ir.unmountComponentAtNode=function(t){if(!Fg(t))throw Error(q(40));return t._reactRootContainer?(Xa(function(){jg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};Ir.unstable_batchedUpdates=L1;Ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fg(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return jg(t,e,n,!1,r)};Ir.version="18.2.0-next-9e3b772b8-20220608";function rN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rN)}catch(t){console.error(t)}}rN(),tC.exports=Ir;var sN=tC.exports;const du=Od(sN);var tb=sN;Uw.createRoot=tb.createRoot,Uw.hydrateRoot=tb.hydrateRoot;const P4="/assets/logo-hamburguer-0ef39555.png";/**
 * @remix-run/router v1.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}var yo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yo||(yo={}));const nb="popstate";function L4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return R0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Lm(s)}return F4(e,n,null,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $4(){return Math.random().toString(36).substr(2,8)}function rb(t,e){return{usr:t.state,key:t.key,idx:e}}function R0(t,e,n,r){return n===void 0&&(n=null),Zh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oc(e):e,{state:n,key:e&&e.key||r||$4()})}function Lm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function F4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=yo.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Zh({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=yo.Pop;let I=d(),b=I==null?null:I-c;c=I,l&&l({action:a,location:x.location,delta:b})}function y(I,b){a=yo.Push;let T=R0(x.location,I,b);n&&n(T,I),c=d()+1;let k=rb(T,c),D=x.createHref(T);try{o.pushState(k,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(D)}i&&l&&l({action:a,location:x.location,delta:1})}function _(I,b){a=yo.Replace;let T=R0(x.location,I,b);n&&n(T,I),c=d();let k=rb(T,c),D=x.createHref(T);o.replaceState(k,"",D),i&&l&&l({action:a,location:x.location,delta:0})}function E(I){let b=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof I=="string"?I:Lm(I);return Kt(b,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,b)}let x={get action(){return a},get location(){return t(s,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(nb,p),l=I,()=>{s.removeEventListener(nb,p),l=null}},createHref(I){return e(s,I)},createURL:E,encodeLocation(I){let b=E(I);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:_,go(I){return o.go(I)}};return x}var sb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sb||(sb={}));function j4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?oc(e):e,s=W1(r.pathname||"/",n);if(s==null)return null;let i=iN(t);U4(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=K4(i[a],J4(s));return o}function iN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Kt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Do([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iN(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:q4(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of oN(i.path))s(i,o,l)}),e}function oN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=oN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function U4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V4=/^:\w+$/,B4=3,z4=2,Y4=1,W4=10,H4=-2,ib=t=>t==="*";function q4(t,e){let n=t.split("/"),r=n.length;return n.some(ib)&&(r+=H4),e&&(r+=z4),n.filter(s=>!ib(s)).reduce((s,i)=>s+(V4.test(i)?B4:i===""?Y4:W4),r)}function G4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function K4(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Q4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let p=a.route;i.push({params:r,pathname:Do([s,d.pathname]),pathnameBase:nV(Do([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Do([s,d.pathnameBase]))}return i}function Q4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,p)=>{if(d==="*"){let y=a[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}return c[d]=Z4(a[p]||"",d),c},{}),pathname:i,pathnameBase:o,pattern:t}}function X4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Y1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function J4(t){try{return decodeURI(t)}catch(e){return Y1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Z4(t,e){try{return decodeURIComponent(t)}catch(n){return Y1(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function W1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?oc(t):t;return{pathname:n?n.startsWith("/")?n:tV(n,e):e,search:rV(r),hash:sV(s)}}function tV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function iw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=oc(t):(s=Zh({},t),Kt(!s.pathname||!s.pathname.includes("?"),iw("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),iw("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),iw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let p=e.length-1;if(o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}a=p>=0?e[p]:"/"}let l=eV(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Do=t=>t.join("/").replace(/\/\/+/g,"/"),nV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uN=["post","put","patch","delete"];new Set(uN);const oV=["get",...uN];new Set(oV);/**
 * React Router v6.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}const H1=C.createContext(null),aV=C.createContext(null),ac=C.createContext(null),Ug=C.createContext(null),fl=C.createContext({outlet:null,matches:[],isDataRoute:!1}),cN=C.createContext(null);function lV(t,e){let{relative:n}=e===void 0?{}:e;$d()||Kt(!1);let{basename:r,navigator:s}=C.useContext(ac),{hash:i,pathname:o,search:a}=dN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Do([r,o])),s.createHref({pathname:l,search:a,hash:i})}function $d(){return C.useContext(Ug)!=null}function Vg(){return $d()||Kt(!1),C.useContext(Ug).location}function hN(t){C.useContext(ac).static||C.useLayoutEffect(t)}function uV(){let{isDataRoute:t}=C.useContext(fl);return t?EV():cV()}function cV(){$d()||Kt(!1);let t=C.useContext(H1),{basename:e,navigator:n}=C.useContext(ac),{matches:r}=C.useContext(fl),{pathname:s}=Vg(),i=JSON.stringify(aN(r).map(l=>l.pathnameBase)),o=C.useRef(!1);return hN(()=>{o.current=!0}),C.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=lN(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Do([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}function dN(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(fl),{pathname:s}=Vg(),i=JSON.stringify(aN(r).map(o=>o.pathnameBase));return C.useMemo(()=>lN(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function hV(t,e){return dV(t,e)}function dV(t,e,n){$d()||Kt(!1);let{navigator:r}=C.useContext(ac),{matches:s}=C.useContext(fl),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Vg(),c;if(e){var d;let x=typeof e=="string"?oc(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||Kt(!1),c=x}else c=l;let p=c.pathname||"/",y=a==="/"?p:p.slice(a.length)||"/",_=j4(t,{pathname:y}),E=yV(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Do([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Do([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n);return e&&E?C.createElement(Ug.Provider,{value:{location:$m({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:yo.Pop}},E):E}function fV(){let t=SV(),e=iV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,i)}const pV=C.createElement(fV,null);class mV extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(fl.Provider,{value:this.props.routeContext},C.createElement(cN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gV(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(H1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(fl.Provider,{value:e},r)}function yV(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Kt(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,p=null;n&&(p=l.route.errorElement||pV);let y=e.concat(i.slice(0,c+1)),_=()=>{let E;return d?E=p:l.route.Component?E=C.createElement(l.route.Component,null):l.route.element?E=l.route.element:E=a,C.createElement(gV,{match:l,routeContext:{outlet:a,matches:y,isDataRoute:n!=null},children:E})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?C.createElement(mV,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var M0;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(M0||(M0={}));var ed;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(ed||(ed={}));function vV(t){let e=C.useContext(H1);return e||Kt(!1),e}function wV(t){let e=C.useContext(aV);return e||Kt(!1),e}function _V(t){let e=C.useContext(fl);return e||Kt(!1),e}function fN(t){let e=_V(),n=e.matches[e.matches.length-1];return n.route.id||Kt(!1),n.route.id}function SV(){var t;let e=C.useContext(cN),n=wV(ed.UseRouteError),r=fN(ed.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function EV(){let{router:t}=vV(M0.UseNavigateStable),e=fN(ed.UseNavigateStable),n=C.useRef(!1);return hN(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$m({fromRouteId:e},i)))},[t,e])}function Gl(t){Kt(!1)}function TV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=yo.Pop,navigator:i,static:o=!1}=t;$d()&&Kt(!1);let a=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=oc(r));let{pathname:c="/",search:d="",hash:p="",state:y=null,key:_="default"}=r,E=C.useMemo(()=>{let x=W1(c,a);return x==null?null:{location:{pathname:x,search:d,hash:p,state:y,key:_},navigationType:s}},[a,c,d,p,y,_,s]);return E==null?null:C.createElement(ac.Provider,{value:l},C.createElement(Ug.Provider,{children:n,value:E}))}function xV(t){let{children:e,location:n}=t;return hV(P0(e),n)}var ob;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(ob||(ob={}));new Promise(()=>{});function P0(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,P0(r.props.children,i));return}r.type!==Gl&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=P0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function bV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function kV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IV(t,e){return t.button===0&&(!e||e==="_self")&&!kV(t)}const CV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],DV="startTransition",ab=bj[DV];function NV(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=L4({window:s,v5Compat:!0}));let o=i.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=C.useCallback(p=>{c&&ab?ab(()=>l(p)):l(p)},[l,c]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(TV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const OV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ro=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,p=bV(e,CV),{basename:y}=C.useContext(ac),_,E=!1;if(typeof c=="string"&&AV.test(c)&&(_=c,OV))try{let T=new URL(window.location.href),k=c.startsWith("//")?new URL(T.protocol+c):new URL(c),D=W1(k.pathname,y);k.origin===T.origin&&D!=null?c=D+k.search+k.hash:E=!0}catch{}let x=lV(c,{relative:s}),I=RV(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function b(T){r&&r(T),T.defaultPrevented||I(T)}return C.createElement("a",L0({},p,{href:_||x,onClick:E||i?r:b,ref:n,target:l}))});var lb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(lb||(lb={}));var ub;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ub||(ub={}));function RV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=uV(),l=Vg(),c=dN(t,{relative:o});return C.useCallback(d=>{if(IV(d,n)){d.preventDefault();let p=r!==void 0?r:Lm(l)===Lm(c);a(t,{replace:p,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}var pN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)e.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(pN);var MV=pN.exports;const be=Od(MV),PV=["xxl","xl","lg","md","sm","xs"],LV="xs",Bg=C.createContext({prefixes:{},breakpoints:PV,minBreakpoint:LV});function Be(t,e){const{prefixes:n}=C.useContext(Bg);return t||n[e]||e}function mN(){const{breakpoints:t}=C.useContext(Bg);return t}function gN(){const{minBreakpoint:t}=C.useContext(Bg);return t}function $V(){const{dir:t}=C.useContext(Bg);return t==="rtl"}const yN=C.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...s},i)=>{const o=Be(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return v.jsx(n,{ref:i,...s,className:be(r,e?`${o}${a}`:o)})});yN.displayName="Container";const Fd=yN;var cb={exports:{}},$0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function s(o,a,l,c,d,p){var y=c||"<<anonymous>>",_=p||l;if(a[l]==null)return o?new Error("Required "+d+" `"+_+"` was not specified "+("in `"+y+"`.")):null;for(var E=arguments.length,x=Array(E>6?E-6:0),I=6;I<E;I++)x[I-6]=arguments[I];return r.apply(void 0,[a,l,y,d,_].concat(x))}var i=s.bind(null,!1);return i.isRequired=s.bind(null,!0),i}t.exports=e.default})($0,$0.exports);var FV=$0.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=FV,r=s(n);function s(o){return o&&o.__esModule?o:{default:o}}function i(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function c(){for(var d=arguments.length,p=Array(d),y=0;y<d;y++)p[y]=arguments[y];var _=null;return a.forEach(function(E){if(_==null){var x=E.apply(void 0,p);x!=null&&(_=x)}}),_}return(0,r.default)(c)}t.exports=e.default})(cb,cb.exports);function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}function vN(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function hb(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function jV(t){var e=UV(t,"string");return typeof e=="symbol"?e:String(e)}function UV(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VV(t,e,n){var r=C.useRef(t!==void 0),s=C.useState(e),i=s[0],o=s[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&i!==e&&o(e),[a?t:i,C.useCallback(function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),y=1;y<d;y++)p[y-1]=arguments[y];n&&n.apply(void 0,[c].concat(p)),o(c)},[n])]}function zg(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,o=i[hb(r)],a=i[r],l=vN(i,[hb(r),r].map(jV)),c=e[r],d=VV(a,o,t[c]),p=d[0],y=d[1];return F0({},l,(s={},s[r]=p,s[c]=y,s))},t)}function j0(t,e){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},j0(t,e)}function BV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,j0(t,e)}var zV=Function.prototype.bind.call(Function.prototype.call,[].slice);function Sa(t,e){return zV(t.querySelectorAll(e))}function YV(){var t=C.useReducer(function(n){return!n},!1),e=t[1];return e}var db=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function WV(t,e){var n=db(t),r=db(e);return function(s){n&&n(s),r&&r(s)}}function jd(t,e){return C.useMemo(function(){return WV(t,e)},[t,e])}const wN=C.createContext(null);wN.displayName="NavContext";const _N=wN,HV=C.createContext(null),Yg=(t,e=null)=>t!=null?String(t):e||null,Fm=HV,qV=C.createContext(null),SN=qV,GV="data-rr-ui-",KV="rrUi";function Wg(t){return`${GV}${t}`}function QV(t){return`${KV}${t}`}function XV(t){var e=C.useRef(t);return C.useEffect(function(){e.current=t},[t]),e}function On(t){var e=XV(t);return C.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const JV=["as","disabled"];function ZV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function eB(t){return!t||t.trim()==="#"}function q1({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||s!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const d=y=>{if((e||t==="a"&&eB(n))&&y.preventDefault(),e){y.stopPropagation();return}o==null||o(y)},p=y=>{y.key===" "&&(y.preventDefault(),d(y))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:d,onKeyDown:p},c]}const EN=C.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=ZV(t,JV);const[i,{tagName:o}]=q1(Object.assign({tagName:n,disabled:r},s));return v.jsx(o,Object.assign({},s,i,{ref:e}))});EN.displayName="Button";const tB=["as","active","eventKey"];function nB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function G1({key:t,onClick:e,active:n,id:r,role:s,disabled:i}){const o=C.useContext(Fm),a=C.useContext(_N),l=C.useContext(SN);let c=n;const d={role:s};if(a){!s&&a.role==="tablist"&&(d.role="tab");const p=a.getControllerId(t??null),y=a.getControlledId(t??null);d[Wg("event-key")]=t,d.id=p||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=y)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=On(p=>{i||(e==null||e(p),t!=null&&o&&!p.isPropagationStopped()&&o(t,p))}),[d,{isActive:c}]}const TN=C.forwardRef((t,e)=>{let{as:n=EN,active:r,eventKey:s}=t,i=nB(t,tB);const[o,a]=G1(Object.assign({key:Yg(s,i.href),active:r},i));return o[Wg("active")]=a.isActive,v.jsx(n,Object.assign({},i,o,{ref:e}))});TN.displayName="NavItem";const rB=TN,sB=["as","onSelect","activeKey","role","onKeyDown"];function iB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const fb=()=>{},pb=Wg("event-key"),xN=C.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:s,role:i,onKeyDown:o}=t,a=iB(t,sB);const l=YV(),c=C.useRef(!1),d=C.useContext(Fm),p=C.useContext(SN);let y,_;p&&(i=i||"tablist",s=p.activeKey,y=p.getControlledId,_=p.getControllerId);const E=C.useRef(null),x=k=>{const D=E.current;if(!D)return null;const R=Sa(D,`[${pb}]:not([aria-disabled=true])`),M=D.querySelector("[aria-selected=true]");if(!M||M!==document.activeElement)return null;const $=R.indexOf(M);if($===-1)return null;let z=$+k;return z>=R.length&&(z=0),z<0&&(z=R.length-1),R[z]},I=(k,D)=>{k!=null&&(r==null||r(k,D),d==null||d(k,D))},b=k=>{if(o==null||o(k),!p)return;let D;switch(k.key){case"ArrowLeft":case"ArrowUp":D=x(-1);break;case"ArrowRight":case"ArrowDown":D=x(1);break;default:return}D&&(k.preventDefault(),I(D.dataset[QV("EventKey")]||null,k),c.current=!0,l())};C.useEffect(()=>{if(E.current&&c.current){const k=E.current.querySelector(`[${pb}][aria-selected=true]`);k==null||k.focus()}c.current=!1});const T=jd(e,E);return v.jsx(Fm.Provider,{value:I,children:v.jsx(_N.Provider,{value:{role:i,activeKey:Yg(s),getControlledId:y||fb,getControllerId:_||fb},children:v.jsx(n,Object.assign({},a,{onKeyDown:b,ref:T,role:i}))})})});xN.displayName="Nav";const bN=Object.assign(xN,{Item:rB}),kN=C.createContext(null);kN.displayName="NavbarContext";const lc=kN,IN=C.createContext(null);IN.displayName="CardHeaderContext";const CN=IN;var oB=/-(.)/g;function aB(t){return t.replace(oB,function(e,n){return n.toUpperCase()})}const lB=t=>t[0].toUpperCase()+aB(t).slice(1);function hn(t,{displayName:e=lB(t),Component:n,defaultProps:r}={}){const s=C.forwardRef(({className:i,bsPrefix:o,as:a=n||"div",...l},c)=>{const d={...r,...l},p=Be(o,t);return v.jsx(a,{ref:c,className:be(i,p),...d})});return s.displayName=e,s}const uB=hn("nav-item");function cB(){return C.useState(null)}function hB(){var t=C.useRef(!0),e=C.useRef(function(){return t.current});return C.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function dB(t){var e=C.useRef(null);return C.useEffect(function(){e.current=t}),e.current}var fB=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",pB=typeof document<"u";const U0=pB||fB?C.useLayoutEffect:C.useEffect,mB=["onKeyDown"];function gB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function yB(t){return!t||t.trim()==="#"}const DN=C.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=gB(t,mB);const[s]=q1(Object.assign({tagName:"a"},r)),i=On(o=>{s.onKeyDown(o),n==null||n(o)});return yB(r.href)||r.role==="button"?v.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:i})):v.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});DN.displayName="Anchor";const NN=DN,ON=C.forwardRef(({bsPrefix:t,className:e,as:n=NN,active:r,eventKey:s,disabled:i=!1,...o},a)=>{t=Be(t,"nav-link");const[l,c]=G1({key:Yg(s,o.href),active:r,disabled:i,...o});return v.jsx(n,{...o,...l,ref:a,disabled:i,className:be(e,t,i&&"disabled",c.isActive&&"active")})});ON.displayName="NavLink";const vB=ON,AN=C.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:s,fill:i=!1,justify:o=!1,navbar:a,navbarScroll:l,className:c,activeKey:d,...p}=zg(t,{activeKey:"onSelect"}),y=Be(r,"nav");let _,E,x=!1;const I=C.useContext(lc),b=C.useContext(CN);return I?(_=I.bsPrefix,x=a??!0):b&&({cardHeaderBsPrefix:E}=b),v.jsx(bN,{as:n,ref:e,activeKey:d,className:be(c,{[y]:!x,[`${_}-nav`]:x,[`${_}-nav-scroll`]:x&&l,[`${E}-${s}`]:!!E,[`${y}-${s}`]:!!s,[`${y}-fill`]:i,[`${y}-justified`]:o}),...p})});AN.displayName="Nav";const Vl=Object.assign(AN,{Item:uB,Link:vB}),RN=C.forwardRef(({bsPrefix:t,className:e,as:n,...r},s)=>{t=Be(t,"navbar-brand");const i=n||(r.href?"a":"span");return v.jsx(i,{...r,ref:s,className:be(e,t)})});RN.displayName="NavbarBrand";const wB=RN;function Hg(t){return t&&t.ownerDocument||document}function _B(t){var e=Hg(t);return e&&e.defaultView||window}function SB(t,e){return _B(t).getComputedStyle(t,e)}var EB=/([A-Z])/g;function TB(t){return t.replace(EB,"-$1").toLowerCase()}var xB=/^ms-/;function mp(t){return TB(t).replace(xB,"-ms-")}var bB=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function kB(t){return!!(t&&bB.test(t))}function Ei(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(mp(e))||SB(t).getPropertyValue(mp(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(mp(s)):kB(s)?r+=s+"("+i+") ":n+=mp(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var MN={exports:{}},IB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CB=IB,DB=CB;function PN(){}function LN(){}LN.resetWarningCache=PN;var NB=function(){function t(r,s,i,o,a,l){if(l!==DB){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LN,resetWarningCache:PN};return n.PropTypes=n,n};MN.exports=NB();var OB=MN.exports;const Ti=Od(OB),mb={disabled:!1},$N=Br.createContext(null);var AB=function(e){return e.scrollTop},uh="unmounted",oo="exited",hs="entering",hi="entered",td="exiting",ji=function(t){BV(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=oo,i.appearStatus=hs):l=hi:r.unmountOnExit||r.mountOnEnter?l=uh:l=oo,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===uh?{status:oo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==hs&&o!==hi&&(i=hs):(o===hs||o===hi)&&(i=td)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===hs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:du.findDOMNode(this);o&&AB(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===oo&&this.setState({status:uh})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[du.findDOMNode(this),a],c=l[0],d=l[1],p=this.getTimeouts(),y=a?p.appear:p.enter;if(!s&&!o||mb.disabled){this.safeSetState({status:hi},function(){i.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:hs},function(){i.props.onEntering(c,d),i.onTransitionEnd(y,function(){i.safeSetState({status:hi},function(){i.props.onEntered(c,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:du.findDOMNode(this);if(!i||mb.disabled){this.safeSetState({status:oo},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:td},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:oo},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:du.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===uh)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=vN(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Br.createElement($N.Provider,{value:null},typeof o=="function"?o(s,a):Br.cloneElement(Br.Children.only(o),a))},e}(Br.Component);ji.contextType=$N;ji.propTypes={};function Bl(){}ji.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bl,onEntering:Bl,onEntered:Bl,onExit:Bl,onExiting:Bl,onExited:Bl};ji.UNMOUNTED=uh;ji.EXITED=oo;ji.ENTERING=hs;ji.ENTERED=hi;ji.EXITING=td;const Ea=ji,uc=!!(typeof window<"u"&&window.document&&window.document.createElement);var V0=!1,B0=!1;try{var ow={get passive(){return V0=!0},get once(){return B0=V0=!0}};uc&&(window.addEventListener("test",ow,ow),window.removeEventListener("test",ow,!0))}catch{}function FN(t,e,n,r){if(r&&typeof r!="boolean"&&!B0){var s=r.once,i=r.capture,o=n;!B0&&s&&(o=n.__once||function a(l){this.removeEventListener(e,a,i),n.call(this,l)},n.__once=o),t.addEventListener(e,o,V0?r:i)}t.addEventListener(e,n,r)}function z0(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function jm(t,e,n,r){return FN(t,e,n,r),function(){z0(t,e,n,r)}}function RB(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function MB(t){var e=Ei(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function PB(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||RB(t,"transitionend",!0)},e+n),i=jm(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function jN(t,e,n,r){n==null&&(n=MB(t)||0);var s=PB(t,n,r),i=jm(t,"transitionend",e);return function(){s(),i()}}function gb(t,e){const n=Ei(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function K1(t,e){const n=gb(t,"transitionDuration"),r=gb(t,"transitionDelay"),s=jN(t,i=>{i.target===t&&(s(),e(i))},n+r)}function qc(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}function UN(t){t.offsetHeight}function LB(t){return t&&"setState"in t?du.findDOMNode(t):t??null}const $B=Br.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:o,children:a,childRef:l,...c},d)=>{const p=C.useRef(null),y=jd(p,l),_=M=>{y(LB(M))},E=M=>$=>{M&&p.current&&M(p.current,$)},x=C.useCallback(E(t),[t]),I=C.useCallback(E(e),[e]),b=C.useCallback(E(n),[n]),T=C.useCallback(E(r),[r]),k=C.useCallback(E(s),[s]),D=C.useCallback(E(i),[i]),R=C.useCallback(E(o),[o]);return v.jsx(Ea,{ref:d,...c,onEnter:x,onEntered:b,onEntering:I,onExit:T,onExited:D,onExiting:k,addEndListener:R,nodeRef:p,children:typeof a=="function"?(M,$)=>a(M,{...$,ref:_}):Br.cloneElement(a,{ref:_})})}),Q1=$B,FB={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function jB(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],s=FB[t];return r+parseInt(Ei(e,s[0]),10)+parseInt(Ei(e,s[1]),10)}const UB={[oo]:"collapse",[td]:"collapsing",[hs]:"collapsing",[hi]:"collapse show"},VB=Br.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,className:i,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:p=!1,appear:y=!1,getDimensionValue:_=jB,...E},x)=>{const I=typeof a=="function"?a():a,b=C.useMemo(()=>qc(M=>{M.style[I]="0"},t),[I,t]),T=C.useMemo(()=>qc(M=>{const $=`scroll${I[0].toUpperCase()}${I.slice(1)}`;M.style[I]=`${M[$]}px`},e),[I,e]),k=C.useMemo(()=>qc(M=>{M.style[I]=null},n),[I,n]),D=C.useMemo(()=>qc(M=>{M.style[I]=`${_(I,M)}px`,UN(M)},r),[r,_,I]),R=C.useMemo(()=>qc(M=>{M.style[I]=null},s),[I,s]);return v.jsx(Q1,{ref:x,addEndListener:K1,...E,"aria-expanded":E.role?l:null,onEnter:b,onEntering:T,onEntered:k,onExit:D,onExiting:R,childRef:o.ref,in:l,timeout:c,mountOnEnter:d,unmountOnExit:p,appear:y,children:(M,$)=>Br.cloneElement(o,{...$,className:be(i,o.props.className,UB[M],I==="width"&&"collapse-horizontal")})})}),BB=VB,VN=C.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Be(e,"navbar-collapse");const s=C.useContext(lc);return v.jsx(BB,{in:!!(s&&s.expanded),...n,children:v.jsx("div",{ref:r,className:e,children:t})})});VN.displayName="NavbarCollapse";const zB=VN,BN=C.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:s="button",onClick:i,...o},a)=>{t=Be(t,"navbar-toggler");const{onToggle:l,expanded:c}=C.useContext(lc)||{},d=On(p=>{i&&i(p),l&&l()});return s==="button"&&(o.type="button"),v.jsx(s,{...o,ref:a,onClick:d,"aria-label":r,className:be(e,t,!c&&"collapsed"),children:n||v.jsx("span",{className:`${t}-icon`})})});BN.displayName="NavbarToggle";const YB=BN;var Y0=new WeakMap,yb=function(e,n){if(!(!e||!n)){var r=Y0.get(n)||new Map;Y0.set(n,r);var s=r.get(e);return s||(s=n.matchMedia(e),s.refCount=0,r.set(s.media,s)),s}};function WB(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=yb(t,e),r=C.useState(function(){return n?n.matches:!1}),s=r[0],i=r[1];return U0(function(){var o=yb(t,e);if(!o)return i(!1);var a=Y0.get(e),l=function(){i(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),s}function HB(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function s(a){var l=r(a),c=t[l];return typeof c=="number"?c=c-.2+"px":c="calc("+c+" - 0.2px)","(max-width: "+c+")"}function i(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,c){var d;if(typeof a=="object")d=a,c=l,l=!0;else{var p;l=l||!0,d=(p={},p[a]=l,p)}var y=C.useMemo(function(){return Object.entries(d).reduce(function(_,E){var x=E[0],I=E[1];return(I==="up"||I===!0)&&(_=n(_,i(x))),(I==="down"||I===!0)&&(_=n(_,s(x))),_},"")},[JSON.stringify(d)]);return WB(y,c)}return o}var qB=HB({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function aw(t){t===void 0&&(t=Hg());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function vb(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function GB(t){var e=C.useRef(t);return e.current=t,e}function zN(t){var e=GB(t);C.useEffect(function(){return function(){return e.current()}},[])}function KB(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const wb=Wg("modal-open");class QB{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return KB(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Ei(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(wb,""),Ei(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(wb),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const X1=QB,YN=C.createContext(uc?window:void 0);YN.Provider;function J1(){return C.useContext(YN)}const lw=(t,e)=>uc?t==null?(e||Hg()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function XB(t,e){const n=J1(),[r,s]=C.useState(()=>lw(t,n==null?void 0:n.document));if(!r){const i=lw(t);i&&s(i)}return C.useEffect(()=>{e&&r&&e(r)},[e,r]),C.useEffect(()=>{const i=lw(t);i!==r&&s(i)},[t,r]),r}function JB({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=C.useRef(null),o=C.useRef(e),a=On(n);C.useEffect(()=>{e?o.current=!0:a(i.current)},[e,a]);const l=jd(i,t.ref),c=C.cloneElement(t,{ref:l});return e?c:s||!o.current&&r?null:c}function ZB({in:t,onTransition:e}){const n=C.useRef(null),r=C.useRef(!0),s=On(e);return U0(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),U0(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function ez({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,o]=C.useState(!e);e&&i&&o(!1);const a=ZB({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(s(c)).then(d,p=>{throw c.in||o(!0),p})}}),l=jd(a,t.ref);return i&&!e?null:C.cloneElement(t,{ref:l})}function _b(t,e,n){return t?v.jsx(t,Object.assign({},n)):e?v.jsx(ez,Object.assign({},n,{transition:e})):v.jsx(JB,Object.assign({},n))}function tz(t){return t.code==="Escape"||t.keyCode===27}const nz=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function rz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}let uw;function sz(t){return uw||(uw=new X1({ownerDocument:t==null?void 0:t.document})),uw}function iz(t){const e=J1(),n=t||sz(e),r=C.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:C.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:C.useCallback(s=>{r.current.backdrop=s},[])})}const WN=C.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:p,runTransition:y,backdropTransition:_,runBackdropTransition:E,autoFocus:x=!0,enforceFocus:I=!0,restoreFocus:b=!0,restoreFocusOptions:T,renderDialog:k,renderBackdrop:D=We=>v.jsx("div",Object.assign({},We)),manager:R,container:M,onShow:$,onHide:z=()=>{},onExit:ue,onExited:V,onExiting:ye,onEnter:Le,onEntering:ve,onEntered:Ce}=t,Ae=rz(t,nz);const $e=J1(),Ke=XB(M),H=iz(R),ce=hB(),ie=dB(n),[ke,Ee]=C.useState(!n),j=C.useRef(null);C.useImperativeHandle(e,()=>H,[H]),uc&&!ie&&n&&(j.current=aw($e==null?void 0:$e.document)),n&&ke&&Ee(!1);const Ye=On(()=>{if(H.add(),Kn.current=jm(document,"keydown",Rt),pt.current=jm(document,"focus",()=>setTimeout(it),!0),$&&$(),x){var We,Jr;const Nr=aw((We=(Jr=H.dialog)==null?void 0:Jr.ownerDocument)!=null?We:$e==null?void 0:$e.document);H.dialog&&Nr&&!vb(H.dialog,Nr)&&(j.current=Nr,H.dialog.focus())}}),Q=On(()=>{if(H.remove(),Kn.current==null||Kn.current(),pt.current==null||pt.current(),b){var We;(We=j.current)==null||We.focus==null||We.focus(T),j.current=null}});C.useEffect(()=>{!n||!Ke||Ye()},[n,Ke,Ye]),C.useEffect(()=>{ke&&Q()},[ke,Q]),zN(()=>{Q()});const it=On(()=>{if(!I||!ce()||!H.isTopModal())return;const We=aw($e==null?void 0:$e.document);H.dialog&&We&&!vb(H.dialog,We)&&H.dialog.focus()}),ft=On(We=>{We.target===We.currentTarget&&(c==null||c(We),a===!0&&z())}),Rt=On(We=>{l&&tz(We)&&H.isTopModal()&&(d==null||d(We),We.defaultPrevented||z())}),pt=C.useRef(),Kn=C.useRef(),ae=(...We)=>{Ee(!0),V==null||V(...We)};if(!Ke)return null;const ur=Object.assign({role:r,ref:H.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ae,{style:i,className:s,tabIndex:-1});let bn=k?k(ur):v.jsx("div",Object.assign({},ur,{children:C.cloneElement(o,{role:"document"})}));bn=_b(p,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ue,onExiting:ye,onExited:ae,onEnter:Le,onEntering:ve,onEntered:Ce,children:bn});let Qn=null;return a&&(Qn=D({ref:H.setBackdropRef,onClick:ft}),Qn=_b(_,E,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Qn})),v.jsx(v.Fragment,{children:du.createPortal(v.jsxs(v.Fragment,{children:[Qn,bn]}),Ke)})});WN.displayName="Modal";const HN=Object.assign(WN,{Manager:X1}),oz={[hs]:"show",[hi]:"show"},qN=C.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},a=C.useCallback((l,c)=>{UN(l),r==null||r(l,c)},[r]);return v.jsx(Q1,{ref:i,addEndListener:K1,...o,onEnter:a,childRef:e.ref,children:(l,c)=>C.cloneElement(e,{...c,className:be("fade",t,e.props.className,oz[l],n[l])})})});qN.displayName="Fade";const nd=qN,az=hn("offcanvas-body"),lz={[hs]:"show",[hi]:"show"},GN=C.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:s=!1,unmountOnExit:i=!1,appear:o=!1,...a},l)=>(t=Be(t,"offcanvas"),v.jsx(Q1,{ref:l,addEndListener:K1,in:r,mountOnEnter:s,unmountOnExit:i,appear:o,...a,childRef:n.ref,children:(c,d)=>C.cloneElement(n,{...d,className:be(e,n.props.className,(c===hs||c===td)&&`${t}-toggling`,lz[c])})})));GN.displayName="OffcanvasToggling";const uz=GN,cz=C.createContext({onHide(){}}),Z1=cz,hz={"aria-label":Ti.string,onClick:Ti.func,variant:Ti.oneOf(["white"])},eS=C.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>v.jsx("button",{ref:s,type:"button",className:be("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));eS.displayName="CloseButton";eS.propTypes=hz;const KN=eS,dz=C.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},o)=>{const a=C.useContext(Z1),l=On(()=>{a==null||a.onHide(),r==null||r()});return v.jsxs("div",{ref:o,...i,children:[s,n&&v.jsx(KN,{"aria-label":t,variant:e,onClick:l})]})}),QN=dz,XN=C.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=Be(t,"offcanvas-header"),v.jsx(QN,{ref:i,...s,className:be(e,t),closeLabel:n,closeButton:r})));XN.displayName="OffcanvasHeader";const fz=XN,Ud=t=>C.forwardRef((e,n)=>v.jsx("div",{...e,ref:n,className:be(e.className,t)})),pz=Ud("h5"),mz=hn("offcanvas-title",{Component:pz});function gz(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function yz(t,e){t.classList?t.classList.add(e):gz(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Sb(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function vz(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Sb(t.className,e):t.setAttribute("class",Sb(t.className&&t.className.baseVal||"",e))}const zl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class JN extends X1{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Ei(n,{[e]:`${parseFloat(Ei(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Ei(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(yz(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Sa(n,zl.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),Sa(n,zl.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),Sa(n,zl.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();vz(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Sa(n,zl.FIXED_CONTENT).forEach(i=>this.restore(r,i)),Sa(n,zl.STICKY_CONTENT).forEach(i=>this.restore(s,i)),Sa(n,zl.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let cw;function ZN(t){return cw||(cw=new JN(t)),cw}const wz=JN;function _z(t){return v.jsx(uz,{...t})}function Sz(t){return v.jsx(nd,{...t})}const eO=C.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:s="start",responsive:i,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:p,onHide:y,container:_,autoFocus:E=!0,enforceFocus:x=!0,restoreFocus:I=!0,restoreFocusOptions:b,onEntered:T,onExit:k,onExiting:D,onEnter:R,onEntering:M,onExited:$,backdropClassName:z,manager:ue,renderStaticNode:V=!1,...ye},Le)=>{const ve=C.useRef();t=Be(t,"offcanvas");const{onToggle:Ce}=C.useContext(lc)||{},[Ae,$e]=C.useState(!1),Ke=qB(i||"xs","up");C.useEffect(()=>{$e(i?o&&!Ke:o)},[o,i,Ke]);const H=On(()=>{Ce==null||Ce(),y==null||y()}),ce=C.useMemo(()=>({onHide:H}),[H]);function ie(){return ue||(c?(ve.current||(ve.current=new wz({handleContainerOverflow:!1})),ve.current):ZN())}const ke=(Q,...it)=>{Q&&(Q.style.visibility="visible"),R==null||R(Q,...it)},Ee=(Q,...it)=>{Q&&(Q.style.visibility=""),$==null||$(...it)},j=C.useCallback(Q=>v.jsx("div",{...Q,className:be(`${t}-backdrop`,z)}),[z,t]),Ye=Q=>v.jsx("div",{...Q,...ye,className:be(e,i?`${t}-${i}`:t,`${t}-${s}`),"aria-labelledby":r,children:n});return v.jsxs(v.Fragment,{children:[!Ae&&(i||V)&&Ye({}),v.jsx(Z1.Provider,{value:ce,children:v.jsx(HN,{show:Ae,ref:Le,backdrop:a,container:_,keyboard:l,autoFocus:E,enforceFocus:x&&!c,restoreFocus:I,restoreFocusOptions:b,onEscapeKeyDown:d,onShow:p,onHide:H,onEnter:ke,onEntering:M,onEntered:T,onExit:k,onExiting:D,onExited:Ee,manager:ie(),transition:_z,backdropTransition:Sz,renderBackdrop:j,renderDialog:Ye})})]})});eO.displayName="Offcanvas";const Ez=Object.assign(eO,{Body:az,Header:fz,Title:mz}),tO=C.forwardRef((t,e)=>{const n=C.useContext(lc);return v.jsx(Ez,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});tO.displayName="NavbarOffcanvas";const Tz=tO,xz=hn("navbar-text",{Component:"span"}),nO=C.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:s="light",bg:i,fixed:o,sticky:a,className:l,as:c="nav",expanded:d,onToggle:p,onSelect:y,collapseOnSelect:_=!1,...E}=zg(t,{expanded:"onToggle"}),x=Be(n,"navbar"),I=C.useCallback((...k)=>{y==null||y(...k),_&&d&&(p==null||p(!1))},[y,_,d,p]);E.role===void 0&&c!=="nav"&&(E.role="navigation");let b=`${x}-expand`;typeof r=="string"&&(b=`${b}-${r}`);const T=C.useMemo(()=>({onToggle:()=>p==null?void 0:p(!d),bsPrefix:x,expanded:!!d,expand:r}),[x,d,r,p]);return v.jsx(lc.Provider,{value:T,children:v.jsx(Fm.Provider,{value:I,children:v.jsx(c,{ref:e,...E,className:be(l,x,r&&b,s&&`${x}-${s}`,i&&`bg-${i}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});nO.displayName="Navbar";const gp=Object.assign(nO,{Brand:wB,Collapse:zB,Offcanvas:Tz,Text:xz,Toggle:YB}),rO=C.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:o,...a},l)=>{const c=Be(e,"btn"),[d,{tagName:p}]=q1({tagName:t,disabled:i,...a}),y=p;return v.jsx(y,{...d,...a,ref:l,disabled:i,className:be(o,c,s&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&i&&"disabled")})});rO.displayName="Button";const mr=rO,bz=({login:t,user:e,logOut:n})=>v.jsx(v.Fragment,{children:v.jsx(gp,{bg:"dark","data-bs-theme":"dark",expand:"lg",className:"bg-body-tertiary",children:v.jsxs(Fd,{children:[v.jsx(gp.Brand,{as:ro,to:"/",children:v.jsx("img",{src:P4,width:"80",className:"d-inline-block align-top",alt:"React Bootstrap logo"})}),v.jsx(gp.Toggle,{"aria-controls":"basic-navbar-nav"}),v.jsxs(gp.Collapse,{id:"basic-navbar-nav",children:[v.jsxs(Vl,{className:"mx-auto",children:[v.jsx(Vl.Link,{as:ro,to:"/",children:"Home"}),v.jsx(Vl.Link,{as:ro,to:"./carta",children:"Carta"}),v.jsx(Vl.Link,{as:ro,to:"./recetas",children:"Recetas"}),v.jsx(Vl.Link,{as:ro,to:"./reserva",children:"Reserva"}),v.jsx(Vl.Link,{as:ro,to:"./contacto",children:"Contacto"})]}),v.jsx(mr,{variant:"outline-warning",as:ro,to:"/reserva",children:"Reserva aqu!"})," "]})]})})}),kz=()=>v.jsx(v.Fragment,{children:v.jsx("div",{className:"Footer  container-fluid bg-dark border-bottom-dark","data-bs-theme":"dark",children:v.jsxs("ul",{className:"social mt-3 gap-2",children:[v.jsx("p",{children:"Siguenos en nuestras Redes Sociales"}),v.jsx("li",{children:v.jsx("a",{href:"#",children:v.jsx("i",{className:"bi bi-facebook"})})}),v.jsx("li",{children:v.jsx("a",{href:"#",children:v.jsx("i",{className:"bi bi-instagram"})})}),v.jsxs("li",{children:[" ",v.jsx("a",{href:"#",children:v.jsx("i",{className:"bi bi-twitter"})})]}),v.jsxs("li",{children:[" ",v.jsx("a",{href:"#",children:v.jsx("i",{className:"bi bi-youtube"})})]})]})})}),Iz="/assets/slider8-32140748.jpeg",Cz=()=>v.jsx("div",{className:"slider",children:v.jsxs("div",{className:"img-container",children:[v.jsx("div",{className:"overlay"}),v.jsx("img",{src:Iz,className:"full-width-img"}),v.jsxs("div",{className:"txt",children:[v.jsx("h1",{children:"Boss Burger"}),v.jsx("p",{children:"Ven a disfrutar de nuestra gran variedad de hamburguesas artesanales."})]}),v.jsx(mr,{variant:"outline-warning",as:ro,to:"/reserva",className:"btn-position",children:"Reserva aqu!"})," "]})}),Dz="/assets/interior_rest_2-f5159425.jpeg",sO=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=Be(t,"row"),o=mN(),a=gN(),l=`${i}-cols`,c=[];return o.forEach(d=>{const p=r[d];delete r[d];let y;p!=null&&typeof p=="object"?{cols:y}=p:y=p;const _=d!==a?`-${d}`:"";y!=null&&c.push(`${l}${_}-${y}`)}),v.jsx(n,{ref:s,...r,className:be(e,i,...c)})});sO.displayName="Row";const wr=sO;function Nz({as:t,bsPrefix:e,className:n,...r}){e=Be(e,"col");const s=mN(),i=gN(),o=[],a=[];return s.forEach(l=>{const c=r[l];delete r[l];let d,p,y;typeof c=="object"&&c!=null?{span:d,offset:p,order:y}=c:d=c;const _=l!==i?`-${l}`:"";d&&o.push(d===!0?`${e}${_}`:`${e}${_}-${d}`),y!=null&&a.push(`order${_}-${y}`),p!=null&&a.push(`offset${_}-${p}`)}),[{...r,className:be(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const iO=C.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:o}]=Nz(t);return v.jsx(s,{...r,ref:e,className:be(n,!o.length&&i)})});iO.displayName="Col";const tt=iO,Oz=()=>v.jsx(v.Fragment,{children:v.jsx(Fd,{className:"mt-5 mb-5",children:v.jsxs(wr,{children:[v.jsx(tt,{xs:12,children:v.jsx("h3",{className:"text-center mt-4",children:"Quines somos?"})}),v.jsx(tt,{xs:12,sm:5,lg:4,children:v.jsx("img",{src:Dz,className:"imagen",alt:"Nosotros"})}),v.jsxs(tt,{xs:12,sm:7,lg:8,children:[v.jsx("p",{className:"card-text",children:"Bienvenidos a Boss Burger, la hamburguesera artesanal ms querida de Santiago de Chile. Fundada en 2019 por dos apasionados hermanos, nuestro objetivo es ofrecerte una experiencia nica y sabrosa en cada bocado. Nos enorgullece presentar una amplia carta de hamburguesas artesanales, elaboradas con ingredientes frescos y de la ms alta calidad."}),v.jsx("p",{className:"card-text",children:"A lo largo de los aos, nos hemos adaptado a los desafos que el mundo nos ha presentado, especialmente durante la pandemia. Implementamos sistemas de reserva de mesas y envos a domicilio a travs de nuestro sitio web, para que puedas disfrutar de nuestras deliciosas hamburguesas desde la comodidad de tu hogar. Nuestro compromiso es brindarte un servicio excepcional y una atencin personalizada, para que cada visita a Boss Burger sea una experiencia inolvidable. Te invitamos a sumergirte en el sabor y la pasin por las hamburguesas artesanales en Boss Burger!"})]})]})})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Az=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},aO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let y=(a&15)<<2|c>>6,_=c&63;l||(_=64,o||(y=64)),r.push(n[d],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Az(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new Rz;const y=i<<2|a>>4;if(r.push(y),c!==64){const _=a<<4&240|c>>2;if(r.push(_),p!==64){const E=c<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mz=function(t){const e=oO(t);return aO.encodeByteArray(e,!0)},Um=function(t){return Mz(t).replace(/\./g,"")},lO=function(t){try{return aO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Pz(n)||(t[n]=Vm(t[n],e[n]));return t}function Pz(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=()=>Lz().__FIREBASE_DEFAULTS__,Fz=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lO(t[1]);return e&&JSON.parse(e)},qg=()=>{try{return $z()||Fz()||jz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uz=t=>{var e,n;return(n=(e=qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uO=()=>{var t;return(t=qg())===null||t===void 0?void 0:t.config},cO=t=>{var e;return(e=qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Um(JSON.stringify(n)),Um(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Yz(){var t;const e=(t=qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wz(){return typeof self=="object"&&self.self===self}function Hz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gz(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kz(){return!Yz()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hO(){try{return typeof indexedDB=="object"}catch{return!1}}function Qz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz="FirebaseError";class Gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xz,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Jz(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Gs(s,a,r)}}function Jz(t,e){return t.replace(Zz,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Zz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function e6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Tb(i)&&Tb(o)){if(!Bm(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Tb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dO(t,e){const n=new t6(t,e);return n.subscribe.bind(n)}class t6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hw),s.error===void 0&&(s.error=hw),s.complete===void 0&&(s.complete=hw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i6(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s6(t){return t===Ta?void 0:t}function i6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=[];var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const fO={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},a6=Ue.INFO,l6={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},u6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=l6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=a6,this._logHandler=u6,this._userLogHandler=null,tS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}function c6(t){tS.forEach(e=>{e.setLogLevel(t)})}function h6(t,e){for(const n of tS){let r=null;e&&e.level&&(r=fO[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");i>=(r??s.logLevel)&&t({level:Ue[i].toLowerCase(),message:a,args:o,type:s.name})}}}const d6=(t,e)=>e.some(n=>t instanceof n);let xb,bb;function f6(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p6(){return bb||(bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pO=new WeakMap,W0=new WeakMap,mO=new WeakMap,dw=new WeakMap,nS=new WeakMap;function m6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(No(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pO.set(n,t)}).catch(()=>{}),nS.set(e,t),e}function g6(t){if(W0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});W0.set(t,e)}let H0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return W0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y6(t){H0=t(H0)}function v6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fw(this),e,...n);return mO.set(r,e.sort?e.sort():[e]),No(r)}:p6().includes(t)?function(...e){return t.apply(fw(this),e),No(pO.get(this))}:function(...e){return No(t.apply(fw(this),e))}}function w6(t){return typeof t=="function"?v6(t):(t instanceof IDBTransaction&&g6(t),d6(t,f6())?new Proxy(t,H0):t)}function No(t){if(t instanceof IDBRequest)return m6(t);if(dw.has(t))return dw.get(t);const e=w6(t);return e!==t&&(dw.set(t,e),nS.set(e,t)),e}const fw=t=>nS.get(t);function _6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=No(o);return r&&o.addEventListener("upgradeneeded",l=>{r(No(o.result),l.oldVersion,l.newVersion,No(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const S6=["get","getKey","getAll","getAllKeys","count"],E6=["put","add","delete","clear"],pw=new Map;function kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pw.get(e))return pw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=E6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||S6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return pw.set(e,i),i}y6(t=>({...t,get:(e,n,r)=>kb(e,n)||t.get(e,n,r),has:(e,n)=>!!kb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q0="@firebase/app",Ib="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new Gg("@firebase/app"),b6="@firebase/app-compat",k6="@firebase/analytics-compat",I6="@firebase/analytics",C6="@firebase/app-check-compat",D6="@firebase/app-check",N6="@firebase/auth",O6="@firebase/auth-compat",A6="@firebase/database",R6="@firebase/database-compat",M6="@firebase/functions",P6="@firebase/functions-compat",L6="@firebase/installations",$6="@firebase/installations-compat",F6="@firebase/messaging",j6="@firebase/messaging-compat",U6="@firebase/performance",V6="@firebase/performance-compat",B6="@firebase/remote-config",z6="@firebase/remote-config-compat",Y6="@firebase/storage",W6="@firebase/storage-compat",H6="@firebase/firestore",q6="@firebase/firestore-compat",G6="firebase",K6="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]",Q6={[q0]:"fire-core",[b6]:"fire-core-compat",[I6]:"fire-analytics",[k6]:"fire-analytics-compat",[D6]:"fire-app-check",[C6]:"fire-app-check-compat",[N6]:"fire-auth",[O6]:"fire-auth-compat",[A6]:"fire-rtdb",[R6]:"fire-rtdb-compat",[M6]:"fire-fn",[P6]:"fire-fn-compat",[L6]:"fire-iid",[$6]:"fire-iid-compat",[F6]:"fire-fcm",[j6]:"fire-fcm-compat",[U6]:"fire-perf",[V6]:"fire-perf-compat",[B6]:"fire-rc",[z6]:"fire-rc-compat",[Y6]:"fire-gcs",[W6]:"fire-gcs-compat",[H6]:"fire-fst",[q6]:"fire-fst-compat","fire-js":"fire-js",[G6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,rd=new Map;function zm(t,e){try{t.container.addComponent(e)}catch(n){Ja.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gO(t,e){t.container.addOrOverwriteComponent(e)}function Lo(t){const e=t.name;if(rd.has(e))return Ja.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,t);for(const n of Po.values())zm(n,t);return!0}function Kg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function X6(t,e,n=Mo){Kg(t,e).clearInstance(n)}function J6(){rd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xi=new pl("app","Firebase",Z6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e3=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=K6;function rS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mo,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw xi.create("bad-app-name",{appName:String(s)});if(n||(n=uO()),!n)throw xi.create("no-options");const i=Po.get(s);if(i){if(Bm(n,i.options)&&Bm(r,i.config))return i;throw xi.create("duplicate-app",{appName:s})}const o=new o6(s);for(const l of rd.values())o.addComponent(l);const a=new e3(n,r,o);return Po.set(s,a),a}function yO(t=Mo){const e=Po.get(t);if(!e&&t===Mo&&uO())return rS();if(!e)throw xi.create("no-app",{appName:t});return e}function t3(){return Array.from(Po.values())}async function vO(t){const e=t.name;Po.has(e)&&(Po.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function $s(t,e,n){var r;let s=(r=Q6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ja.warn(a.join(" "));return}Lo(new Oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function wO(t,e){if(t!==null&&typeof t!="function")throw xi.create("invalid-log-argument");h6(t,e)}function _O(t){c6(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebase-heartbeat-database",r3=1,sd="firebase-heartbeat-store";let mw=null;function SO(){return mw||(mw=_6(n3,r3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sd)}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),mw}async function s3(t){try{return await(await SO()).transaction(sd).objectStore(sd).get(EO(t))}catch(e){if(e instanceof Gs)Ja.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ja.warn(n.message)}}}async function Cb(t,e){try{const r=(await SO()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,EO(t)),await r.done}catch(n){if(n instanceof Gs)Ja.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ja.warn(r.message)}}}function EO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=1024,o3=30*24*60*60*1e3;class a3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Db();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=o3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Db(),{heartbeatsToSend:n,unsentEntries:r}=l3(this._heartbeatsCache.heartbeats),s=Um(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Db(){return new Date().toISOString().substring(0,10)}function l3(t,e=i3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Nb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Nb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hO()?Qz().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await s3(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Nb(t){return Um(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){Lo(new Oi("platform-logger",e=>new T6(e),"PRIVATE")),Lo(new Oi("heartbeat",e=>new a3(e),"PRIVATE")),$s(q0,Ib,t),$s(q0,Ib,"esm2017"),$s("fire-js","")}c3("");const h3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Gs,SDK_VERSION:Ko,_DEFAULT_ENTRY_NAME:Mo,_addComponent:zm,_addOrOverwriteComponent:gO,_apps:Po,_clearComponents:J6,_components:rd,_getProvider:Kg,_registerComponent:Lo,_removeServiceInstance:X6,deleteApp:vO,getApp:yO,getApps:t3,initializeApp:rS,onLog:wO,registerVersion:$s,setLogLevel:_O},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n){this._delegate=e,this.firebase=n,zm(e,new Oi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),vO(this._delegate)))}_getService(e,n=Mo){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Mo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){zm(this._delegate,e)}_addOrOverwriteComponent(e){gO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Ob=new pl("app-compat","Firebase",f3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:$s,setLogLevel:_O,onLog:wO,apps:null,SDK_VERSION:Ko,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:h3}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function s(c){if(c=c||Mo,!Eb(e,c))throw Ob.create("no-app",{appName:c});return e[c]}s.App=t;function i(c,d={}){const p=rS(c,d);if(Eb(e,p.name))return e[p.name];const y=new t(p,n);return e[p.name]=y,y}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,p=d.replace("-compat","");if(Lo(c)&&c.type==="PUBLIC"){const y=(_=s())=>{if(typeof _[p]!="function")throw Ob.create("invalid-app-argument",{appName:d});return _[p]()};c.serviceProps!==void 0&&Vm(y,c.serviceProps),n[p]=y,t.prototype[p]=function(..._){return this._getService.bind(this,d).apply(this,c.multipleInstances?_:[])}}return c.type==="PUBLIC"?n[p]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){const t=p3(d3);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:TO,extendNamespace:e,createSubscribe:dO,ErrorFactory:pl,deepExtend:Vm});function e(n){Vm(t,n)}return t}const m3=TO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Gg("@firebase/app-compat"),g3="@firebase/app-compat",y3="0.2.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){$s(g3,y3,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Wz()&&self.firebase!==void 0){Ab.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Ab.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const sS=m3;v3();var w3="firebase",_3="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sS.registerVersion(w3,_3,"app-compat");var S3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,iS=iS||{},_e=S3||self;function Qg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function E3(t){return Object.prototype.hasOwnProperty.call(t,gw)&&t[gw]||(t[gw]=++T3)}var gw="closure_uid_"+(1e9*Math.random()>>>0),T3=0;function x3(t,e,n){return t.call.apply(t.bind,arguments)}function b3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function An(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?An=x3:An=b3,An.apply(null,arguments)}function yp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Qo(){this.s=this.s,this.o=this.o}var k3=0;Qo.prototype.s=!1;Qo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),k3!=0)&&E3(this)};Qo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Rb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qg(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rn.prototype.h=function(){this.defaultPrevented=!0};var I3=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_e.addEventListener("test",()=>{},e),_e.removeEventListener("test",()=>{},e)}catch{}return t}();function id(t){return/^[\s\xa0]*$/.test(t)}function Xg(){var t=_e.navigator;return t&&(t=t.userAgent)?t:""}function Cs(t){return Xg().indexOf(t)!=-1}function aS(t){return aS[" "](t),t}aS[" "]=function(){};function C3(t,e){var n=_9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var D3=Cs("Opera"),$u=Cs("Trident")||Cs("MSIE"),bO=Cs("Edge"),G0=bO||$u,kO=Cs("Gecko")&&!(Xg().toLowerCase().indexOf("webkit")!=-1&&!Cs("Edge"))&&!(Cs("Trident")||Cs("MSIE"))&&!Cs("Edge"),N3=Xg().toLowerCase().indexOf("webkit")!=-1&&!Cs("Edge");function IO(){var t=_e.document;return t?t.documentMode:void 0}var K0;e:{var yw="",vw=function(){var t=Xg();if(kO)return/rv:([^\);]+)(\)|;)/.exec(t);if(bO)return/Edge\/([\d\.]+)/.exec(t);if($u)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(N3)return/WebKit\/(\S+)/.exec(t);if(D3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vw&&(yw=vw?vw[1]:""),$u){var ww=IO();if(ww!=null&&ww>parseFloat(yw)){K0=String(ww);break e}}K0=yw}var Q0;if(_e.document&&$u){var Mb=IO();Q0=Mb||parseInt(K0,10)||void 0}else Q0=void 0;var O3=Q0;function od(t,e){if(Rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kO){e:{try{aS(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:A3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&od.$.h.call(this)}}dn(od,Rn);var A3={2:"touch",3:"pen",4:"mouse"};od.prototype.h=function(){od.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zd="closure_listenable_"+(1e6*Math.random()|0),R3=0;function M3(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++R3,this.fa=this.ia=!1}function Jg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function lS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function P3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function CO(t){const e={};for(const n in t)e[n]=t[n];return e}const Pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DO(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Pb.length;i++)n=Pb[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zg(t){this.src=t,this.g={},this.h=0}Zg.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=J0(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new M3(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function X0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=xO(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Jg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function J0(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var uS="closure_lm_"+(1e6*Math.random()|0),_w={};function NO(t,e,n,r,s){if(r&&r.once)return AO(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)NO(t,e[i],n,r,s);return null}return n=dS(n),t&&t[zd]?t.O(e,n,Bd(r)?!!r.capture:!!r,s):OO(t,e,n,!1,r,s)}function OO(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Bd(s)?!!s.capture:!!s,a=hS(t);if(a||(t[uS]=a=new Zg(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=L3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)I3||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(MO(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function L3(){function t(n){return e.call(t.src,t.listener,n)}const e=$3;return t}function AO(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)AO(t,e[i],n,r,s);return null}return n=dS(n),t&&t[zd]?t.P(e,n,Bd(r)?!!r.capture:!!r,s):OO(t,e,n,!0,r,s)}function RO(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)RO(t,e[i],n,r,s);else r=Bd(r)?!!r.capture:!!r,n=dS(n),t&&t[zd]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=J0(i,n,r,s),-1<n&&(Jg(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=hS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=J0(e,n,r,s)),(n=-1<t?e[t]:null)&&cS(n))}function cS(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zd])X0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(MO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hS(e))?(X0(n,t),n.h==0&&(n.src=null,e[uS]=null)):Jg(t)}}}function MO(t){return t in _w?_w[t]:_w[t]="on"+t}function $3(t,e){if(t.fa)t=!0;else{e=new od(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cS(t),t=n.call(r,e)}return t}function hS(t){return t=t[uS],t instanceof Zg?t:null}var Sw="__closure_events_fn_"+(1e9*Math.random()>>>0);function dS(t){return typeof t=="function"?t:(t[Sw]||(t[Sw]=function(e){return t.handleEvent(e)}),t[Sw])}function cn(){Qo.call(this),this.i=new Zg(this),this.S=this,this.J=null}dn(cn,Qo);cn.prototype[zd]=!0;cn.prototype.removeEventListener=function(t,e,n,r){RO(this,t,e,n,r)};function En(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Rn(e,t);else if(e instanceof Rn)e.target=e.target||t;else{var s=e;e=new Rn(r,t),DO(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=vp(o,r,!0,e)&&s}if(o=e.g=t,s=vp(o,r,!0,e)&&s,s=vp(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=vp(o,r,!1,e)&&s}cn.prototype.N=function(){if(cn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jg(n[r]);delete t.g[e],t.h--}}this.J=null};cn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};cn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&X0(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var fS=_e.JSON.stringify;class F3{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function j3(){var t=pS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class U3{constructor(){this.h=this.g=null}add(e,n){const r=PO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PO=new F3(()=>new V3,t=>t.reset());class V3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function B3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function z3(t){_e.setTimeout(()=>{throw t},0)}let ad,ld=!1,pS=new U3,LO=()=>{const t=_e.Promise.resolve(void 0);ad=()=>{t.then(Y3)}};var Y3=()=>{for(var t;t=j3();){try{t.h.call(t.g)}catch(n){z3(n)}var e=PO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ld=!1};function ey(t,e){cn.call(this),this.h=t||1,this.g=e||_e,this.j=An(this.qb,this),this.l=Date.now()}dn(ey,cn);te=ey.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),En(this,"tick"),this.ga&&(mS(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function mS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){ey.$.N.call(this),mS(this),delete this.g};function gS(t,e,n){if(typeof t=="function")n&&(t=An(t,n));else if(t&&typeof t.handleEvent=="function")t=An(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:_e.setTimeout(t,e||0)}function $O(t){t.g=gS(()=>{t.g=null,t.i&&(t.i=!1,$O(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class W3 extends Qo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$O(this)}N(){super.N(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ud(t){Qo.call(this),this.h=t,this.g={}}dn(ud,Qo);var Lb=[];function FO(t,e,n,r){Array.isArray(n)||(n&&(Lb[0]=n.toString()),n=Lb);for(var s=0;s<n.length;s++){var i=NO(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function jO(t){lS(t.g,function(e,n){this.g.hasOwnProperty(n)&&cS(e)},t),t.g={}}ud.prototype.N=function(){ud.$.N.call(this),jO(this)};ud.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ty(){this.g=!0}ty.prototype.Ea=function(){this.g=!1};function H3(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var p=d.split("_");o=2<=p.length&&p[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function q3(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function fu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+K3(t,n)+(r?" "+r:"")})}function G3(t,e){t.info(function(){return"TIMEOUT: "+e})}ty.prototype.info=function(){};function K3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return fS(n)}catch{return e}}var ml={},$b=null;function ny(){return $b=$b||new cn}ml.Ta="serverreachability";function UO(t){Rn.call(this,ml.Ta,t)}dn(UO,Rn);function cd(t){const e=ny();En(e,new UO(e))}ml.STAT_EVENT="statevent";function VO(t,e){Rn.call(this,ml.STAT_EVENT,t),this.stat=e}dn(VO,Rn);function Bn(t){const e=ny();En(e,new VO(e,t))}ml.Ua="timingevent";function BO(t,e){Rn.call(this,ml.Ua,t),this.size=e}dn(BO,Rn);function Yd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){t()},e)}var ry={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yS(){}yS.prototype.h=null;function Fb(t){return t.h||(t.h=t.i())}function YO(){}var Wd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vS(){Rn.call(this,"d")}dn(vS,Rn);function wS(){Rn.call(this,"c")}dn(wS,Rn);var Z0;function sy(){}dn(sy,yS);sy.prototype.g=function(){return new XMLHttpRequest};sy.prototype.i=function(){return{}};Z0=new sy;function Hd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ud(this),this.P=Q3,t=G0?125:void 0,this.V=new ey(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WO}function WO(){this.i=null,this.g="",this.h=!1}var Q3=45e3,e_={},Ym={};te=Hd.prototype;te.setTimeout=function(t){this.P=t};function t_(t,e,n){t.L=1,t.v=oy(Ai(e)),t.s=n,t.S=!0,HO(t,null)}function HO(t,e){t.G=Date.now(),qd(t),t.A=Ai(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),eA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new WO,t.g=SA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new W3(An(t.Pa,t,t.g),t.O)),FO(t.U,t.g,"readystatechange",t.nb),e=t.I?CO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),cd(),H3(t.j,t.u,t.A,t.m,t.W,t.s)}te.nb=function(t){t=t.target;const e=this.M;e&&Ns(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const d=Ns(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>d)&&(d!=3||G0||this.g&&(this.h.h||this.g.ja()||Bb(this.g)))){this.J||d!=4||e==7||(e==8||0>=p?cd(3):cd(2)),iy(this);var n=this.g.da();this.ca=n;t:if(qO(this)){var r=Bb(this.g);t="";var s=r.length,i=Ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ma(this),xh(this);var o="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,q3(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!id(a)){var c=a;break t}}c=null}if(n=c)fu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n_(this,n);else{this.i=!1,this.o=3,Bn(12),Ma(this),xh(this);break e}}this.S?(GO(this,d,o),G0&&this.i&&d==3&&(FO(this.U,this.V,"tick",this.mb),this.V.start())):(fu(this.j,this.m,o,null),n_(this,o)),d==4&&Ma(this),this.i&&!this.J&&(d==4?yA(this.l,this):(this.i=!1,qd(this)))}else y9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),Ma(this),xh(this)}}}catch{}finally{}};function qO(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function GO(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=X3(t,n),s==Ym){e==4&&(t.o=4,Bn(14),r=!1),fu(t.j,t.m,null,"[Incomplete Response]");break}else if(s==e_){t.o=4,Bn(15),fu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fu(t.j,t.m,s,null),n_(t,s);qO(t)&&s!=Ym&&s!=e_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bS(e),e.M=!0,Bn(11))):(fu(t.j,t.m,n,"[Invalid Chunked Response]"),Ma(t),xh(t))}te.mb=function(){if(this.g){var t=Ns(this.g),e=this.g.ja();this.C<e.length&&(iy(this),GO(this,t,e),this.i&&t!=4&&qd(this))}};function X3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ym:(n=Number(e.substring(n,r)),isNaN(n)?e_:(r+=1,r+n>e.length?Ym:(e=e.slice(r,r+n),t.C=r+n,e)))}te.cancel=function(){this.J=!0,Ma(this)};function qd(t){t.Y=Date.now()+t.P,KO(t,t.P)}function KO(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Yd(An(t.lb,t),e)}function iy(t){t.B&&(_e.clearTimeout(t.B),t.B=null)}te.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(G3(this.j,this.A),this.L!=2&&(cd(),Bn(17)),Ma(this),this.o=2,xh(this)):KO(this,this.Y-t)};function xh(t){t.l.H==0||t.J||yA(t.l,t)}function Ma(t){iy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,mS(t.V),jO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function n_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||r_(n.i,t))){if(!t.K&&r_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qm(n),uy(n);else break e;xS(n),Bn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Yd(An(n.ib,n),6e3));if(1>=rA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pa(n,11)}else if((t.K||n.g==t)&&qm(n),!id(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const p=c[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const y=c[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const _=t.g;if(_){const E=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var i=r.i;i.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(_S(i,i.h),i.h=null))}if(r.F){const x=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,yt(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=_A(r,r.J?r.pa:null,r.Y),o.K){sA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(iy(a),qd(a)),r.g=o}else mA(r);0<n.j.length&&cy(n)}else c[0]!="stop"&&c[0]!="close"||Pa(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Pa(n,7):TS(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}cd(4)}catch{}}function J3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Z3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function QO(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Z3(t),r=J3(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var XO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ba(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ba){this.h=t.h,Wm(this,t.j),this.s=t.s,this.g=t.g,Hm(this,t.m),this.l=t.l;var e=t.i,n=new hd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jb(this,n),this.o=t.o}else t&&(e=String(t).match(XO))?(this.h=!1,Wm(this,e[1]||"",!0),this.s=ch(e[2]||""),this.g=ch(e[3]||"",!0),Hm(this,e[4]),this.l=ch(e[5]||"",!0),jb(this,e[6]||"",!0),this.o=ch(e[7]||"")):(this.h=!1,this.i=new hd(null,this.h))}Ba.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hh(e,Ub,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hh(e,Ub,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hh(n,n.charAt(0)=="/"?r9:n9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hh(n,i9)),t.join("")};function Ai(t){return new Ba(t)}function Wm(t,e,n){t.j=n?ch(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jb(t,e,n){e instanceof hd?(t.i=e,o9(t.i,t.h)):(n||(e=hh(e,s9)),t.i=new hd(e,t.h))}function yt(t,e,n){t.i.set(e,n)}function oy(t){return yt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ch(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,t9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function t9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ub=/[#\/\?@]/g,n9=/[#\?:]/g,r9=/[#\?]/g,s9=/[#\?@]/g,i9=/#/g;function hd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xo(t){t.g||(t.g=new Map,t.h=0,t.i&&e9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=hd.prototype;te.add=function(t,e){Xo(this),this.i=null,t=cc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function JO(t,e){Xo(t),e=cc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ZO(t,e){return Xo(t),e=cc(t,e),t.g.has(e)}te.forEach=function(t,e){Xo(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};te.ta=function(){Xo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};te.Z=function(t){Xo(this);let e=[];if(typeof t=="string")ZO(this,t)&&(e=e.concat(this.g.get(cc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return Xo(this),this.i=null,t=cc(this,t),ZO(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function eA(t,e,n){JO(t,e),0<n.length&&(t.i=null,t.g.set(cc(t,e),oS(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function cc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function o9(t,e){e&&!t.j&&(Xo(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(JO(this,r),eA(this,s,n))},t)),t.j=e}var a9=class{constructor(t,e){this.g=t,this.map=e}};function tA(t){this.l=t||l9,_e.PerformanceNavigationTiming?(t=_e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_e.g&&_e.g.Ka&&_e.g.Ka()&&_e.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var l9=10;function nA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rA(t){return t.h?1:t.g?t.g.size:0}function r_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function _S(t,e){t.g?t.g.add(e):t.h=e}function sA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tA.prototype.cancel=function(){if(this.i=iA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function iA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return oS(t.i)}var u9=class{stringify(t){return _e.JSON.stringify(t,void 0)}parse(t){return _e.JSON.parse(t,void 0)}};function c9(){this.g=new u9}function h9(t,e,n){const r=n||"";try{QO(t,function(s,i){let o=s;Bd(s)&&(o=fS(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function d9(t,e){const n=new ty;if(_e.Image){const r=new Image;r.onload=yp(wp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yp(wp,n,r,"TestLoadImage: error",!1,e),r.onabort=yp(wp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yp(wp,n,r,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function wp(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Gd(t){this.l=t.fc||null,this.j=t.ob||!1}dn(Gd,yS);Gd.prototype.g=function(){return new ay(this.l,this.j)};Gd.prototype.i=function(t){return function(){return t}}({});function ay(t,e){cn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=SS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dn(ay,cn);var SS=0;te=ay.prototype;te.open=function(t,e){if(this.readyState!=SS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dd(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||_e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kd(this)),this.readyState=SS};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dd(this)),this.g&&(this.readyState=3,dd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function oA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kd(this):dd(this),this.readyState==3&&oA(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,Kd(this))};te.Ya=function(t){this.g&&(this.response=t,Kd(this))};te.ka=function(){this.g&&Kd(this)};function Kd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dd(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function dd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ay.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var f9=_e.JSON.parse;function jt(t){cn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aA,this.L=this.M=!1}dn(jt,cn);var aA="",p9=/^https?$/i,m9=["POST","PUT"];te=jt.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Z0.g(),this.C=this.u?Fb(this.u):Fb(Z0),this.g.onreadystatechange=An(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Vb(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=_e.FormData&&t instanceof _e.FormData,!(0<=xO(m9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cA(this),0<this.B&&((this.L=g9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=An(this.ua,this)):this.A=gS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Vb(this,i)}};function g9(t){return $u&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof iS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,En(this,"timeout"),this.abort(8))};function Vb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lA(t),ly(t)}function lA(t){t.F||(t.F=!0,En(t,"complete"),En(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,En(this,"complete"),En(this,"abort"),ly(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ly(this,!0)),jt.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?uA(this):this.kb())};te.kb=function(){uA(this)};function uA(t){if(t.h&&typeof iS<"u"&&(!t.C[1]||Ns(t)!=4||t.da()!=2)){if(t.v&&Ns(t)==4)gS(t.La,0,t);else if(En(t,"readystatechange"),Ns(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(XO)[1]||null;!s&&_e.self&&_e.self.location&&(s=_e.self.location.protocol.slice(0,-1)),r=!p9.test(s?s.toLowerCase():"")}n=r}if(n)En(t,"complete"),En(t,"success");else{t.m=6;try{var i=2<Ns(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",lA(t)}}finally{ly(t)}}}}function ly(t,e){if(t.g){cA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||En(t,"ready");try{n.onreadystatechange=r}catch{}}}function cA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(_e.clearTimeout(t.A),t.A=null)}te.isActive=function(){return!!this.g};function Ns(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),f9(e)}};function Bb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case aA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function y9(t){const e={};t=(t.g&&2<=Ns(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(id(t[r]))continue;var n=B3(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}P3(e,function(r){return r.join(", ")})}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hA(t){let e="";return lS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ES(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):yt(t,e,n))}function Gc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dA(t){this.Ga=0,this.j=[],this.l=new ty,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gc("baseRetryDelayMs",5e3,t),this.hb=Gc("retryDelaySeedMs",1e4,t),this.eb=Gc("forwardChannelMaxRetries",2,t),this.xa=Gc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new tA(t&&t.concurrentRequestLimit),this.Ja=new c9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}te=dA.prototype;te.ra=8;te.H=1;function TS(t){if(fA(t),t.H==3){var e=t.W++,n=Ai(t.I);if(yt(n,"SID",t.K),yt(n,"RID",e),yt(n,"TYPE","terminate"),Qd(t,n),e=new Hd(t,t.l,e),e.L=2,e.v=oy(Ai(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon)try{n=_e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&_e.Image&&(new Image().src=e.v,n=!0),n||(e.g=SA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qd(e)}wA(t)}function uy(t){t.g&&(bS(t),t.g.cancel(),t.g=null)}function fA(t){uy(t),t.u&&(_e.clearTimeout(t.u),t.u=null),qm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&_e.clearTimeout(t.m),t.m=null)}function cy(t){if(!nA(t.i)&&!t.m){t.m=!0;var e=t.Na;ad||LO(),ld||(ad(),ld=!0),pS.add(e,t),t.C=0}}function v9(t,e){return rA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Yd(An(t.Na,t,e),vA(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Hd(this,this.l,t);let i=this.s;if(this.U&&(i?(i=CO(i),DO(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pA(this,s,e),n=Ai(this.I),yt(n,"RID",t),yt(n,"CVER",22),this.F&&yt(n,"X-HTTP-Session-Id",this.F),Qd(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(hA(i)))+"&"+e:this.o&&ES(n,this.o,i)),_S(this.i,s),this.bb&&yt(n,"TYPE","init"),this.P?(yt(n,"$req",e),yt(n,"SID","null"),s.aa=!0,t_(s,n,null)):t_(s,n,e),this.H=2}}else this.H==3&&(t?zb(this,t):this.j.length==0||nA(this.i)||zb(this))};function zb(t,e){var n;e?n=e.m:n=t.W++;const r=Ai(t.I);yt(r,"SID",t.K),yt(r,"RID",n),yt(r,"AID",t.V),Qd(t,r),t.o&&t.s&&ES(r,t.o,t.s),n=new Hd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=pA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_S(t.i,n),t_(n,r,e)}function Qd(t,e){t.na&&lS(t.na,function(n,r){yt(e,r,n)}),t.h&&QO({},function(n,r){yt(e,r,n)})}function pA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?An(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const d=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{h9(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function mA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ad||LO(),ld||(ad(),ld=!0),pS.add(e,t),t.A=0}}function xS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Yd(An(t.Ma,t),vA(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,gA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yd(An(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),uy(this),gA(this))};function bS(t){t.B!=null&&(_e.clearTimeout(t.B),t.B=null)}function gA(t){t.g=new Hd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ai(t.wa);yt(e,"RID","rpc"),yt(e,"SID",t.K),yt(e,"AID",t.V),yt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&yt(e,"TO",t.qa),yt(e,"TYPE","xmlhttp"),Qd(t,e),t.o&&t.s&&ES(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=oy(Ai(e)),n.s=null,n.S=!0,HO(n,t)}te.ib=function(){this.v!=null&&(this.v=null,uy(this),xS(this),Bn(19))};function qm(t){t.v!=null&&(_e.clearTimeout(t.v),t.v=null)}function yA(t,e){var n=null;if(t.g==e){qm(t),bS(t),t.g=null;var r=2}else if(r_(t.i,e))n=e.F,sA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=ny(),En(r,new BO(r,n)),cy(t)}else mA(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&v9(t,e)||r==2&&xS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Pa(t,5);break;case 4:Pa(t,10);break;case 3:Pa(t,6);break;default:Pa(t,2)}}}function vA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=An(t.pb,t);n||(n=new Ba("//www.google.com/images/cleardot.gif"),_e.location&&_e.location.protocol=="http"||Wm(n,"https"),oy(n)),d9(n.toString(),r)}else Bn(2);t.H=0,t.h&&t.h.za(e),wA(t),fA(t)}te.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))};function wA(t){if(t.H=0,t.ma=[],t.h){const e=iA(t.i);(e.length!=0||t.j.length!=0)&&(Rb(t.ma,e),Rb(t.ma,t.j),t.i.i.length=0,oS(t.j),t.j.length=0),t.h.ya()}}function _A(t,e,n){var r=n instanceof Ba?Ai(n):new Ba(n);if(r.g!="")e&&(r.g=e+"."+r.g),Hm(r,r.m);else{var s=_e.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ba(null);r&&Wm(i,r),e&&(i.g=e),s&&Hm(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&yt(r,n,e),yt(r,"VER",t.ra),Qd(t,r),r}function SA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new jt(new Gd({ob:!0})):new jt(t.va),e.Oa(t.J),e}te.isActive=function(){return!!this.h&&this.h.isActive(this)};function EA(){}te=EA.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.isActive=function(){return!0};te.Va=function(){};function Gm(){if($u&&!(10<=Number(O3)))throw Error("Environmental error: no available transport.")}Gm.prototype.g=function(t,e){return new Er(t,e)};function Er(t,e){cn.call(this),this.g=new dA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!id(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!id(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new hc(this)}dn(Er,cn);Er.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_A(t,null,t.Y),cy(t)};Er.prototype.close=function(){TS(this.g)};Er.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=fS(t),t=n);e.j.push(new a9(e.fb++,t)),e.H==3&&cy(e)};Er.prototype.N=function(){this.g.h=null,delete this.j,TS(this.g),delete this.g,Er.$.N.call(this)};function TA(t){vS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dn(TA,vS);function xA(){wS.call(this),this.status=1}dn(xA,wS);function hc(t){this.g=t}dn(hc,EA);hc.prototype.Ba=function(){En(this.g,"a")};hc.prototype.Aa=function(t){En(this.g,new TA(t))};hc.prototype.za=function(t){En(this.g,new xA)};hc.prototype.ya=function(){En(this.g,"b")};function w9(){this.blockSize=-1}function ys(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dn(ys,w9);ys.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ew(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}ys.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Ew(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Ew(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Ew(this,r),s=0;break}}this.h=s,this.i+=e};ys.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function st(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var _9={};function kS(t){return-128<=t&&128>t?C3(t,function(e){return new st([e|0],0>e?-1:0)}):new st([t|0],0>t?-1:0)}function Os(t){if(isNaN(t)||!isFinite(t))return Su;if(0>t)return wn(Os(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=s_;return new st(e,0)}function bA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return wn(bA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Os(Math.pow(e,8)),r=Su,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Os(Math.pow(e,i)),r=r.R(i).add(Os(o))):(r=r.R(n),r=r.add(Os(o)))}return r}var s_=4294967296,Su=kS(0),i_=kS(1),Yb=kS(16777216);te=st.prototype;te.ea=function(){if(Vr(this))return-wn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:s_+r)*e,e*=s_}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(mi(this))return"0";if(Vr(this))return"-"+wn(this).toString(t);for(var e=Os(Math.pow(t,6)),n=this,r="";;){var s=Qm(n,e).g;n=Km(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,mi(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function mi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vr(t){return t.h==-1}te.X=function(t){return t=Km(this,t),Vr(t)?-1:mi(t)?0:1};function wn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new st(n,~t.h).add(i_)}te.abs=function(){return Vr(this)?wn(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new st(n,n[n.length-1]&-2147483648?-1:0)};function Km(t,e){return t.add(wn(e))}te.R=function(t){if(mi(this)||mi(t))return Su;if(Vr(this))return Vr(t)?wn(this).R(wn(t)):wn(wn(this).R(t));if(Vr(t))return wn(this.R(wn(t)));if(0>this.X(Yb)&&0>t.X(Yb))return Os(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,_p(n,2*r+2*s),n[2*r+2*s+1]+=i*l,_p(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,_p(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,_p(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new st(n,0)};function _p(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Kc(t,e){this.g=t,this.h=e}function Qm(t,e){if(mi(e))throw Error("division by zero");if(mi(t))return new Kc(Su,Su);if(Vr(t))return e=Qm(wn(t),e),new Kc(wn(e.g),wn(e.h));if(Vr(e))return e=Qm(t,wn(e)),new Kc(wn(e.g),e.h);if(30<t.g.length){if(Vr(t)||Vr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=i_,r=e;0>=r.X(t);)n=Wb(n),r=Wb(r);var s=Yl(n,1),i=Yl(r,1);for(r=Yl(r,2),n=Yl(n,2);!mi(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Yl(r,1),n=Yl(n,1)}return e=Km(t,s.R(e)),new Kc(s,e)}for(s=Su;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Os(n),o=i.R(e);Vr(o)||0<o.X(t);)n-=r,i=Os(n),o=i.R(e);mi(i)&&(i=i_),s=s.add(i),t=Km(t,o)}return new Kc(s,t)}te.gb=function(t){return Qm(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new st(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new st(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new st(n,this.h^t.h)};function Wb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new st(n,t.h)}function Yl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new st(s,t.h)}Gm.prototype.createWebChannel=Gm.prototype.g;Er.prototype.send=Er.prototype.u;Er.prototype.open=Er.prototype.m;Er.prototype.close=Er.prototype.close;ry.NO_ERROR=0;ry.TIMEOUT=8;ry.HTTP_ERROR=6;zO.COMPLETE="complete";YO.EventType=Wd;Wd.OPEN="a";Wd.CLOSE="b";Wd.ERROR="c";Wd.MESSAGE="d";cn.prototype.listen=cn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;ys.prototype.digest=ys.prototype.l;ys.prototype.reset=ys.prototype.reset;ys.prototype.update=ys.prototype.j;st.prototype.add=st.prototype.add;st.prototype.multiply=st.prototype.R;st.prototype.modulo=st.prototype.gb;st.prototype.compare=st.prototype.X;st.prototype.toNumber=st.prototype.ea;st.prototype.toString=st.prototype.toString;st.prototype.getBits=st.prototype.D;st.fromNumber=Os;st.fromString=bA;var S9=function(){return new Gm},E9=function(){return ny()},Tw=ry,T9=zO,x9=ml,Hb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},b9=Gd,Sp=YO,k9=jt,I9=ys,Eu=st;const qb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Gg("@firebase/firestore");function o_(){return $o.logLevel}function C9(t){$o.setLogLevel(t)}function W(t,...e){if($o.logLevel<=Ue.DEBUG){const n=e.map(IS);$o.debug(`Firestore (${dc}): ${t}`,...n)}}function zt(t,...e){if($o.logLevel<=Ue.ERROR){const n=e.map(IS);$o.error(`Firestore (${dc}): ${t}`,...n)}}function vs(t,...e){if($o.logLevel<=Ue.WARN){const n=e.map(IS);$o.warn(`Firestore (${dc}): ${t}`,...n)}}function IS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+t;throw zt(e),new Error(e)}function fe(t,e){t||re()}function D9(t,e){t||re()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class O9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class A9{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new un;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new un,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new un)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new kA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new an(e)}}class R9{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class M9{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new R9(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.T=n.token,new P9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=$9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Fu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function CA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new Ct(0,0))}static max(){return new de(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends fd{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const F9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends fd{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return F9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ve.fromString(e))}static fromName(e){return new Z(Ve.fromString(e).popFirst(5))}static empty(){return new Z(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function a_(t){return t.fields.find(e=>e.kind===2)}function xa(t){return t.fields.filter(e=>e.kind!==2)}DA.UNKNOWN_ID=-1;class j9{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xm(0,Tr.min())}}function NA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Tr(s,Z.empty(),e)}function OA(t){return new Tr(t.readTime,t.key,-1)}class Tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tr(de.min(),Z.empty(),-1)}static max(){return new Tr(de.max(),Z.empty(),-1)}}function CS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==AA)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(s=>s?P.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new P((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new P((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new un,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new bh(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=DS(r.target.error);this.v.reject(new bh(e,s))}}static open(e,n,r,s){try{return new hy(n,e.transaction(s,r))}catch(i){throw new bh(n,i)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new V9(n)}}class ds{constructor(e,n,r){this.name=e,this.version=n,this.V=r,ds.S(tn())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hO())return!1;if(ds.C())return!0;const e=tn(),n=ds.S(e),r=0<n&&n<10,s=ds.N(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new bh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new Y(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Y(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new bh(e,o))},s.onupgradeneeded=i=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.V.O(o,s.transaction,i.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=hy.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.P(),c)).catch(c=>(a.abort(c),P.reject(c))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class U9{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ba(this.L.delete())}}class bh extends Y{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Zo(t){return t.name==="IndexedDbTransactionError"}class V9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ba(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),ba(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const s=this.cursor(r),i=[];return this.W(s,(o,a)=>{i.push(a)}).next(()=>i)}{const s=this.store.getAll(r.range);return new P((i,o)=>{s.onerror=a=>{o(a.target.error)},s.onsuccess=a=>{i(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}J(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const s=this.cursor(r);return this.W(s,(i,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Z(e){const n=this.cursor({});return new P((r,s)=>{n.onerror=i=>{const o=DS(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new P((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new U9(a),c=n(a.primaryKey,a.value,l);if(c instanceof P){const d=c.catch(p=>(l.done(),P.reject(p)));r.push(d)}l.isDone?s():l.K===null?a.continue():a.continue(l.K)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ba(t){return new P((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=DS(r.target.error);n(s)}})}let Gb=!1;function DS(t){const e=ds.S(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gb||(Gb=!0,setTimeout(()=>{throw r},0)),r}}return t}class B9{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){W("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{W("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){Zo(n)?W("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Jo(n)}await this.et(6e4)})}}class z9{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let s=n,i=!0;return P.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return W("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(s,i)).next(a=>(W("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=OA(i);CS(o,r)>0&&(r=o)}),new Tr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}nr.ct=-1;function Xd(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function MA(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Kb(e)),e=Y9(t.get(n),e);return Kb(e)}function Y9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function Kb(t){return t+""}function As(t){const e=t.length;if(fe(e>=2),e===2)return fe(t.charAt(0)===""&&t.charAt(1)===""),Ve.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&re(),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:re()}i=o+2}return new Ve(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e){return[t,Yn(e)]}function PA(t,e,n){return[t,Yn(e),n]}const W9={},H9=["prefixPath","collectionGroup","readTime","documentId"],q9=["prefixPath","collectionGroup","documentId"],G9=["collectionGroup","readTime","prefixPath","documentId"],K9=["canonicalId","targetId"],Q9=["targetId","path"],X9=["path","targetId"],J9=["collectionId","parent"],Z9=["indexId","uid"],eY=["uid","sequenceNumber"],tY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nY=["indexId","uid","orderedDocumentKey"],rY=["userId","collectionPath","documentId"],sY=["userId","collectionPath","largestBatchId"],iY=["userId","collectionGroup","largestBatchId"],LA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oY=[...LA,"documentOverlays"],$A=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FA=$A,aY=[...FA,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends RA{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function fn(t,e){const n=ee(t);return ds.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=i??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,e,n,r,s){return this}insert(t,e,n){return new vn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jb(this.data.getIterator())}getIteratorFrom(e){return new Jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class Jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new rr([])}unionWith(e){let n=new _t(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lY(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new UA("Invalid base64 string: "+s):s}}(e);return new nn(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const uY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(fe(!!t),typeof t=="string"){let e=0;const n=uY.exec(t);if(fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NS(t){const e=t.mapValue.fields.__previous_value__;return dy(e)?NS(e):e}function md(t){const e=Fo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Uo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qp={nullValue:"NULL_VALUE"};function Za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:VA(t)?9007199254740991:10:re()}function zs(t,e){if(t===e)return!0;const n=Za(t);if(n!==Za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return md(t).isEqual(md(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Fo(r.timestampValue),o=Fo(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return jo(r.bytesValue).isEqual(jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ft(r.geoPointValue.latitude)===Ft(s.geoPointValue.latitude)&&Ft(r.geoPointValue.longitude)===Ft(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ft(r.integerValue)===Ft(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Ft(r.doubleValue),o=Ft(s.doubleValue);return i===o?pd(i)===pd(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Xb(i)!==Xb(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!zs(i[a],o[a])))return!1;return!0}(t,e);default:return re()}}function gd(t,e){return(t.values||[]).find(n=>zs(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=Za(t),r=Za(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Ft(s.integerValue||s.doubleValue),a=Ft(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Zb(t.timestampValue,e.timestampValue);case 4:return Zb(md(t),md(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,i){const o=jo(s),a=jo(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Te(o[l],a[l]);if(c!==0)return c}return Te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=Te(Ft(s.latitude),Ft(i.latitude));return o!==0?o:Te(Ft(s.longitude),Ft(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Vo(o[l],a[l]);if(c)return c}return Te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===vo.mapValue&&i===vo.mapValue)return 0;if(s===vo.mapValue)return 1;if(i===vo.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const p=Te(a[d],c[d]);if(p!==0)return p;const y=Vo(o[a[d]],l[c[d]]);if(y!==0)return y}return Te(a.length,c.length)}(t.mapValue,e.mapValue);default:throw re()}}function Zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Fo(t),r=Fo(e),s=Te(n.seconds,r.seconds);return s!==0?s:Te(n.nanos,r.nanos)}function ju(t){return u_(t)}function u_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Fo(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?jo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=u_(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${u_(r.fields[a])}`;return i+"}"}(t.mapValue):re();var e,n}function el(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function c_(t){return!!t&&"integerValue"in t}function yd(t){return!!t&&"arrayValue"in t}function ek(t){return!!t&&"nullValue"in t}function tk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gp(t){return!!t&&"mapValue"in t}function kh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function hY(t){return"nullValue"in t?qp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?el(Uo.empty(),Z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:re()}function dY(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?el(Uo.empty(),Z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vo:re()}function nk(t,e){const n=Vo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function rk(t,e){const n=Vo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(n)}setAll(e){let n=Yt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=kh(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){gl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _n(kh(this.value))}}function BA(t){const e=[];return gl(t.fields,(n,r)=>{const s=new Yt([n]);if(Gp(r)){const i=BA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,de.min(),de.min(),de.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new vt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new vt(e,2,n,de.min(),de.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,de.min(),de.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.position=e,this.inclusive=n}}function sk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Vo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ik(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function fY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{}class Me extends zA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pY(e,n,r):n==="array-contains"?new yY(e,r):n==="in"?new KA(e,r):n==="not-in"?new vY(e,r):n==="array-contains-any"?new wY(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mY(e,r):new gY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Za(this.value)===Za(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nt extends zA{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new nt(e,n)}matches(e){return Uu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Uu(t){return t.op==="and"}function h_(t){return t.op==="or"}function OS(t){return YA(t)&&Uu(t)}function YA(t){for(const e of t.filters)if(e instanceof nt)return!1;return!0}function d_(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+ju(t.value);if(OS(t))return t.filters.map(e=>d_(e)).join(",");{const e=t.filters.map(n=>d_(n)).join(",");return`${t.op}(${e})`}}function WA(t,e){return t instanceof Me?function(n,r){return r instanceof Me&&n.op===r.op&&n.field.isEqual(r.field)&&zs(n.value,r.value)}(t,e):t instanceof nt?function(n,r){return r instanceof nt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&WA(i,r.filters[o]),!0):!1}(t,e):void re()}function HA(t,e){const n=t.filters.concat(e);return nt.create(n,t.op)}function qA(t){return t instanceof Me?function(e){return`${e.field.canonicalString()} ${e.op} ${ju(e.value)}`}(t):t instanceof nt?function(e){return e.op.toString()+" {"+e.getFilters().map(qA).join(" ,")+"}"}(t):"Filter"}class pY extends Me{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class mY extends Me{constructor(e,n){super(e,"in",n),this.keys=GA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gY extends Me{constructor(e,n){super(e,"not-in",n),this.keys=GA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class yY extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yd(n)&&gd(n.arrayValue,this.value)}}class KA extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gd(this.value.arrayValue,n)}}class vY extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gd(this.value.arrayValue,n)}}class wY extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function f_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new _Y(t,e,n,r,s,i,o)}function tl(t){const e=ee(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>d_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ju(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ju(r)).join(",")),e.dt=n}return e.dt}function Jd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ik(t.startAt,e.startAt)&&ik(t.endAt,e.endAt)}function Jm(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Zm(t,e){return t.filters.filter(n=>n instanceof Me&&n.field.isEqual(e))}function ok(t,e,n){let r=qp,s=!0;for(const i of Zm(t,e)){let o=qp,a=!0;switch(i.op){case"<":case"<=":o=hY(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=qp}nk({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];nk({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function ak(t,e,n){let r=vo,s=!0;for(const i of Zm(t,e)){let o=vo,a=!0;switch(i.op){case">=":case">":o=dY(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=vo}rk({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];rk({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function QA(t,e,n,r,s,i,o,a){return new Ui(t,e,n,r,s,i,o,a)}function fc(t){return new Ui(t)}function lk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function RS(t){return t.collectionGroup!==null}function za(t){const e=ee(t);if(e.wt===null){e.wt=[];const n=fy(e),r=AS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Tu(n)),e.wt.push(new Tu(Yt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Tu(Yt.keyField(),i))}}}return e.wt}function lr(t){const e=ee(t);if(!e._t)if(e.limitType==="F")e._t=f_(e.path,e.collectionGroup,za(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of za(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Tu(i.field,o))}const r=e.endAt?new Bo(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Bo(e.startAt.position,e.startAt.inclusive):null;e._t=f_(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function p_(t,e){e.getFirstInequalityField(),fy(t);const n=t.filters.concat([e]);return new Ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eg(t,e,n){return new Ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zd(t,e){return Jd(lr(t),lr(e))&&t.limitType===e.limitType}function XA(t){return`${tl(lr(t))}|lt:${t.limitType}`}function m_(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>qA(r)).join(", ")}]`),Xd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ju(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ju(r)).join(",")),`Target(${n})`}(lr(t))}; limitType=${t.limitType})`}function ef(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Z.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of za(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=sk(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,za(n),r)||n.endAt&&!function(s,i,o){const a=sk(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,za(n),r))}(t,e)}function JA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZA(t){return(e,n)=>{let r=!1;for(const s of za(t)){const i=SY(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function SY(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Vo(a,l):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=new dt(Z.comparator);function sr(){return EY}const eR=new dt(Z.comparator);function dh(...t){let e=eR;for(const n of t)e=e.insert(n.key,n);return e}function tR(t){let e=eR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rs(){return Ih()}function nR(){return Ih()}function Ih(){return new ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const TY=new dt(Z.comparator),xY=new _t(Z.comparator);function xe(...t){let e=xY;for(const n of t)e=e.add(n);return e}const bY=new _t(Te);function MS(){return bY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function sR(t){return{integerValue:""+t}}function iR(t,e){return MA(e)?sR(e):rR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this._=void 0}}function kY(t,e,n){return t instanceof Vu?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&dy(s)&&(s=NS(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof nl?aR(t,e):t instanceof rl?lR(t,e):function(r,s){const i=oR(r,s),o=uk(i)+uk(r.gt);return c_(i)&&c_(r.gt)?sR(o):rR(r.serializer,o)}(t,e)}function IY(t,e,n){return t instanceof nl?aR(t,e):t instanceof rl?lR(t,e):n}function oR(t,e){return t instanceof Bu?c_(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Vu extends py{}class nl extends py{constructor(e){super(),this.elements=e}}function aR(t,e){const n=uR(e);for(const r of t.elements)n.some(s=>zs(s,r))||n.push(r);return{arrayValue:{values:n}}}class rl extends py{constructor(e){super(),this.elements=e}}function lR(t,e){let n=uR(e);for(const r of t.elements)n=n.filter(s=>!zs(s,r));return{arrayValue:{values:n}}}class Bu extends py{constructor(e,n){super(),this.serializer=e,this.gt=n}}function uk(t){return Ft(t.integerValue||t.doubleValue)}function uR(t){return yd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.field=e,this.transform=n}}function CY(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof nl&&r instanceof nl||n instanceof rl&&r instanceof rl?Fu(n.elements,r.elements,zs):n instanceof Bu&&r instanceof Bu?zs(n.gt,r.gt):n instanceof Vu&&r instanceof Vu}(t.transform,e.transform)}class DY{constructor(e,n){this.version=e,this.transformResults=n}}class It{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new It}static exists(e){return new It(void 0,e)}static updateTime(e){return new It(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class my{}function cR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mc(t.key,It.none()):new pc(t.key,t.data,It.none());{const n=t.data,r=_n.empty();let s=new _t(Yt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Vi(t.key,r,new rr(s.toArray()),It.none())}}function NY(t,e,n){t instanceof pc?function(r,s,i){const o=r.value.clone(),a=hk(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(r,s,i){if(!Kp(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=hk(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(hR(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ch(t,e,n,r){return t instanceof pc?function(s,i,o,a){if(!Kp(s.precondition,i))return o;const l=s.value.clone(),c=dk(s.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(s,i,o,a){if(!Kp(s.precondition,i))return o;const l=dk(s.fieldTransforms,a,i),c=i.data;return c.setAll(hR(s)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,o){return Kp(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function OY(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=oR(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function ck(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Fu(n,r,(s,i)=>CY(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends my{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Vi extends my{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hk(t,e,n){const r=new Map;fe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,IY(o,a,n[s]))}return r}function dk(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,kY(i,o,e))}return r}class mc extends my{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PS extends my{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&NY(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=cR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,(n,r)=>ck(n,r))&&Fu(this.baseMutations,e.baseMutations,(n,r)=>ck(n,r))}}class $S{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){fe(e.mutations.length===r.length);let s=TY;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $S(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,je;function dR(t){switch(t){default:return re();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function fR(t){if(t===void 0)return zt("GRPC error has no .code"),L.UNKNOWN;switch(t){case qt.OK:return L.OK;case qt.CANCELLED:return L.CANCELLED;case qt.UNKNOWN:return L.UNKNOWN;case qt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case qt.INTERNAL:return L.INTERNAL;case qt.UNAVAILABLE:return L.UNAVAILABLE;case qt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case qt.NOT_FOUND:return L.NOT_FOUND;case qt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case qt.ABORTED:return L.ABORTED;case qt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case qt.DATA_LOSS:return L.DATA_LOSS;default:return re()}}(je=qt||(qt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tp}static getOrCreateInstance(){return Tp===null&&(Tp=new jS),Tp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Tp=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=new Eu([4294967295,4294967295],0);function fk(t){const e=pR().encode(t),n=new I9;return n.update(e),new Uint8Array(n.digest())}function pk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Eu([n,r],0),new Eu([s,i],0)]}class US{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fh(`Invalid padding: ${n}`);if(r<0)throw new fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fh(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Eu.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Eu.fromNumber(r)));return s.compare(RY)===1&&(s=new Eu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=fk(e),[r,s]=pk(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new US(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=fk(e),[r,s]=pk(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(de.min(),s,new dt(Te),sr(),xe())}}class rf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rf(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class mR{constructor(e,n){this.targetId=e,this.Vt=n}}class gR{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mk{constructor(){this.St=0,this.Dt=yk(),this.Ct=nn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=xe(),n=xe(),r=xe();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:re()}}),new rf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=yk()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class MY{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=sr(),this.zt=gk(),this.Wt=new dt(Te)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(Jm(o))if(s===0){const a=new Z(o.path);this.Yt(r,a,vt.newNoDocument(a,de.min()))}else fe(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=jS.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,p){var y,_,E,x,I,b;const T={localCacheCount:d,existenceFilterCount:p.count},k=p.unchangedNames;return k&&(T.bloomFilter={applied:c===0,hashCount:(y=k==null?void 0:k.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(x=(E=(_=k==null?void 0:k.bits)===null||_===void 0?void 0:_.bitmap)===null||E===void 0?void 0:E.length)!==null&&x!==void 0?x:0,padding:(b=(I=k==null?void 0:k.bits)===null||I===void 0?void 0:I.padding)!==null&&b!==void 0?b:0}),T}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=jo(i).toUint8Array()}catch(d){if(d instanceof UA)return vs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new US(l,o,a)}catch(d){return vs(d instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Jm(a.target)){const l=new Z(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,vt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=xe();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new nf(e,n,this.Wt,this.jt,r);return this.jt=sr(),this.zt=gk(),this.Wt=new dt(Te),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new mk,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _t(Te),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new mk),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function gk(){return new dt(Z.comparator)}function yk(){return new dt(Z.comparator)}const PY=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),LY=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$Y=(()=>({and:"AND",or:"OR"}))();class FY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g_(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function zu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jY(t,e){return zu(t,e.toTimestamp())}function Wt(t){return fe(!!t),de.fromTimestamp(function(e){const n=Fo(e);return new Ct(n.seconds,n.nanos)}(t))}function VS(t,e){return function(n){return new Ve(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function vR(t){const e=Ve.fromString(t);return fe(IR(e)),e}function vd(t,e){return VS(t.databaseId,e.path)}function Fs(t,e){const n=vR(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(_R(n))}function y_(t,e){return VS(t.databaseId,e)}function wR(t){const e=vR(t);return e.length===4?Ve.emptyPath():_R(e)}function wd(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _R(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vk(t,e,n){return{name:vd(t,e),fields:n.value.mapValue.fields}}function SR(t,e,n){const r=Fs(t,e.name),s=Wt(e.updateTime),i=e.createTime?Wt(e.createTime):de.min(),o=new _n({mapValue:{fields:e.fields}}),a=vt.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function UY(t,e){return"found"in e?function(n,r){fe(!!r.found),r.found.name,r.found.updateTime;const s=Fs(n,r.found.name),i=Wt(r.found.updateTime),o=r.found.createTime?Wt(r.found.createTime):de.min(),a=new _n({mapValue:{fields:r.found.fields}});return vt.newFoundDocument(s,i,o,a)}(t,e):"missing"in e?function(n,r){fe(!!r.missing),fe(!!r.readTime);const s=Fs(n,r.missing),i=Wt(r.readTime);return vt.newNoDocument(s,i)}(t,e):re()}function VY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(fe(c===void 0||typeof c=="string"),nn.fromBase64String(c||"")):(fe(c===void 0||c instanceof Uint8Array),nn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?L.UNKNOWN:fR(l.code);return new Y(c,l.message||"")}(o);n=new gR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fs(t,r.document.name),i=Wt(r.document.updateTime),o=r.document.createTime?Wt(r.document.createTime):de.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=vt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Qp(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fs(t,r.document),i=r.readTime?Wt(r.readTime):de.min(),o=vt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Qp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fs(t,r.document),i=r.removedTargetIds||[];n=new Qp([],i,s,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new AY(s,i),a=r.targetId;n=new mR(a,o)}}return n}function _d(t,e){let n;if(e instanceof pc)n={update:vk(t,e.key,e.value)};else if(e instanceof mc)n={delete:vd(t,e.key)};else if(e instanceof Vi)n={update:vk(t,e.key,e.data),updateMask:qY(e.fieldMask)};else{if(!(e instanceof PS))return re();n={verify:vd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Vu)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nl)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof rl)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bu)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:jY(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function v_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?It.updateTime(Wt(s.updateTime)):s.exists!==void 0?It.exists(s.exists):It.none()}(e.currentDocument):It.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(i,o){let a=null;if("setToServerValue"in o)fe(o.setToServerValue==="REQUEST_TIME"),a=new Vu;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];a=new nl(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];a=new rl(c)}else"increment"in o?a=new Bu(i,o.increment):re();const l=Yt.fromServerFormat(o.fieldPath);return new tf(l,a)}(t,s)):[];if(e.update){e.update.name;const s=Fs(t,e.update.name),i=new _n({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new rr(l.map(c=>Yt.fromServerFormat(c)))}(e.updateMask);return new Vi(s,i,o,n,r)}return new pc(s,i,n,r)}if(e.delete){const s=Fs(t,e.delete);return new mc(s,n)}if(e.verify){const s=Fs(t,e.verify);return new PS(s,n)}return re()}function BY(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?Wt(r.updateTime):Wt(s);return i.isEqual(de.min())&&(i=Wt(s)),new DY(i,r.transformResults||[])}(n,e))):[]}function ER(t,e){return{documents:[y_(t,e.path)]}}function TR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=y_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=y_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return kR(nt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Kl(d.field),direction:YY(d.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=g_(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function xR(t){let e=wR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){fe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(d){const p=bR(d);return p instanceof nt&&OS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(p){return new Tu(Ql(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d)));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,Xd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,y=d.values||[];return new Bo(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,y=d.values||[];return new Bo(y,p)}(n.endAt)),QA(e,s,o,i,a,"F",l,c)}function zY(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bR(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ql(e.unaryFilter.field);return Me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ql(e.unaryFilter.field);return Me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ql(e.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ql(e.unaryFilter.field);return Me.create(i,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(e){return Me.create(Ql(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return nt.create(e.compositeFilter.filters.map(n=>bR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(t):re()}function YY(t){return PY[t]}function WY(t){return LY[t]}function HY(t){return $Y[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Ql(t){return Yt.fromServerFormat(t.fieldPath)}function kR(t){return t instanceof Me?function(e){if(e.op==="=="){if(tk(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NAN"}};if(ek(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(tk(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NOT_NAN"}};if(ek(e.value))return{unaryFilter:{field:Kl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(e.field),op:WY(e.op),value:e.value}}}(t):t instanceof nt?function(e){const n=e.getFilters().map(r=>kR(r));return n.length===1?n[0]:{compositeFilter:{op:HY(e.op),filters:n}}}(t):re()}function qY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,s,i=de.min(),o=de.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.fe=e}}function GY(t,e){let n;if(e.document)n=SR(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Z.fromSegments(e.noDocument.path),s=il(e.noDocument.readTime);n=vt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return re();{const r=Z.fromSegments(e.unknownDocument.path),s=il(e.unknownDocument.version);n=vt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(r){const s=new Ct(r[0],r[1]);return de.fromTimestamp(s)}(e.readTime)),n}function wk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,i){return{name:vd(s,i.key),fields:i.data.value.mapValue.fields,updateTime:zu(s,i.version.toTimestamp()),createTime:zu(s,i.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sl(e.version)};else{if(!e.isUnknownDocument())return re();r.unknownDocument={path:n.path.toArray(),version:sl(e.version)}}return r}function tg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function sl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function il(t){const e=new Ct(t.seconds,t.nanoseconds);return de.fromTimestamp(e)}function ka(t,e){const n=(e.baseMutations||[]).map(i=>v_(t.fe,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>v_(t.fe,i)),s=Ct.fromMillis(e.localWriteTimeMs);return new LS(e.batchId,s,n,r)}function ph(t){const e=il(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?il(t.lastLimboFreeSnapshotVersion):de.min();let r;var s;return t.query.documents!==void 0?(fe((s=t.query).documents.length===1),r=lr(fc(wR(s.documents[0])))):r=function(i){return lr(xR(i))}(t.query),new gi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,nn.fromBase64String(t.resumeToken))}function DR(t,e){const n=sl(e.snapshotVersion),r=sl(e.lastLimboFreeSnapshotVersion);let s;s=Jm(e.target)?ER(t.fe,e.target):TR(t.fe,e.target);const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function BS(t){const e=xR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}function xw(t,e){return new FS(e.largestBatchId,v_(t.fe,e.overlayMutation))}function _k(t,e){const n=e.path.lastSegment();return[t,Yn(e.path.popLast()),n]}function Sk(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:sl(r.readTime),documentKey:Yn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{getBundleMetadata(e,n){return Ek(e).get(n).next(r=>{if(r)return{id:(s=r).bundleId,createTime:il(s.createTime),version:s.version};var s})}saveBundleMetadata(e,n){return Ek(e).put({bundleId:(r=n).id,createTime:sl(Wt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return Tk(e).get(n).next(r=>{if(r)return{name:(s=r).name,query:BS(s.bundledQuery),readTime:il(s.readTime)};var s})}saveNamedQuery(e,n){return Tk(e).put(function(r){return{name:r.name,readTime:sl(Wt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function Ek(t){return fn(t,"bundles")}function Tk(t){return fn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new gy(e,r)}getOverlay(e,n){return Qc(e).get(_k(this.userId,n)).next(r=>r?xw(this.serializer,r):null)}getOverlays(e,n){const r=Rs();return P.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new FS(n,o);s.push(this.we(e,a))}),P.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Yn(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Qc(e).J("collectionPathOverlayIndex",a))}),P.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Rs(),i=Yn(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Qc(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=xw(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Rs();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Qc(e).X({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const p=xw(this.serializer,c);i.size()<s||p.largestBatchId===o?(i.set(p.getKey(),p),o=p.largestBatchId):d.done()}).next(()=>i)}we(e,n){return Qc(e).put(function(r,s,i){const[o,a,l]=_k(s,i.mutation.key);return{userId:s,collectionPath:a,documentId:l,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:_d(r.fe,i.mutation)}}(this.serializer,this.userId,n))}}function Qc(t){return fn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ft(e.integerValue));else if("doubleValue"in e){const r=Ft(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),pd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(jo(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?VA(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):re()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const s of Object.keys(r))this.Te(s,n),this.me(r[s],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const s of r)this.me(s,n)}ve(e,n){this.ye(n,37),Z.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ia.Ve=new Ia;function QY(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function xk(t){const e=64-function(n){let r=0;for(let s=0;s<8;++s){const i=QY(255&n[s]);if(r+=i,i!==8)break}return r}(t);return Math.ceil(e/8)}class XY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=n.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=n.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const n=this.Fe(e),r=xk(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Le(e){const n=this.Fe(e),r=xk(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class JY{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ZY{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Xc{constructor(){this.je=new XY,this.ze=new JY(this.je),this.We=new ZY(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ca(this.indexId,this.documentKey,this.arrayValue,r)}}function Ji(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=bk(t.arrayValue,e.arrayValue),n!==0?n:(n=bk(t.directionalValue,e.directionalValue),n!==0?n:Z.comparator(t.documentKey,e.documentKey)))}function bk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){fe(e.collectionGroup===this.collectionId);const n=a_(e);if(n!==void 0&&!this.en(n))return!1;const r=xa(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.en(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Ze!==void 0){if(!s.has(this.Ze.field.canonicalString())){const a=r[i];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[o++],a))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],a))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){var e,n;if(fe(t instanceof Me||t instanceof nt),t instanceof Me){if(t instanceof KA){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>Me.create(t.field,"==",i)))||[];return nt.create(s,"or")}return t}const r=t.filters.map(s=>NR(s));return nt.create(r,t.op)}function tW(t){if(t.getFilters().length===0)return[];const e=S_(NR(t));return fe(OR(e)),w_(e)||__(e)?[e]:e.getFilters()}function w_(t){return t instanceof Me}function __(t){return t instanceof nt&&OS(t)}function OR(t){return w_(t)||__(t)||function(e){if(e instanceof nt&&h_(e)){for(const n of e.getFilters())if(!w_(n)&&!__(n))return!1;return!0}return!1}(t)}function S_(t){if(fe(t instanceof Me||t instanceof nt),t instanceof Me)return t;if(t.filters.length===1)return S_(t.filters[0]);const e=t.filters.map(r=>S_(r));let n=nt.create(e,t.op);return n=ng(n),OR(n)?n:(fe(n instanceof nt),fe(Uu(n)),fe(n.filters.length>1),n.filters.reduce((r,s)=>zS(r,s)))}function zS(t,e){let n;return fe(t instanceof Me||t instanceof nt),fe(e instanceof Me||e instanceof nt),n=t instanceof Me?e instanceof Me?function(r,s){return nt.create([r,s],"and")}(t,e):kk(t,e):e instanceof Me?kk(e,t):function(r,s){if(fe(r.filters.length>0&&s.filters.length>0),Uu(r)&&Uu(s))return HA(r,s.getFilters());const i=h_(r)?r:s,o=h_(r)?s:r,a=i.filters.map(l=>zS(l,o));return nt.create(a,"or")}(t,e),ng(n)}function kk(t,e){if(Uu(e))return HA(e,t.getFilters());{const n=e.filters.map(r=>zS(t,r));return nt.create(n,"or")}}function ng(t){if(fe(t instanceof Me||t instanceof nt),t instanceof Me)return t;const e=t.getFilters();if(e.length===1)return ng(e[0]);if(YA(t))return t;const n=e.map(s=>ng(s)),r=[];return n.forEach(s=>{s instanceof Me?r.push(s):s instanceof nt&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:nt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(){this.rn=new YS}addToCollectionParentIndex(e,n){return this.rn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Tr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class YS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new Uint8Array(0);class rW{constructor(e,n){this.user=e,this.databaseId=n,this.on=new YS,this.un=new ea(r=>tl(r),(r,s)=>Jd(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const i={collectionId:r,parent:Yn(s)};return Ik(e).put(i)}return P.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[CA(n),""],!1,!0);return Ik(e).j(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(As(o.parent))}return r})}addFieldIndex(e,n){const r=bp(e),s=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Zc(e);return i.next(a=>{o.put(Sk(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=bp(e),s=Zc(e),i=Jc(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Jc(e);let s=!0;const i=new Map;return P.forEach(this.cn(n),o=>this.an(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=xe();const a=[];return P.forEach(i,(l,c)=>{var d;W("IndexedDbIndexManager",`Using index ${d=l,`id=${d.indexId}|cg=${d.collectionGroup}|f=${d.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`} to execute ${tl(n)}`);const p=function(k,D){const R=a_(D);if(R===void 0)return null;for(const M of Zm(k,R.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(c,l),y=function(k,D){const R=new Map;for(const M of xa(D))for(const $ of Zm(k,M.fieldPath))switch($.op){case"==":case"in":R.set(M.fieldPath.canonicalString(),$.value);break;case"not-in":case"!=":return R.set(M.fieldPath.canonicalString(),$.value),Array.from(R.values())}return null}(c,l),_=function(k,D){const R=[];let M=!0;for(const $ of xa(D)){const z=$.kind===0?ok(k,$.fieldPath,k.startAt):ak(k,$.fieldPath,k.startAt);R.push(z.value),M&&(M=z.inclusive)}return new Bo(R,M)}(c,l),E=function(k,D){const R=[];let M=!0;for(const $ of xa(D)){const z=$.kind===0?ak(k,$.fieldPath,k.endAt):ok(k,$.fieldPath,k.endAt);R.push(z.value),M&&(M=z.inclusive)}return new Bo(R,M)}(c,l),x=this.hn(l,c,_),I=this.hn(l,c,E),b=this.ln(l,c,y),T=this.fn(l.indexId,p,x,_.inclusive,I,E.inclusive,b);return P.forEach(T,k=>r.H(k,n.limit).next(D=>{D.forEach(R=>{const M=Z.fromSegments(R.documentKey);o.has(M)||(o=o.add(M),a.push(M))})}))}).next(()=>a)}return P.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=tW(nt.create(e.filters,"and")).map(r=>f_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),d=[];for(let p=0;p<l;++p){const y=n?this.dn(n[p/c]):xp,_=this.wn(e,y,r[p%c],s),E=this._n(e,y,i[p%c],o),x=a.map(I=>this.wn(e,y,I,!0));d.push(...this.createRange(_,E,x))}return d}wn(e,n,r,s){const i=new Ca(e,Z.empty(),n,r);return s?i:i.Je()}_n(e,n,r,s){const i=new Ca(e,Z.empty(),n,r);return s?i.Je():i}an(e,n){const r=new eW(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.cn(n);return P.forEach(s,i=>this.an(e,i).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new _t(Yt.comparator),c=!1;for(const d of a.filters)for(const p of d.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?c=!0:l=l.add(p.field));for(const d of a.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(c?1:0)}(i)&&(r=1):r=0})).next(()=>function(i){return i.limit!==null}(n)&&s.length>1&&r===2?1:r)}mn(e,n){const r=new Xc;for(const s of xa(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.He(s.kind);Ia.Ve._e(i,o)}return r.Qe()}dn(e){const n=new Xc;return Ia.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new Xc;return Ia.Ve._e(el(this.databaseId,n),r.He(function(s){const i=xa(s);return i.length===0?0:i[i.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let s=[];s.push(new Xc);let i=0;for(const o of xa(e)){const a=r[i++];for(const l of s)if(this.yn(n,o.fieldPath)&&yd(a))s=this.pn(s,o,a);else{const c=l.He(o.kind);Ia.Ve._e(a,c)}}return this.In(s)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new Xc;l.seed(a.Qe()),Ia.Ve._e(o,l.He(n.kind)),i.push(l)}return i}yn(e,n){return!!e.filters.find(r=>r instanceof Me&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bp(e),s=Zc(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(i=>{const o=[];return P.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const p=d?new Xm(d.sequenceNumber,new Tr(il(d.readTime),new Z(As(d.documentKey)),d.largestBatchId)):Xm.empty(),y=c.fields.map(([_,E])=>new j9(Yt.fromServerFormat(_),E));return new DA(c.indexId,c.collectionGroup,y,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Te(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=bp(e),i=Zc(e);return this.Tn(e).next(o=>s.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>P.forEach(a,l=>i.put(Sk(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return P.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?P.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),P.forEach(a,l=>this.En(e,s,l).next(c=>{const d=this.An(i,l);return c.isEqual(d)?P.resolve():this.vn(e,i,l,c,d)}))))})}Rn(e,n,r,s){return Jc(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,s){return Jc(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const s=Jc(e);let i=new _t(Ji);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{i=i.add(new Ca(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}An(e,n){let r=new _t(Ji);const s=this.mn(n,e);if(s==null)return r;const i=a_(n);if(i!=null){const o=e.data.field(i.fieldPath);if(yd(o))for(const a of o.arrayValue.values||[])r=r.add(new Ca(n.indexId,e.key,this.dn(a),s))}else r=r.add(new Ca(n.indexId,e.key,xp,s));return r}vn(e,n,r,s,i){W("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,c,d,p){const y=a.getIterator(),_=l.getIterator();let E=Wl(y),x=Wl(_);for(;E||x;){let I=!1,b=!1;if(E&&x){const T=c(E,x);T<0?b=!0:T>0&&(I=!0)}else E!=null?b=!0:I=!0;I?(d(x),x=Wl(_)):b?(p(E),E=Wl(y)):(E=Wl(y),x=Wl(_))}}(s,i,Ji,a=>{o.push(this.Rn(e,n,r,a))},a=>{o.push(this.Pn(e,n,r,a))}),P.waitFor(o)}Tn(e){let n=1;return Zc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ji(o,a)).filter((o,a,l)=>!a||Ji(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Ji(o,e),l=Ji(o,n);if(a===0)s[0]=e.Je();else if(a>0&&l<0)s.push(o),s.push(o.Je());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.bn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,xp,[]],l=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,xp,[]];i.push(IDBKeyRange.bound(a,l))}return i}bn(e,n){return Ji(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Ck)}getMinOffset(e,n){return P.mapArray(this.cn(n),r=>this.an(e,r).next(s=>s||re())).next(Ck)}}function Ik(t){return fn(t,"collectionParents")}function Jc(t){return fn(t,"indexEntries")}function bp(t){return fn(t,"indexConfiguration")}function Zc(t){return fn(t,"indexState")}function Ck(t){fe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;CS(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Tr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(d,p,y)=>(a++,y.delete()));i.push(l.next(()=>{fe(a===1)}));const c=[];for(const d of n.mutations){const p=PA(e,d.key.path,n.batchId);i.push(s.delete(p)),c.push(d.key)}return P.waitFor(i).next(()=>c)}function rg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw re();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);class yy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,n,r,s){fe(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new yy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).X({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Xl(e),o=Zi(e);return o.add({}).next(a=>{fe(typeof a=="number");const l=new LS(a,n,r,s),c=function(y,_,E){const x=E.baseMutations.map(b=>_d(y.fe,b)),I=E.mutations.map(b=>_d(y.fe,b));return{userId:_,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:x,mutations:I}}(this.serializer,this.userId,l),d=[];let p=new _t((y,_)=>Te(y.canonicalString(),_.canonicalString()));for(const y of s){const _=PA(this.userId,y.key.path,a);p=p.add(y.key.path.popLast()),d.push(o.put(c)),d.push(i.put(_,W9))}return p.forEach(y=>{d.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),P.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Zi(e).get(n).next(r=>r?(fe(r.userId===this.userId),ka(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?P.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Vn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Zi(e).X({index:"userMutationsIndex",range:s},(o,a,l)=>{a.userId===this.userId&&(fe(a.batchId>=r),i=ka(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zi(e).X({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).j("userMutationsIndex",n).next(r=>r.map(s=>ka(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Hp(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Xl(e).X({range:s},(o,a,l)=>{const[c,d,p]=o,y=As(d);if(c===this.userId&&n.path.isEqual(y))return Zi(e).get(p).next(_=>{if(!_)throw re();fe(_.userId===this.userId),i.push(ka(this.serializer,_))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Te);const s=[];return n.forEach(i=>{const o=Hp(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=Xl(e).X({range:a},(c,d,p)=>{const[y,_,E]=c,x=As(_);y===this.userId&&i.path.isEqual(x)?r=r.add(E):p.done()});s.push(l)}),P.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Hp(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new _t(Te);return Xl(e).X({range:o},(l,c,d)=>{const[p,y,_]=l,E=As(y);p===this.userId&&r.isPrefixOf(E)?E.length===s&&(a=a.add(_)):d.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Zi(e).get(i).next(o=>{if(o===null)throw re();fe(o.userId===this.userId),r.push(ka(this.serializer,o))}))}),P.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return AR(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),P.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Xl(e).X({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=As(i[1]);s.push(l)}else a.done()}).next(()=>{fe(s.length===0)})})}containsKey(e,n){return RR(e,this.userId,n)}xn(e){return MR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RR(t,e,n){const r=Hp(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Xl(t).X({range:i,Y:!0},(a,l,c)=>{const[d,p,y]=a;d===e&&p===s&&(o=!0),c.done()}).next(()=>o)}function Zi(t){return fn(t,"mutations")}function Xl(t){return fn(t,"documentMutations")}function MR(t){return fn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ol(0)}static Mn(){return new ol(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new ol(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>de.fromTimestamp(new Ct(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.On(e,s)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Hl(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(fe(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Hl(e).X((o,a)=>{const l=ph(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>P.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Hl(e).X((r,s)=>{const i=ph(s);n(i)})}$n(e){return Nk(e).get("targetGlobalKey").next(n=>(fe(n!==null),n))}On(e,n){return Nk(e).put("targetGlobalKey",n)}Fn(e,n){return Hl(e).put(DR(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=tl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Hl(e).X({range:s,index:"queryTargetsIndex"},(o,a,l)=>{const c=ph(a);Jd(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=uo(e);return n.forEach(o=>{const a=Yn(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),P.waitFor(s)}removeMatchingKeys(e,n,r){const s=uo(e);return P.forEach(n,i=>{const o=Yn(i.path);return P.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=uo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=uo(e);let i=xe();return s.X({range:r,Y:!0},(o,a,l)=>{const c=As(o[1]),d=new Z(c);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=Yn(n.path),s=IDBKeyRange.bound([r],[CA(r)],!1,!0);let i=0;return uo(e).X({index:"documentTargetsIndex",Y:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}le(e,n){return Hl(e).get(n).next(r=>r?ph(r):null)}}function Hl(t){return fn(t,"targets")}function Nk(t){return fn(t,"targetGlobal")}function uo(t){return fn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok([t,e],[n,r]){const s=Te(t,n);return s===0?Te(e,r):s}class iW{constructor(e){this.Ln=e,this.buffer=new _t(Ok),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ok(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Qn(3e5)})}}class aW{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(nr.ct);const r=new iW(n);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(Dk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dk):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),o_()<=Ue.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function lW(t,e){return new aW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n){this.db=e,this.garbageCollector=lW(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,s)=>n(s))}addReference(e,n,r){return kp(e,r)}removeReference(e,n,r){return kp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return kp(e,n)}Xn(e,n){return function(r,s){let i=!1;return MR(r).Z(o=>RR(r,o,s).next(a=>(a&&(i=!0),P.resolve(!a)))).next(()=>i)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Yn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,de.min()),uo(e).delete([0,Yn(o.path)])))});s.push(l)}}).next(()=>P.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return kp(e,n)}Yn(e,n){const r=uo(e);let s,i=nr.ct;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==nr.ct&&n(new Z(As(s)),i),i=c,s=l):i=nr.ct}).next(()=>{i!==nr.ct&&n(new Z(As(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kp(t,e){return uo(t).put(function(n,r){return{targetId:0,path:Yn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ya(e).put(r)}removeEntry(e,n,r){return ya(e).delete(function(s,i){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],tg(i),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=vt.newInvalidDocument(n);return ya(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eh(n))},(s,i)=>{r=this.ts(n,i)}).next(()=>r)}es(e,n){let r={size:0,document:vt.newInvalidDocument(n)};return ya(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eh(n))},(s,i)=>{r={document:this.ts(n,i),size:rg(i)}}).next(()=>r)}getEntries(e,n){let r=sr();return this.ns(e,n,(s,i)=>{const o=this.ts(s,i);r=r.insert(s,o)}).next(()=>r)}ss(e,n){let r=sr(),s=new dt(Z.comparator);return this.ns(e,n,(i,o)=>{const a=this.ts(i,o);r=r.insert(i,a),s=s.insert(i,rg(o))}).next(()=>({documents:r,rs:s}))}ns(e,n,r){if(n.isEmpty())return P.resolve();let s=new _t(Mk);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(eh(s.first()),eh(s.last())),o=s.getIterator();let a=o.getNext();return ya(e).X({index:"documentKeyIndex",range:i},(l,c,d)=>{const p=Z.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&Mk(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.G(eh(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s){const i=n.path,o=[i.popLast().toArray(),i.lastSegment(),tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ya(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let c=sr();for(const d of l){const p=this.ts(Z.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);p.isFoundDocument()&&(ef(n,p)||s.has(p.key))&&(c=c.insert(p.key,p))}return c})}getAllFromCollectionGroup(e,n,r,s){let i=sr();const o=Rk(n,r),a=Rk(n,Tr.max());return ya(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const p=this.ts(Z.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(p.key,p),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new hW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Ak(e).get("remoteDocumentGlobalKey").next(n=>(fe(!!n),n))}Zn(e,n){return Ak(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=GY(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(de.min())))return r}return vt.newInvalidDocument(e)}}function LR(t){return new cW(t)}class hW extends PR{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new ea(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new _t((i,o)=>Te(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.us.get(i);if(n.push(this.os.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=wk(this.os.serializer,o);s=s.add(i.path.popLast());const c=rg(l);r+=c-a.size,n.push(this.os.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=wk(this.os.serializer,o.convertToNoDocument(de.min()));n.push(this.os.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.os.updateMetadata(e,r)),P.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:s})=>(s.forEach((i,o)=>{this.us.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function Ak(t){return fn(t,"remoteDocumentGlobal")}function ya(t){return fn(t,"remoteDocumentsV14")}function eh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Rk(t,e){const n=e.documentKey.path.toArray();return[t,tg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Mk(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Te(n[i],r[i]),s)return s;return s=Te(n.length,r.length),s||(s=Te(n[n.length-2],r[r.length-2]),s||Te(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ch(r.mutation,s,rr.empty(),Ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=dh();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=sr();const o=Ih(),a=Ih();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Vi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ch(d.mutation,c,d.mutation.getFieldMask(),Ct.now())):o.set(c.key,rr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new dW(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ih();let s=new dt((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||rr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const p=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,p=nR();d.forEach(y=>{if(!i.has(y)){const _=cR(n.get(y),r.get(y));_!==null&&p.set(y,_),i=i.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):P.resolve(Rs());let a=-1,l=i;return o.next(c=>P.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?P.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{l=l.insert(d,y)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,xe())).next(d=>({batchId:a,changes:tR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=dh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=dh();return this.indexManager.getCollectionParents(e,s).next(o=>P.forEach(o,a=>{const l=function(c,d){return new Ui(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,p)=>{i=i.insert(d,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,vt.newInvalidDocument(c)))});let o=dh();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Ch(c.mutation,l,rr.empty(),Ct.now()),ef(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return P.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Wt(r.createTime)}),P.resolve()}getNamedQuery(e,n){return P.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:BS(r.bundledQuery),readTime:Wt(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(){this.overlays=new dt(Z.comparator),this.ls=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return P.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const s=Rs(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return P.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new dt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Rs(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Rs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return P.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FS(n,r));let i=this.ls.get(n);i===void 0&&(i=xe(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.fs=new _t(sn.ds),this.ws=new _t(sn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new sn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new sn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Z(new Ve([])),r=new sn(n,e),s=new sn(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Z(new Ve([])),r=new sn(n,e),s=new sn(n,e+1);let i=xe();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new sn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Z.comparator(e.key,n.key)||Te(e.As,n.As)}static _s(e,n){return Te(e.As,n.As)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _t(sn.ds)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LS(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new sn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return P.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),s=new sn(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),P.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Te);return n.forEach(s=>{const i=new sn(s,0),o=new sn(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),P.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new sn(new Z(i),0);let a=new _t(Te);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.As)),!0)},o),P.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){fe(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return P.forEach(n.mutations,s=>{const i=new sn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new sn(n,0),s=this.Rs.firstAfterOrEqual(r);return P.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.Ds=e,this.docs=new dt(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vt.newInvalidDocument(s))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=sr();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CS(OA(d),r)<=0||(s.has(d.key)||ef(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return P.resolve(i)}getAllFromCollectionGroup(e,n,r,s){re()}Cs(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yW(this)}getSize(e){return P.resolve(this.size)}}class yW extends PR{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.persistence=e,this.xs=new ea(n=>tl(n),Jd),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Ns=0,this.ks=new WS,this.targetCount=0,this.Ms=ol.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),P.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Fn(n),P.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),P.waitFor(i).next(()=>s)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),P.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.$s={},this.overlays={},this.Os=new nr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new vW(this),this.indexManager=new nW,this.remoteDocumentCache=function(r){return new gW(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new CR(n),this.qs=new fW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new mW(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new wW(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return P.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class wW extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Qs=new WS,this.js=null}static zs(e){return new vy(e)}get Ws(){if(this.js)return this.js;throw re()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),P.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Ws,r=>{const s=Z.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return P.or([()=>P.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.serializer=e}O(e,n,r,s){const i=new hy("createOrUpgrade",n);r<1&&s>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qb,{unique:!0}),a.createObjectStore("documentMutations")}(e),Pk(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=P.resolve();return r<3&&s>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),Pk(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:de.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qb,{unique:!0});const d=l.store("mutations"),p=c.map(y=>d.put(y));return P.waitFor(p)})}(e,i))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.Ys(i))),r<6&&s>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i)))),r<7&&s>=7&&(o=o.next(()=>this.Zs(i))),r<8&&s>=8&&(o=o.next(()=>this.ti(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ei(i))),r<11&&s>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:rY});l.createIndex("collectionPathOverlayIndex",sY,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",iY,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:H9});l.createIndex("documentKeyIndex",q9),l.createIndex("collectionGroupIndex",G9)}(e)).next(()=>this.ni(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.si(e,i))),r<15&&s>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Z9}).createIndex("sequenceNumberIndex",eY,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:tY}).createIndex("documentKeyIndex",nY,{unique:!1})}(e))),o}Xs(e){let n=0;return e.store("remoteDocuments").X((r,s)=>{n+=rg(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(s=>P.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>P.forEach(a,l=>{fe(l.userId===i.userId);const c=ka(this.serializer,l);return AR(e,i.userId,c).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.X((o,a)=>{const l=new Ve(o),c=function(d){return[0,Yn(d)]}(l);i.push(n.get(c).next(d=>d?P.resolve():(p=>n.put({targetId:0,path:Yn(p),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>P.waitFor(i))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:J9});const r=n.store("collectionParents"),s=new YS,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Yn(l)})}};return n.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new Ve(o);return i(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([o,a,l],c)=>{const d=As(a);return i(d.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,s)=>{const i=ph(s),o=DR(this.serializer,i);return n.put(o)})}ni(e,n){const r=n.store("remoteDocuments"),s=[];return r.X((i,o)=>{const a=n.store("remoteDocumentsV14"),l=(c=o,c.document?new Z(Ve.fromString(c.document.name).popFirst(5)):c.noDocument?Z.fromSegments(c.noDocument.path):c.unknownDocument?Z.fromSegments(c.unknownDocument.path):re()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(d))}).next(()=>P.waitFor(s))}si(e,n){const r=n.store("mutations"),s=LR(this.serializer),i=new FR(vy.zs,this.serializer.fe);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:xe();ka(this.serializer,l).keys().forEach(p=>d=d.add(p)),a.set(l.userId,d)}),P.forEach(a,(l,c)=>{const d=new an(c),p=gy.de(this.serializer,d),y=i.getIndexManager(d),_=yy.de(d,this.serializer,y,i.referenceDelegate);return new $R(s,_,p,y).recalculateAndSaveOverlaysForDocumentKeys(new l_(n,nr.ct),l).next()})})}}function Pk(t){t.createObjectStore("targetDocuments",{keyPath:Q9}).createIndex("documentTargetsIndex",X9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",K9,{unique:!0}),t.createObjectStore("targetGlobal")}const bw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class HS{constructor(e,n,r,s,i,o,a,l,c,d,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=i,this.window=o,this.document=a,this.ri=c,this.oi=d,this.ui=p,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=y=>Promise.resolve(),!HS.D())throw new Y(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uW(this,s),this.di=n+"main",this.serializer=new CR(l),this.wi=new ds(this.di,this.ui,new _W(this.serializer)),this.Bs=new sW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LR(this.serializer),this.qs=new KY,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,d===!1&&zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,bw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new nr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ip(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Zo(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return th(e).get("owner").next(n=>P.resolve(this.Ri(n)))}Pi(e){return Ip(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=fn(n,"clientMetadata");return r.j().next(s=>{const i=this.Si(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return P.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?P.resolve(!0):th(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,bw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ip(e).j().next(r=>this.Si(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new l_(e,nr.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ip(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return yy.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rW(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return gy.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){W("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(o=this.ui)===15?aY:o===14?FA:o===13?$A:o===12?oY:o===11?LA:void re();var o;let a;return this.wi.runTransaction(e,s,i,l=>(a=new l_(l,this.Os?this.Os.next():nr.ct),n==="readwrite-primary"?this.Ti(a).next(c=>!!c||this.Ei(a)).next(c=>{if(!c)throw zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Y(L.FAILED_PRECONDITION,AA);return r(a)}).next(c=>this.vi(a).next(()=>c)):this.Oi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return th(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Y(L.FAILED_PRECONDITION,bw)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return th(e).put("owner",n)}static D(){return ds.D()}Ai(e){const n=th(e);return n.get("owner").next(r=>this.Ri(r)?(W("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):P.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;Kz()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function th(t){return fn(t,"owner")}function Ip(t){return fn(t,"clientMetadata")}function qS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new GS(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(lk(n))return P.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=eg(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,eg(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,s){return lk(n)||s.isEqual(de.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(o_()<=Ue.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),m_(n)),this.Wi(e,o,n,NA(s,-1)))})}ji(e,n){let r=new _t(ZA(e));return n.forEach((s,i)=>{ef(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return o_()<=Ue.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",m_(n)),this.Ui.getDocumentsMatchingQuery(e,n,Tr.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new dt(Te),this.Yi=new ea(i=>tl(i),Jd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $R(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function UR(t,e,n,r){return new SW(t,e,n,r)}async function VR(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=xe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function EW(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const d=l.batch,p=d.keys();let y=P.resolve();return p.forEach(_=>{y=y.next(()=>c.getEntry(a,_)).next(E=>{const x=l.docVersions.get(_);fe(x!==null),E.version.compareTo(x)<0&&(d.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),c.addEntry(E)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=xe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BR(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function TW(t,e){const n=ee(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,p)=>{const y=s.get(p);if(!y)return;a.push(n.Bs.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Bs.addMatchingKeys(i,d.addedDocuments,p)));let _=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(nn.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),s=s.insert(p,_),function(E,x,I){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,_,d)&&a.push(n.Bs.updateTargetData(i,_))});let l=sr(),c=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(zR(i,o,e.documentUpdates).next(d=>{l=d.nr,c=d.sr})),!r.isEqual(de.min())){const d=n.Bs.getLastRemoteSnapshotVersion(i).next(p=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return P.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=s,i))}function zR(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=sr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:s}})}function xW(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yu(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,P.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new gi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Wu(t,e,n){const r=ee(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Zo(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function sg(t,e,n){const r=ee(t);let s=de.min(),i=xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const d=ee(a),p=d.Yi.get(c);return p!==void 0?P.resolve(d.Ji.get(p)):d.Bs.getTargetData(l,c)}(r,o,lr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:xe())).next(a=>(HR(r,JA(e),a),{documents:a,ir:i})))}function YR(t,e){const n=ee(t),r=ee(n.Bs),s=n.Ji.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",i=>r.le(i,e).next(o=>o?o.target:null))}function WR(t,e){const n=ee(t),r=n.Xi.get(e)||de.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.Zi.getAllFromCollectionGroup(s,e,NA(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(HR(n,e,s),s))}function HR(t,e,n){let r=t.Xi.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}async function bW(t,e,n,r){const s=ee(t);let i=xe(),o=sr();for(const c of n){const d=e.rr(c.metadata.name);c.document&&(i=i.add(d));const p=e.ur(c);p.setReadTime(e.cr(c.metadata.readTime)),o=o.insert(d,p)}const a=s.Zi.newChangeBuffer({trackRemovals:!0}),l=await Yu(s,function(c){return lr(fc(Ve.fromString(`__bundle__/docs/${c}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",c=>zR(c,a,o).next(d=>(a.apply(c),d)).next(d=>s.Bs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>s.Bs.addMatchingKeys(c,i,l.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(c,d.nr,d.sr)).next(()=>d.nr)))}async function kW(t,e,n=xe()){const r=await Yu(t,lr(BS(e.bundledQuery))),s=ee(t);return s.persistence.runTransaction("Save named query","readwrite",i=>{const o=Wt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return s.qs.saveNamedQuery(i,e);const a=r.withResumeToken(nn.EMPTY_BYTE_STRING,o);return s.Ji=s.Ji.insert(a.targetId,a),s.Bs.updateTargetData(i,a).next(()=>s.Bs.removeMatchingKeysForTargetId(i,r.targetId)).next(()=>s.Bs.addMatchingKeys(i,n,r.targetId)).next(()=>s.qs.saveNamedQuery(i,e))})}function Lk(t,e){return`firestore_clients_${t}_${e}`}function $k(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kw(t,e){return`firestore_targets_${t}_${e}`}class ig{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static ar(e,n,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new Y(s.error.code,s.error.message))),o?new ig(e,n,s.state,i):(zt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new Y(r.error.code,r.error.message))),i?new Dh(e,r.state,s):(zt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class og{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=MS();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=MA(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new og(e,i):(zt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class KS{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new KS(n.clientId,n.onlineState):(zt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class E_{constructor(){this.activeTargetIds=MS()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iw{constructor(e,n,r,s,i){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new dt(Te),this.started=!1,this.yr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=Lk(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new E_),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const s=this.getItem(Lk(this.persistenceKey,r));if(s){const i=og.ar(r,s);i&&(this.gr=this.gr.insert(i.clientId,i))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kw(this.persistenceKey,e));if(r){const s=Dh.ar(e,r);s&&(n=s.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kw(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W("SharedClientState","READ",e,n),n}setItem(e,n){W("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(W("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(s){let i=nr.ct;if(s!=null)try{const o=JSON.parse(s);fe(typeof o=="number"),i=o}catch(o){zt("SharedClientState","Failed to read sequence number from WebStorage",o)}return i}(n.newValue);r!==nr.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(s=>this.syncEngine.Qr(s)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const s=new ig(this.currentUser,e,n,r),i=$k(this.persistenceKey,this.currentUser,e);this.setItem(i,s.hr())}Cr(e){const n=$k(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const s=kw(this.persistenceKey,e),i=new Dh(e,n,r);this.setItem(s,i.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return og.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return ig.ar(new an(i),s,n)}Ur(e,n){const r=this.Ar.exec(e),s=Number(r[1]);return Dh.ar(s,n)}br(e){return KS.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),s=this.Sr(this.gr),i=this.Sr(r),o=[],a=[];return i.forEach(l=>{s.has(l)||o.push(l)}),s.forEach(l=>{i.has(l)||a.push(l)}),this.syncEngine.Wr(o,a).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=MS();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class qR{constructor(){this.Hr=new E_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new E_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp=null;function Cw(){return Cp===null?Cp=268435456+Math.round(2147483648*Math.random()):Cp++,"0x"+Cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class NW extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=Cw(),a=this.To(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(c=>(W("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw vs("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+dc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=CW[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=Cw();return new Promise((o,a)=>{const l=new k9;l.setWithCredentials(!0),l.listenOnce(T9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tw.NO_ERROR:const d=l.getResponseJson();W(Dn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Tw.TIMEOUT:W(Dn,`RPC '${e}' ${i} timed out`),a(new Y(L.DEADLINE_EXCEEDED,"Request time out"));break;case Tw.HTTP_ERROR:const p=l.getStatus();if(W(Dn,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const E=function(x){const I=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(I)>=0?I:L.UNKNOWN}(_.status);a(new Y(E,_.message))}else a(new Y(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(L.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{W(Dn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);W(Dn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const s=Cw(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=S9(),a=E9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new b9({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");W(Dn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);let y=!1,_=!1;const E=new DW({ro:I=>{_?W(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(y||(W(Dn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),y=!0),W(Dn,`RPC '${e}' stream ${s} sending:`,I),p.send(I))},oo:()=>p.close()}),x=(I,b,T)=>{I.listen(b,k=>{try{T(k)}catch(D){setTimeout(()=>{throw D},0)}})};return x(p,Sp.EventType.OPEN,()=>{_||W(Dn,`RPC '${e}' stream ${s} transport opened.`)}),x(p,Sp.EventType.CLOSE,()=>{_||(_=!0,W(Dn,`RPC '${e}' stream ${s} transport closed`),E.wo())}),x(p,Sp.EventType.ERROR,I=>{_||(_=!0,vs(Dn,`RPC '${e}' stream ${s} transport errored:`,I),E.wo(new Y(L.UNAVAILABLE,"The operation could not be completed")))}),x(p,Sp.EventType.MESSAGE,I=>{var b;if(!_){const T=I.data[0];fe(!!T);const k=T,D=k.error||((b=k[0])===null||b===void 0?void 0:b.error);if(D){W(Dn,`RPC '${e}' stream ${s} received error:`,D);const R=D.status;let M=function(z){const ue=qt[z];if(ue!==void 0)return fR(ue)}(R),$=D.message;M===void 0&&(M=L.INTERNAL,$="Unknown error status: "+R+" with message "+D.message),_=!0,E.wo(new Y(M,$)),p.close()}else W(Dn,`RPC '${e}' stream ${s} received:`,T),E._o(T)}}),x(a,x9.STAT_EVENT,I=>{I.stat===Hb.PROXY?W(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Hb.NOPROXY&&W(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof window<"u"?window:null}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return new FY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new QS(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(zt(n.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new Y(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OW extends KR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=VY(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?de.min():i.readTime?Wt(i.readTime):de.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=wd(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=Jm(a)?{documents:ER(s,a)}:{query:TR(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=yR(s,i.resumeToken);const l=g_(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(de.min())>0){o.readTime=zu(s,i.snapshotVersion.toTimestamp());const l=g_(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=zY(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=wd(this.serializer),n.removeTarget=e,this.Wo(n)}}class AW extends KR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=BY(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.cu(r,n)}return fe(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=wd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_d(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(L.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(L.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class MW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(zt(n),this.mu=!1):W("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{ta(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ee(a);l.vu.add(4),await gc(l),l.bu.set("Unknown"),l.vu.delete(4),await of(l)}(this))})}),this.bu=new MW(r,s)}}async function of(t){if(ta(t))for(const e of t.Ru)await e(!0)}async function gc(t){for(const e of t.Ru)await e(!1)}function wy(t,e){const n=ee(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ZS(n)?JS(n):vc(n).Ko()&&XS(n,e))}function Sd(t,e){const n=ee(t),r=vc(n);n.Au.delete(e),r.Ko()&&QR(n,e),n.Au.size===0&&(r.Ko()?r.jo():ta(n)&&n.bu.set("Unknown"))}function XS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vc(t).su(e)}function QR(t,e){t.Vu.qt(e),vc(t).iu(e)}function JS(t){t.Vu=new MY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),vc(t).start(),t.bu.gu()}function ZS(t){return ta(t)&&!vc(t).Uo()&&t.Au.size>0}function ta(t){return ee(t).vu.size===0}function XR(t){t.Vu=void 0}async function LW(t){t.Au.forEach((e,n)=>{XS(t,e)})}async function $W(t,e){XR(t),ZS(t)?(t.bu.Iu(e),JS(t)):t.bu.set("Unknown")}async function FW(t,e,n){if(t.bu.set("Online"),e instanceof gR&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ag(t,r)}else if(e instanceof Qp?t.Vu.Ht(e):e instanceof mR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(de.min()))try{const r=await BR(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Au.get(l);c&&s.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(nn.EMPTY_BYTE_STRING,c.snapshotVersion)),QR(s,a);const d=new gi(c.target,a,l,c.sequenceNumber);XS(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await ag(t,r)}}async function ag(t,e,n){if(!Zo(e))throw e;t.vu.add(1),await gc(t),t.bu.set("Offline"),n||(n=()=>BR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await of(t)})}function JR(t,e){return e().catch(n=>ag(t,n,e))}async function yc(t){const e=ee(t),n=zo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;jW(e);)try{const s=await xW(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,UW(e,s)}catch(s){await ag(e,s)}ZR(e)&&eM(e)}function jW(t){return ta(t)&&t.Eu.length<10}function UW(t,e){t.Eu.push(e);const n=zo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function ZR(t){return ta(t)&&!zo(t).Uo()&&t.Eu.length>0}function eM(t){zo(t).start()}async function VW(t){zo(t).hu()}async function BW(t){const e=zo(t);for(const n of t.Eu)e.uu(n.mutations)}async function zW(t,e,n){const r=t.Eu.shift(),s=$S.from(r,e,n);await JR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yc(t)}async function YW(t,e){e&&zo(t).ou&&await async function(n,r){if(s=r.code,dR(s)&&s!==L.ABORTED){const i=n.Eu.shift();zo(n).Qo(),await JR(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await yc(n)}var s}(t,e),ZR(t)&&eM(t)}async function jk(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=ta(n);n.vu.add(3),await gc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await of(n)}async function T_(t,e){const n=ee(t);e?(n.vu.delete(2),await of(n)):e||(n.vu.add(2),await gc(n),n.bu.set("Unknown"))}function vc(t){return t.Su||(t.Su=function(e,n,r){const s=ee(e);return s.fu(),new OW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:LW.bind(null,t),ao:$W.bind(null,t),nu:FW.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ZS(t)?JS(t):t.bu.set("Unknown")):(await t.Su.stop(),XR(t))})),t.Su}function zo(t){return t.Du||(t.Du=function(e,n,r){const s=ee(e);return s.fu(),new AW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:VW.bind(null,t),ao:YW.bind(null,t),au:BW.bind(null,t),cu:zW.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await yc(t)):(await t.Du.stop(),t.Eu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new eE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wc(t,e){if(zt("AsyncQueue",`${e}: ${t}`),Zo(t))return new Y(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=dh(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.Cu=new dt(Z.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):re():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Hu(e,n,xu.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.Nu=void 0,this.listeners=[]}}class HW{constructor(){this.queries=new ea(e=>XA(e),Zd),this.onlineState="Unknown",this.ku=new Set}}async function tE(t,e){const n=ee(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new WW),s)try{i.Nu=await n.onListen(r)}catch(o){const a=wc(o,`Initialization of query '${m_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&rE(n)}async function nE(t,e){const n=ee(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function qW(t,e){const n=ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&rE(n)}function GW(t,e,n){const r=ee(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function rE(t){t.ku.forEach(e=>{e.next()})}class sE{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.serializer=e}rr(e){return Fs(this.serializer,e)}ur(e){return e.metadata.exists?SR(this.serializer,e.document,!1):vt.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wt(e)}}class QW{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tM(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Ve.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new Vk(this.serializer);for(const s of e)if(s.metadata.queries){const i=r.rr(s.metadata.name);for(const o of s.metadata.queries){const a=(n.get(o)||xe()).add(i);n.set(o,a)}}return n}async complete(){const e=await bW(this.localStore,new Vk(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await kW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function tM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.key=e}}class rM{constructor(e){this.key=e}}class sM{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xe(),this.mutatedKeys=xe(),this.tc=ZA(e),this.ec=new xu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Uk,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const y=s.get(d),_=ef(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;y&&_?y.data.isEqual(_.data)?E!==x&&(r.track({type:3,doc:_}),I=!0):this.rc(y,_)||(r.track({type:2,doc:_}),I=!0,(l&&this.tc(_,l)>0||c&&this.tc(_,c)<0)&&(a=!0)):!y&&_?(r.track({type:0,doc:_}),I=!0):y&&!_&&(r.track({type:1,doc:y}),I=!0,(l||c)&&(a=!0)),I&&(_?(o=o.add(_),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,d)=>function(p,y){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return _(p)-_(y)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Hu(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Uk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=xe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new rM(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new nM(r))}),n}hc(e){this.Yu=e.ir,this.Zu=xe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Hu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class XW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JW{constructor(e){this.key=e,this.fc=!1}}class ZW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ea(a=>XA(a),Zd),this._c=new Map,this.mc=new Set,this.gc=new dt(Z.comparator),this.yc=new Map,this.Ic=new WS,this.Tc={},this.Ec=new Map,this.Ac=ol.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function e5(t,e){const n=uE(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await Yu(n.localStore,lr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await iE(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&wy(n.remoteStore,o)}return s}async function iE(t,e,n,r,s){t.Rc=(p,y,_)=>async function(E,x,I,b){let T=x.view.sc(I);T.zi&&(T=await sg(E.localStore,x.query,!1).then(({documents:R})=>x.view.sc(R,T)));const k=b&&b.targetChanges.get(x.targetId),D=x.view.applyChanges(T,E.isPrimaryClient,k);return x_(E,x.targetId,D.cc),D.snapshot}(t,p,y,_);const i=await sg(t.localStore,e,!0),o=new sM(e,i.ir),a=o.sc(i.documents),l=rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);x_(t,n,c.cc);const d=new XW(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function t5(t,e){const n=ee(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!Zd(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Wu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Sd(n.remoteStore,r.targetId),qu(n,r.targetId)}).catch(Jo)):(qu(n,r.targetId),await Wu(n.localStore,r.targetId,!0))}async function n5(t,e,n){const r=cE(t);try{const s=await function(i,o){const a=ee(i),l=Ct.now(),c=o.reduce((y,_)=>y.add(_.key),xe());let d,p;return a.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=sr(),E=xe();return a.Zi.getEntries(y,c).next(x=>{_=x,_.forEach((I,b)=>{b.isValidDocument()||(E=E.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(y,_)).next(x=>{d=x;const I=[];for(const b of o){const T=OY(b,d.get(b.key).overlayedDocument);T!=null&&I.push(new Vi(b.key,T,BA(T.value.mapValue),It.exists(!0)))}return a.mutationQueue.addMutationBatch(y,l,I,o)}).next(x=>{p=x;const I=x.applyToLocalDocumentSet(d,E);return a.documentOverlayCache.saveOverlays(y,x.batchId,I)})}).then(()=>({batchId:p.batchId,changes:tR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new dt(Te)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await Bi(r,s.changes),await yc(r.remoteStore)}catch(s){const i=wc(s,"Failed to persist write");n.reject(i)}}async function iM(t,e){const n=ee(t);try{const r=await TW(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?fe(o.fc):s.removedDocuments.size>0&&(fe(o.fc),o.fc=!1))}),await Bi(n,r,e)}catch(r){await Jo(r)}}function Bk(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=ee(i);a.onlineState=o;let l=!1;a.queries.forEach((c,d)=>{for(const p of d.listeners)p.Mu(o)&&(l=!0)}),l&&rE(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r5(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new dt(Z.comparator);o=o.insert(i,vt.newNoDocument(i,de.min()));const a=xe().add(i),l=new nf(de.min(),new Map,new dt(Te),o,a);await iM(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),lE(r)}else await Wu(r.localStore,e,!1).then(()=>qu(r,e,n)).catch(Jo)}async function s5(t,e){const n=ee(t),r=e.batch.batchId;try{const s=await EW(n.localStore,e);aE(n,r,null),oE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bi(n,s)}catch(s){await Jo(s)}}async function i5(t,e,n){const r=ee(t);try{const s=await function(i,o){const a=ee(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(fe(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);aE(r,e,n),oE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bi(r,s)}catch(s){await Jo(s)}}async function o5(t,e){const n=ee(t);ta(n.remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(i){const o=ee(i);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const s=n.Ec.get(r)||[];s.push(e),n.Ec.set(r,s)}catch(r){const s=wc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function oE(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function aE(t,e,n){const r=ee(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function qu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||oM(t,r)})}function oM(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Sd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),lE(t))}function x_(t,e,n){for(const r of n)r instanceof nM?(t.Ic.addReference(r.key,e),a5(t,r)):r instanceof rM?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||oM(t,r.key)):re()}function a5(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.mc.add(r),lE(t))}function lE(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Z(Ve.fromString(e)),r=t.Ac.next();t.yc.set(r,new JW(n)),t.gc=t.gc.insert(n,r),wy(t.remoteStore,new gi(lr(fc(n.path)),r,"TargetPurposeLimboResolution",nr.ct))}}async function Bi(t,e,n){const r=ee(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const d=GS.Li(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const c=ee(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>P.forEach(l,p=>P.forEach(p.Fi,y=>c.persistence.referenceDelegate.addReference(d,p.targetId,y)).next(()=>P.forEach(p.Bi,y=>c.persistence.referenceDelegate.removeReference(d,p.targetId,y)))))}catch(d){if(!Zo(d))throw d;W("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const p=d.targetId;if(!d.fromCache){const y=c.Ji.get(p),_=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(_);c.Ji=c.Ji.insert(p,E)}}}(r.localStore,i))}async function l5(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await VR(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Y(L.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bi(n,r.er)}}function u5(t,e){const n=ee(t),r=n.yc.get(e);if(r&&r.fc)return xe().add(r.key);{let s=xe();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}async function c5(t,e){const n=ee(t),r=await sg(n.localStore,e.query,!0),s=e.view.hc(r);return n.isPrimaryClient&&x_(n,e.targetId,s.cc),s}async function h5(t,e){const n=ee(t);return WR(n.localStore,e).then(r=>Bi(n,r))}async function d5(t,e,n,r){const s=ee(t),i=await function(o,a){const l=ee(o),c=ee(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Sn(d,a).next(p=>p?l.localDocuments.getDocuments(d,p):P.resolve(null)))}(s.localStore,e);i!==null?(n==="pending"?await yc(s.remoteStore):n==="acknowledged"||n==="rejected"?(aE(s,e,r||null),oE(s,e),function(o,a){ee(ee(o).mutationQueue).Cn(a)}(s.localStore,e)):re(),await Bi(s,i)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}async function f5(t,e){const n=ee(t);if(uE(n),cE(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),s=await zk(n,r.toArray());n.vc=!0,await T_(n.remoteStore,!0);for(const i of s)wy(n.remoteStore,i)}else if(e===!1&&n.vc!==!1){const r=[];let s=Promise.resolve();n._c.forEach((i,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then(()=>(qu(n,o),Wu(n.localStore,o,!0))),Sd(n.remoteStore,o)}),await s,await zk(n,r),function(i){const o=ee(i);o.yc.forEach((a,l)=>{Sd(o.remoteStore,l)}),o.Ic.Ts(),o.yc=new Map,o.gc=new dt(Z.comparator)}(n),n.vc=!1,await T_(n.remoteStore,!1)}}async function zk(t,e,n){const r=ee(t),s=[],i=[];for(const o of e){let a;const l=r._c.get(o);if(l&&l.length!==0){a=await Yu(r.localStore,lr(l[0]));for(const c of l){const d=r.wc.get(c),p=await c5(r,d);p.snapshot&&i.push(p.snapshot)}}else{const c=await YR(r.localStore,o);a=await Yu(r.localStore,c),await iE(r,aM(c),o,!1,a.resumeToken)}s.push(a)}return r.dc.nu(i),s}function aM(t){return QA(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function p5(t){const e=ee(t);return ee(ee(e.localStore).persistence).$i()}async function m5(t,e,n,r){const s=ee(t);if(s.vc)return void W("SyncEngine","Ignoring unexpected query state notification.");const i=s._c.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const o=await WR(s.localStore,JA(i[0])),a=nf.createSynthesizedRemoteEventForCurrentChange(e,n==="current",nn.EMPTY_BYTE_STRING);await Bi(s,o,a);break}case"rejected":await Wu(s.localStore,e,!0),qu(s,e,r);break;default:re()}}async function g5(t,e,n){const r=uE(t);if(r.vc){for(const s of e){if(r._c.has(s)){W("SyncEngine","Adding an already active target "+s);continue}const i=await YR(r.localStore,s),o=await Yu(r.localStore,i);await iE(r,aM(i),o.targetId,!1,o.resumeToken),wy(r.remoteStore,o)}for(const s of n)r._c.has(s)&&await Wu(r.localStore,s,!1).then(()=>{Sd(r.remoteStore,s),qu(r,s)}).catch(Jo)}}function uE(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r5.bind(null,e),e.dc.nu=qW.bind(null,e.eventManager),e.dc.Pc=GW.bind(null,e.eventManager),e}function cE(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i5.bind(null,e),e}function y5(t,e,n){const r=ee(t);(async function(s,i,o){try{const a=await i.getMetadata();if(await function(p,y){const _=ee(p),E=Wt(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",x=>_.qs.getBundleMetadata(x,y.id)).then(x=>!!x&&x.createTime.compareTo(E)>=0)}(s.localStore,a))return await i.close(),o._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(tM(a));const l=new QW(a,s.localStore,i.serializer);let c=await i.bc();for(;c;){const p=await l.zu(c);p&&o._updateProgress(p),c=await i.bc()}const d=await l.complete();return await Bi(s,d.Ju,void 0),await function(p,y){const _=ee(p);return _.persistence.runTransaction("Save bundle","readwrite",E=>_.qs.saveBundleMetadata(E,y))}(s.localStore,a),o._completeWith(d.progress),Promise.resolve(d.Hu)}catch(a){return vs("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}class b_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return UR(this.persistence,new jR,e.initialUser,this.serializer)}createPersistence(e){return new FR(vy.zs,this.serializer)}createSharedClientState(e){return new qR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lM extends b_{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await cE(this.Vc.syncEngine),await yc(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return UR(this.persistence,new jR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new oW(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new z9(n,this.persistence);return new B9(e.asyncQueue,r)}createPersistence(e){const n=qS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new HS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,GR(),Xp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qR}}class v5 extends lM{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof Iw&&(this.sharedClientState.syncEngine={jr:d5.bind(null,n),zr:m5.bind(null,n),Wr:g5.bind(null,n),$i:p5.bind(null,n),Qr:h5.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await f5(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=GR();if(!Iw.D(n))throw new Y(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=qS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Iw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class hE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l5.bind(null,this.syncEngine),await T_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new HW}createDatastore(e){const n=sf(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new NW(s));var s;return function(i,o,a,l){return new RW(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>Bk(this.syncEngine,a,0),o=Fk.D()?new Fk:new IW,new PW(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,c){const d=new ZW(r,s,i,o,a,l);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ee(e);W("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await gc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):zt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new un,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const s=await this.$c(r);return new KW(JSON.parse(s),e.length+r)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,s){const i=ee(r),o=wd(i.serializer)+"/documents",a={documents:s.map(p=>vd(i.serializer,p))},l=await i.vo("BatchGetDocuments",o,a,s.length),c=new Map;l.forEach(p=>{const y=UY(i.serializer,p);c.set(y.key.toString(),y)});const d=[];return s.forEach(p=>{const y=c.get(p.toString());fe(!!y),d.push(y)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=Z.fromPath(r);this.mutations.push(new PS(s,this.precondition(s)))}),await async function(n,r){const s=ee(n),i=wd(s.serializer)+"/documents",o={writes:r.map(a=>_d(s.serializer,a))};await s.Io("Commit",i,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw re();n=de.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Y(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(de.min())?It.exists(!1):It.updateTime(n):It.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(de.min()))throw new Y(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(n)}return It.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.Bc=r.maxAttempts,this.qo=new QS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new _5(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Uc(s)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!Xd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!dR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=an.UNAUTHENTICATED,this.clientId=IA.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{W("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(W("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dE(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>jk(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>jk(e.remoteStore,i)),t._onlineComponents=e}function uM(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uM(n))throw n;vs("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new b_)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Jp(t,new b_);return t._offlineComponents}async function Sy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await k_(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await k_(t,new hE))),t._onlineComponents}function cM(t){return dE(t).then(e=>e.persistence)}function fE(t){return dE(t).then(e=>e.localStore)}function hM(t){return Sy(t).then(e=>e.remoteStore)}function pE(t){return Sy(t).then(e=>e.syncEngine)}function T5(t){return Sy(t).then(e=>e.datastore)}async function Gu(t){const e=await Sy(t),n=e.eventManager;return n.onListen=e5.bind(null,e.syncEngine),n.onUnlisten=t5.bind(null,e.syncEngine),n}function x5(t){return t.asyncQueue.enqueue(async()=>{const e=await cM(t),n=await hM(t);return e.setNetworkEnabled(!0),function(r){const s=ee(r);return s.vu.delete(0),of(s)}(n)})}function b5(t){return t.asyncQueue.enqueue(async()=>{const e=await cM(t),n=await hM(t);return e.setNetworkEnabled(!1),async function(r){const s=ee(r);s.vu.add(0),await gc(s),s.bu.set("Offline")}(n)})}function k5(t,e){const n=new un;return t.asyncQueue.enqueueAndForget(async()=>async function(r,s,i){try{const o=await function(a,l){const c=ee(a);return c.persistence.runTransaction("read document","readonly",d=>c.localDocuments.getDocument(d,l))}(r,s);o.isFoundDocument()?i.resolve(o):o.isNoDocument()?i.resolve(null):i.reject(new Y(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=wc(o,`Failed to get document '${s} from cache`);i.reject(a)}}(await fE(t),e,n)),n.promise}function dM(t,e,n={}){const r=new un;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const c=new _y({next:p=>{i.enqueueAndForget(()=>nE(s,d));const y=p.docs.has(o);!y&&p.fromCache?l.reject(new Y(L.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&a&&a.source==="server"?l.reject(new Y(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new sE(fc(o.path),c,{includeMetadataChanges:!0,Ku:!0});return tE(s,d)}(await Gu(t),t.asyncQueue,e,n,r)),r.promise}function I5(t,e){const n=new un;return t.asyncQueue.enqueueAndForget(async()=>async function(r,s,i){try{const o=await sg(r,s,!0),a=new sM(s,o.ir),l=a.sc(o.documents),c=a.applyChanges(l,!1);i.resolve(c.snapshot)}catch(o){const a=wc(o,`Failed to execute query '${s} against cache`);i.reject(a)}}(await fE(t),e,n)),n.promise}function fM(t,e,n={}){const r=new un;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const c=new _y({next:p=>{i.enqueueAndForget(()=>nE(s,d)),p.fromCache&&a.source==="server"?l.reject(new Y(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),d=new sE(o,c,{includeMetadataChanges:!0,Ku:!0});return tE(s,d)}(await Gu(t),t.asyncQueue,e,n,r)),r.promise}function C5(t,e){const n=new _y(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,s){ee(r).ku.add(s),s.next()}(await Gu(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,s){ee(r).ku.delete(s)}(await Gu(t),n))}}function D5(t,e,n,r){const s=function(i,o){let a;return a=typeof i=="string"?pR().encode(i):i,function(l,c){return new w5(l,c)}(function(l,c){if(l instanceof Uint8Array)return Yk(l,c);if(l instanceof ArrayBuffer)return Yk(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,sf(e));t.asyncQueue.enqueueAndForget(async()=>{y5(await pE(t),s,r)})}function N5(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const s=ee(n);return s.persistence.runTransaction("Get named query","readonly",i=>s.qs.getNamedQuery(i,r))}(await fE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){if(!n)throw new Y(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mM(t,e,n,r){if(e===!0&&r===!0)throw new Y(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hk(t){if(!Z.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qk(t){if(Z.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function Ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ey(t);throw new Y(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gM(t,e){if(e<=0)throw new Y(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class af{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new N9;switch(n.type){case"firstParty":return new M9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wk.get(e);n&&(W("ComponentProvider","Removing Datastore"),Wk.delete(e),n.terminate())}(this),Promise.resolve()}}function O5(t,e,n,r={}){var s;const i=(t=Ge(t,af))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=Bz(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(c)}t._authCredentials=new O9(new kA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class xn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xn(this.firestore,e,this._query)}}class js extends xn{constructor(e,n,r){super(e,n,fc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new Z(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function yM(t,e,...n){if(t=ht(t),mE("collection","path",e),t instanceof af){const r=Ve.fromString(e,...n);return qk(r),new js(t,null,r)}{if(!(t instanceof St||t instanceof js))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return qk(r),new js(t.firestore,null,r)}}function A5(t,e){if(t=Ge(t,af),mE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Y(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xn(t,null,function(n){return new Ui(Ve.emptyPath(),n)}(e))}function lg(t,e,...n){if(t=ht(t),arguments.length===1&&(e=IA.A()),mE("doc","path",e),t instanceof af){const r=Ve.fromString(e,...n);return Hk(r),new St(t,null,new Z(r))}{if(!(t instanceof St||t instanceof js))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Hk(r),new St(t.firestore,t instanceof js?t.converter:null,new Z(r))}}function vM(t,e){return t=ht(t),e=ht(e),(t instanceof St||t instanceof js)&&(e instanceof St||e instanceof js)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function wM(t,e){return t=ht(t),e=ht(e),t instanceof xn&&e instanceof xn&&t.firestore===e.firestore&&Zd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new QS(this,"async_queue_retry"),this.Xc=()=>{const n=Xp();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new un;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Zo(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw zt("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=eE.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&re()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function I_(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class M5{constructor(){this._progressObserver={},this._taskCompletionResolver=new un,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=-1;class Ut extends af{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new R5,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_M(this),this._firestoreClient.terminate()}}function pn(t){return t._firestoreClient||_M(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _M(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,c){return new cY(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pM(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new E5(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function L5(t,e){EM(t=Ge(t,Ut));const n=pn(t);if(n._uninitializedComponentsProvider)throw new Y(L.FAILED_PRECONDITION,"SDK cache is already specified.");vs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new hE;return SM(n,s,new lM(s,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function $5(t){EM(t=Ge(t,Ut));const e=pn(t);if(e._uninitializedComponentsProvider)throw new Y(L.FAILED_PRECONDITION,"SDK cache is already specified.");vs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new hE;return SM(e,r,new v5(r,n.cacheSizeBytes))}function SM(t,e,n){const r=new un;return t.asyncQueue.enqueue(async()=>{try{await Jp(t,n),await k_(t,e),r.resolve()}catch(s){const i=s;if(!uM(i))throw i;vs("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i)}}).then(()=>r.promise)}function F5(t){if(t._initialized&&!t._terminated)throw new Y(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new un;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!ds.D())return Promise.resolve();const r=n+"main";await ds.delete(r)}(qS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function j5(t){return function(e){const n=new un;return e.asyncQueue.enqueueAndForget(async()=>o5(await pE(e),n)),n.promise}(pn(t=Ge(t,Ut)))}function U5(t){return x5(pn(t=Ge(t,Ut)))}function V5(t){return b5(pn(t=Ge(t,Ut)))}function B5(t,e){const n=pn(t=Ge(t,Ut)),r=new M5;return D5(n,t._databaseId,e,r),r}function z5(t,e){return N5(pn(t=Ge(t,Ut)),e).then(n=>n?new xn(t,null,n.query):null)}function EM(t){if(t._initialized||t._terminated)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(nn.fromBase64String(e))}catch(n){throw new Y(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ys(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=/^__.*__$/;class W5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class TM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class xy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ug(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(xM(this.ca)&&Y5.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class H5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sf(e)}ya(e,n,r,s=!1){return new xy({ca:e,methodName:n,ga:r,path:Yt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vl(t){const e=t._freezeSettings(),n=sf(t._databaseId);return new H5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function by(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);wE("Data must be an object, but it was:",o,r);const a=IM(r,o);let l,c;if(i.merge)l=new rr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const y=C_(e,p,n);if(!o.contains(y))throw new Y(L.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);DM(d,y)||d.push(y)}l=new rr(d),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new W5(new _n(a),l,c)}class lf extends yl{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function bM(t,e,n){return new xy({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gE extends yl{_toFieldTransform(e){return new tf(e.path,new Vu)}isEqual(e){return e instanceof gE}}class q5 extends yl{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=bM(this,e,!0),r=this.pa.map(i=>wl(i,n)),s=new nl(r);return new tf(e.path,s)}isEqual(e){return this===e}}class G5 extends yl{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=bM(this,e,!0),r=this.pa.map(i=>wl(i,n)),s=new rl(r);return new tf(e.path,s)}isEqual(e){return this===e}}class K5 extends yl{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Bu(e.serializer,iR(e.serializer,this.Ia));return new tf(e.path,n)}isEqual(e){return this===e}}function yE(t,e,n,r){const s=t.ya(1,e,n);wE("Data must be an object, but it was:",s,r);const i=[],o=_n.empty();gl(r,(l,c)=>{const d=_E(e,l,n);c=ht(c);const p=s.da(d);if(c instanceof lf)i.push(d);else{const y=wl(c,p);y!=null&&(i.push(d),o.set(d,y))}});const a=new rr(i);return new TM(o,a,s.fieldTransforms)}function vE(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[C_(e,r,n)],l=[s];if(i.length%2!=0)throw new Y(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)a.push(C_(e,i[y])),l.push(i[y+1]);const c=[],d=_n.empty();for(let y=a.length-1;y>=0;--y)if(!DM(c,a[y])){const _=a[y];let E=l[y];E=ht(E);const x=o.da(_);if(E instanceof lf)c.push(_);else{const I=wl(E,x);I!=null&&(c.push(_),d.set(_,I))}}const p=new rr(c);return new TM(d,p,o.fieldTransforms)}function kM(t,e,n,r=!1){return wl(n,t.ya(r?4:3,e))}function wl(t,e){if(CM(t=ht(t)))return wE("Unsupported field value:",e,t),IM(t,e);if(t instanceof yl)return function(n,r){if(!xM(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=wl(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ct.fromDate(n);return{timestampValue:zu(r.serializer,s)}}if(n instanceof Ct){const s=new Ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zu(r.serializer,s)}}if(n instanceof Ty)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ys)return{bytesValue:yR(r.serializer,n._byteString)};if(n instanceof St){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Ey(n)}`)}(t,e)}function IM(t,e){const n={};return jA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gl(t,(r,s)=>{const i=wl(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function CM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Ty||t instanceof Ys||t instanceof St||t instanceof yl)}function wE(t,e,n){if(!CM(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ey(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function C_(t,e,n){if((e=ht(e))instanceof Yo)return e._internalPath;if(typeof e=="string")return _E(t,e);throw ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q5=new RegExp("[~\\*/\\[\\]]");function _E(t,e,n){if(e.search(Q5)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yo(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ug(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y(L.INVALID_ARGUMENT,a+t+l)}function DM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X5 extends Ed{data(){return super.data()}}function ky(t,e){return typeof e=="string"?_E(t,e):e instanceof Yo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SE{}class uf extends SE{}function eo(t,e,...n){let r=[];e instanceof SE&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof EE).length,o=s.filter(a=>a instanceof Iy).length;if(i>1||i>0&&o>0)throw new Y(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Iy extends uf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Iy(e,n,r)}_apply(e){const n=this._parse(e);return AM(e._query,n),new xn(e.firestore,e.converter,p_(e._query,n))}_parse(e){const n=vl(e.firestore);return function(s,i,o,a,l,c,d){let p;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Qk(d,c);const y=[];for(const _ of d)y.push(Kk(a,s,_));p={arrayValue:{values:y}}}else p=Kk(a,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Qk(d,c),p=kM(o,i,d,c==="in"||c==="not-in");return Me.create(l,c,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function J5(t,e,n){const r=e,s=ky("where",t);return Iy._create(s,r,n)}class EE extends SE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new EE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)AM(i,a),i=p_(i,a)}(e._query,n),new xn(e.firestore,e.converter,p_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class TE extends uf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new TE(e,n)}_apply(e){const n=function(r,s,i){if(r.startAt!==null)throw new Y(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Y(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Tu(s,i);return function(a,l){if(AS(a)===null){const c=fy(a);c!==null&&RM(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new xn(e.firestore,e.converter,function(r,s){const i=r.explicitOrderBy.concat([s]);return new Ui(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Z5(t,e="asc"){const n=e,r=ky("orderBy",t);return TE._create(r,n)}class Cy extends uf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Cy(e,n,r)}_apply(e){return new xn(e.firestore,e.converter,eg(e._query,this._limit,this._limitType))}}function eH(t){return gM("limit",t),Cy._create("limit",t,"F")}function tH(t){return gM("limitToLast",t),Cy._create("limitToLast",t,"L")}class Dy extends uf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Dy(e,n,r)}_apply(e){const n=OM(e,this.type,this._docOrFields,this._inclusive);return new xn(e.firestore,e.converter,function(r,s){return new Ui(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}}function nH(...t){return Dy._create("startAt",t,!0)}function rH(...t){return Dy._create("startAfter",t,!1)}class Ny extends uf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ny(e,n,r)}_apply(e){const n=OM(e,this.type,this._docOrFields,this._inclusive);return new xn(e.firestore,e.converter,function(r,s){return new Ui(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,n))}}function sH(...t){return Ny._create("endBefore",t,!1)}function iH(...t){return Ny._create("endAt",t,!0)}function OM(t,e,n,r){if(n[0]=ht(n[0]),n[0]instanceof Ed)return function(s,i,o,a,l){if(!a)throw new Y(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const d of za(s))if(d.field.isKeyField())c.push(el(i,a.key));else{const p=a.data.field(d.field);if(dy(p))throw new Y(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const y=d.field.canonicalString();throw new Y(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(p)}return new Bo(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=vl(t.firestore);return function(i,o,a,l,c,d){const p=i.explicitOrderBy;if(c.length>p.length)throw new Y(L.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let _=0;_<c.length;_++){const E=c[_];if(p[_].field.isKeyField()){if(typeof E!="string")throw new Y(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof E}`);if(!RS(i)&&E.indexOf("/")!==-1)throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${E}' contains a slash.`);const x=i.path.child(Ve.fromString(E));if(!Z.isDocumentKey(x))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const I=new Z(x);y.push(el(o,I))}else{const x=kM(a,l,E);y.push(x)}}return new Bo(y,d)}(t._query,t.firestore._databaseId,s,e,n,r)}}function Kk(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&n.indexOf("/")!==-1)throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!Z.isDocumentKey(r))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return el(t,new Z(r))}if(n instanceof St)return el(t,n._key);throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ey(n)}.`)}function Qk(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AM(t,e){if(e.isInequality()){const r=fy(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new Y(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=AS(t);i!==null&&RM(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function RM(t,e,n){if(!n.isEqual(e))throw new Y(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class xE{convertValue(e,n="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Ty(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=NS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);fe(IR(r));const s=new Uo(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||zt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class oH extends xE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ri extends Ed{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nh extends Ri{data(e={}){return super.data(e)}}class Wo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new La(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nh(this._firestore,this._userDataWriter,r.key,r,new La(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new Nh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new La(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Nh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new La(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:aH(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function MM(t,e){return t instanceof Ri&&e instanceof Ri?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Wo&&e instanceof Wo&&t._firestore===e._firestore&&wM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){t=Ge(t,St);const e=Ge(t.firestore,Ut);return dM(pn(e),t._key).then(n=>bE(e,t,n))}class _l extends xE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function uH(t){t=Ge(t,St);const e=Ge(t.firestore,Ut),n=pn(e),r=new _l(e);return k5(n,t._key).then(s=>new Ri(e,r,t._key,s,new La(s!==null&&s.hasLocalMutations,!0),t.converter))}function cH(t){t=Ge(t,St);const e=Ge(t.firestore,Ut);return dM(pn(e),t._key,{source:"server"}).then(n=>bE(e,t,n))}function hH(t){t=Ge(t,xn);const e=Ge(t.firestore,Ut),n=pn(e),r=new _l(e);return NM(t._query),fM(n,t._query).then(s=>new Wo(e,r,t,s))}function dH(t){t=Ge(t,xn);const e=Ge(t.firestore,Ut),n=pn(e),r=new _l(e);return I5(n,t._query).then(s=>new Wo(e,r,t,s))}function fH(t){t=Ge(t,xn);const e=Ge(t.firestore,Ut),n=pn(e),r=new _l(e);return fM(n,t._query,{source:"server"}).then(s=>new Wo(e,r,t,s))}function Xk(t,e,n){t=Ge(t,St);const r=Ge(t.firestore,Ut),s=Oy(t.converter,e,n);return cf(r,[by(vl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,It.none())])}function Jk(t,e,n,...r){t=Ge(t,St);const s=Ge(t.firestore,Ut),i=vl(s);let o;return o=typeof(e=ht(e))=="string"||e instanceof Yo?vE(i,"updateDoc",t._key,e,n,r):yE(i,"updateDoc",t._key,e),cf(s,[o.toMutation(t._key,It.exists(!0))])}function pH(t){return cf(Ge(t.firestore,Ut),[new mc(t._key,It.none())])}function mH(t,e){const n=Ge(t.firestore,Ut),r=lg(t),s=Oy(t.converter,e);return cf(n,[by(vl(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function PM(t,...e){var n,r,s;t=ht(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||I_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(I_(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,c,d;if(t instanceof St)c=Ge(t.firestore,Ut),d=fc(t._key.path),l={next:p=>{e[o]&&e[o](bE(c,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Ge(t,xn);c=Ge(p.firestore,Ut),d=p._query;const y=new _l(c);l={next:_=>{e[o]&&e[o](new Wo(c,y,p,_))},error:e[o+1],complete:e[o+2]},NM(t._query)}return function(p,y,_,E){const x=new _y(E),I=new sE(y,x,_);return p.asyncQueue.enqueueAndForget(async()=>tE(await Gu(p),I)),()=>{x.Dc(),p.asyncQueue.enqueueAndForget(async()=>nE(await Gu(p),I))}}(pn(c),d,a,l)}function gH(t,e){return C5(pn(t=Ge(t,Ut)),I_(e)?e:{next:e})}function cf(t,e){return function(n,r){const s=new un;return n.asyncQueue.enqueueAndForget(async()=>n5(await pE(n),r,s)),s.promise}(pn(t),e)}function bE(t,e,n){const r=n.docs.get(e._key),s=new _l(t);return new Ri(t,s,e._key,r,new La(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vl(e)}set(e,n,r){this._verifyNotCommitted();const s=co(e,this._firestore),i=Oy(s.converter,n,r),o=by(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,It.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=co(e,this._firestore);let o;return o=typeof(n=ht(n))=="string"||n instanceof Yo?vE(this._dataReader,"WriteBatch.update",i._key,n,r,s):yE(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,It.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=co(e,this._firestore);return this._mutations=this._mutations.concat(new mc(n._key,It.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Y(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function co(t,e){if((t=ht(t)).firestore!==e)throw new Y(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=vl(e)}get(e){const n=co(e,this._firestore),r=new oH(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return re();const i=s[0];if(i.isFoundDocument())return new Ed(this._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ed(this._firestore,r,n._key,null,n.converter);throw re()})}set(e,n,r){const s=co(e,this._firestore),i=Oy(s.converter,n,r),o=by(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(e,n,r,...s){const i=co(e,this._firestore);let o;return o=typeof(n=ht(n))=="string"||n instanceof Yo?vE(this._dataReader,"Transaction.update",i._key,n,r,s):yE(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(e){const n=co(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=co(e,this._firestore),r=new _l(this._firestore);return super.get(e).then(s=>new Ri(this._firestore,r,n._key,s._document,new La(!1,!1),n.converter))}}function _H(t,e,n){t=Ge(t,Ut);const r=Object.assign(Object.assign({},yH),n);return function(s){if(s.maxAttempts<1)throw new Y(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,i,o){const a=new un;return s.asyncQueue.enqueueAndForget(async()=>{const l=await T5(s);new S5(s.asyncQueue,l,o,i,a).run()}),a.promise}(pn(t),s=>e(new wH(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(){return new lf("deleteField")}function EH(){return new gE("serverTimestamp")}function TH(...t){return new q5("arrayUnion",t)}function xH(...t){return new G5("arrayRemove",t)}function bH(t){return new K5("increment",t)}(function(t,e=!0){(function(n){dc=n})(Ko),Lo(new Oi("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Ut(new A9(n.getProvider("auth-internal")),new L9(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Y(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),$s(qb,"3.13.0",t),$s(qb,"3.13.0","esm2017")})();const kH="@firebase/firestore-compat",IH="0.3.12";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Y("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){if(typeof Uint8Array>"u")throw new Y("unimplemented","Uint8Arrays are not available in this environment.")}function eI(){if(!lY())throw new Y("unimplemented","Blobs are unavailable in Firestore in this environment.")}let LM=class D_{constructor(e){this._delegate=e}static fromBase64String(e){return eI(),new D_(Ys.fromBase64String(e))}static fromUint8Array(e){return Zk(),new D_(Ys.fromUint8Array(e))}toBase64(){return eI(),this._delegate.toBase64()}toUint8Array(){return Zk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){return CH(t,["next","error","complete"])}function CH(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{enableIndexedDbPersistence(e,n){return L5(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return $5(e._delegate)}clearIndexedDbPersistence(e){return F5(e._delegate)}}class $M{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&vs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){O5(this._delegate,e,n,r)}enableNetwork(){return U5(this._delegate)}disableNetwork(){return V5(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mM("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return j5(this._delegate)}onSnapshotsInSync(e){return gH(this._delegate,e)}get app(){if(!this._appCompat)throw new Y("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ku(this,yM(this._delegate,e))}catch(n){throw Vn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Yr(this,lg(this._delegate,e))}catch(n){throw Vn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Un(this,A5(this._delegate,e))}catch(n){throw Vn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return _H(this._delegate,n=>e(new FM(this,n)))}batch(){return pn(this._delegate),new jM(new vH(this._delegate,e=>cf(this._delegate,e)))}loadBundle(e){return B5(this._delegate,e)}namedQuery(e){return z5(this._delegate,e).then(n=>n?new Un(this,n):null)}}class Ay extends xE{constructor(e){super(),this.firestore=e}convertBytes(e){return new LM(new Ys(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Yr.forKey(n,this.firestore,null)}}function NH(t){C9(t)}class FM{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ay(e)}get(e){const n=$a(e);return this._delegate.get(n).then(r=>new Td(this._firestore,new Ri(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const s=$a(e);return r?(kE("Transaction.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const i=$a(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...s),this}delete(e){const n=$a(e);return this._delegate.delete(n),this}}class jM{constructor(e){this._delegate=e}set(e,n,r){const s=$a(e);return r?(kE("WriteBatch.set",r),this._delegate.set(s,n,r)):this._delegate.set(s,n),this}update(e,n,r,...s){const i=$a(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...s),this}delete(e){const n=$a(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class al{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Nh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=al.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let i=s.get(n);return i||(i=new al(e,new Ay(e),n),s.set(n,i)),i}}al.INSTANCES=new WeakMap;class Yr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ay(e)}static forPath(e,n,r){if(e.length%2!==0)throw new Y("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yr(n,new St(n._delegate,r,new Z(e)))}static forKey(e,n,r){return new Yr(n,new St(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ku(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ku(this.firestore,yM(this._delegate,e))}catch(n){throw Vn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ht(e),e instanceof St?vM(this._delegate,e):!1}set(e,n){n=kE("DocumentReference.set",n);try{return n?Xk(this._delegate,e,n):Xk(this._delegate,e)}catch(r){throw Vn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Jk(this._delegate,e):Jk(this._delegate,e,n,...r)}catch(s){throw Vn(s,"updateDoc()","DocumentReference.update()")}}delete(){return pH(this._delegate)}onSnapshot(...e){const n=UM(e),r=VM(e,s=>new Td(this.firestore,new Ri(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return PM(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=uH(this._delegate):(e==null?void 0:e.source)==="server"?n=cH(this._delegate):n=lH(this._delegate),n.then(r=>new Td(this.firestore,new Ri(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yr(this.firestore,e?this._delegate.withConverter(al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Vn(t,e,n){return t.message=t.message.replace(e,n),t}function UM(t){for(const e of t)if(typeof e=="object"&&!N_(e))return e;return{}}function VM(t,e){var n,r;let s;return N_(t[0])?s=t[0]:N_(t[1])?s=t[1]:typeof t[0]=="function"?s={next:t[0],error:t[1],complete:t[2]}:s={next:t[1],error:t[2],complete:t[3]},{next:i=>{s.next&&s.next(e(i))},error:(n=s.error)===null||n===void 0?void 0:n.bind(s),complete:(r=s.complete)===null||r===void 0?void 0:r.bind(s)}}class Td{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Yr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return MM(this._delegate,e._delegate)}}class xd extends Td{data(e){const n=this._delegate.data(e);return D9(n!==void 0),n}}class Un{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ay(e)}where(e,n,r){try{return new Un(this.firestore,eo(this._delegate,J5(e,n,r)))}catch(s){throw Vn(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Un(this.firestore,eo(this._delegate,Z5(e,n)))}catch(r){throw Vn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Un(this.firestore,eo(this._delegate,eH(e)))}catch(n){throw Vn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Un(this.firestore,eo(this._delegate,tH(e)))}catch(n){throw Vn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Un(this.firestore,eo(this._delegate,nH(...e)))}catch(n){throw Vn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Un(this.firestore,eo(this._delegate,rH(...e)))}catch(n){throw Vn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Un(this.firestore,eo(this._delegate,sH(...e)))}catch(n){throw Vn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Un(this.firestore,eo(this._delegate,iH(...e)))}catch(n){throw Vn(n,"endAt()","Query.endAt()")}}isEqual(e){return wM(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=dH(this._delegate):(e==null?void 0:e.source)==="server"?n=fH(this._delegate):n=hH(this._delegate),n.then(r=>new O_(this.firestore,new Wo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=UM(e),r=VM(e,s=>new O_(this.firestore,new Wo(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return PM(this._delegate,n,r)}withConverter(e){return new Un(this.firestore,e?this._delegate.withConverter(al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class OH{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new xd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class O_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Un(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new OH(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new xd(this._firestore,r))})}isEqual(e){return MM(this._delegate,e._delegate)}}class Ku extends Un{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yr(this.firestore,e):null}doc(e){try{return e===void 0?new Yr(this.firestore,lg(this._delegate)):new Yr(this.firestore,lg(this._delegate,e))}catch(n){throw Vn(n,"doc()","CollectionReference.doc()")}}add(e){return mH(this._delegate,e).then(n=>new Yr(this.firestore,n))}isEqual(e){return vM(this._delegate,e._delegate)}withConverter(e){return new Ku(this.firestore,e?this._delegate.withConverter(al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function $a(t){return Ge(t,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(...e){this._delegate=new Yo(...e)}static documentId(){return new IE(Yt.keyField().canonicalString())}isEqual(e){return e=ht(e),e instanceof Yo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._delegate=e}static serverTimestamp(){const e=EH();return e._methodName="FieldValue.serverTimestamp",new Da(e)}static delete(){const e=SH();return e._methodName="FieldValue.delete",new Da(e)}static arrayUnion(...e){const n=TH(...e);return n._methodName="FieldValue.arrayUnion",new Da(n)}static arrayRemove(...e){const n=xH(...e);return n._methodName="FieldValue.arrayRemove",new Da(n)}static increment(e){const n=bH(e);return n._methodName="FieldValue.increment",new Da(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH={Firestore:$M,GeoPoint:Ty,Timestamp:Ct,Blob:LM,Transaction:FM,WriteBatch:jM,DocumentReference:Yr,DocumentSnapshot:Td,Query:Un,QueryDocumentSnapshot:xd,QuerySnapshot:O_,CollectionReference:Ku,FieldPath:IE,FieldValue:Da,setLogLevel:NH,CACHE_SIZE_UNLIMITED:P5};function RH(t,e){t.INTERNAL.registerComponent(new Oi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},AH)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){RH(t,(e,n)=>new $M(e,n,new DH)),t.registerVersion(kH,IH)}MH(sS);function CE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BM(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PH=BM,zM=new pl("auth","Firebase",BM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new Gg("@firebase/auth");function LH(t,...e){cg.logLevel<=Ue.WARN&&cg.warn(`Auth (${Ko}): ${t}`,...e)}function Zp(t,...e){cg.logLevel<=Ue.ERROR&&cg.error(`Auth (${Ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,...e){throw DE(t,...e)}function Us(t,...e){return DE(t,...e)}function YM(t,e,n){const r=Object.assign(Object.assign({},PH()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function $H(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ws(t,"argument-error"),YM(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function DE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zM.create(t,...e)}function Se(t,e,...n){if(!t)throw DE(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zp(e),new Error(e)}function Mi(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FH(){return tI()==="http:"||tI()==="https:"}function tI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FH()||Hz()||"connection"in navigator)?navigator.onLine:!0}function UH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=zz()||qz()}get(){return jH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new hf(3e4,6e4);function HM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function df(t,e,n,r,s={}){return qM(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Vd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),WM.fetch()(GM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function qM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VH),e);try{const s=new YH(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dp(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YM(t,d,c);Ws(t,d)}}catch(s){if(s instanceof Gs)throw s;Ws(t,"network-request-failed",{message:String(s)})}}async function zH(t,e,n,r,s={}){const i=await df(t,e,n,r,s);return"mfaPendingCredential"in i&&Ws(t,"multi-factor-auth-required",{_serverResponse:i}),i}function GM(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?NE(t.config,s):`${t.config.apiScheme}://${s}`}class YH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Us(this.auth,"network-request-failed")),BH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Us(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e){return df(t,"POST","/v1/accounts:delete",e)}async function HH(t,e){return df(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qH(t,e=!1){const n=ht(t),r=await n.getIdToken(e),s=OE(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Oh(Dw(s.auth_time)),issuedAtTime:Oh(Dw(s.iat)),expirationTime:Oh(Dw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Dw(t){return Number(t)*1e3}function OE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zp("JWT malformed, contained fewer than 3 sections"),null;try{const s=lO(n);return s?JSON.parse(s):(Zp("Failed to decode base64 JWT payload"),null)}catch(s){return Zp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function GH(t){const e=OE(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gs&&KH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oh(this.lastLoginAt),this.creationTime=Oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await bd(t,HH(n,{idToken:r}));Se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ZH(i.providerUserInfo):[],a=JH(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new KM(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function XH(t){const e=ht(t);await hg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ZH(t){return t.map(e=>{var{providerId:n}=e,r=CE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eq(t,e){const n=await qM(t,{},async()=>{const r=Vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=GM(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WM.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await eq(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new kd;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kd,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ya{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=CE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new KM(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await bd(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qH(this,e)}reload(){return XH(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await bd(this,WH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:D,isAnonymous:R,providerData:M,stsTokenManager:$}=n;Se(k&&$,e,"internal-error");const z=kd.fromJSON(this.name,$);Se(typeof k=="string",e,"internal-error"),to(p,e.name),to(y,e.name),Se(typeof D=="boolean",e,"internal-error"),Se(typeof R=="boolean",e,"internal-error"),to(_,e.name),to(E,e.name),to(x,e.name),to(I,e.name),to(b,e.name),to(T,e.name);const ue=new Ya({uid:k,auth:e,email:y,emailVerified:D,displayName:p,isAnonymous:R,photoURL:E,phoneNumber:_,tenantId:x,stsTokenManager:z,createdAt:b,lastLoginAt:T});return M&&Array.isArray(M)&&(ue.providerData=M.map(V=>Object.assign({},V))),I&&(ue._redirectEventId=I),ue}static async _fromIdTokenResponse(e,n,r=!1){const s=new kd;s.updateFromServerResponse(n);const i=new Ya({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hg(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Map;function vi(t){Mi(t instanceof Function,"Expected a class definition");let e=nI.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QM.type="NONE";const rI=QM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e,n){return`firebase:${t}:${e}:${n}`}class bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=em(this.userKey,s.apiKey,i),this.fullPersistenceKey=em("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ya._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bu(vi(rI),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||vi(rI);const o=em(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const p=Ya._fromJSON(e,d);c!==i&&(a=p),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new bu(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new bu(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tP(e))return"Blackberry";if(nP(e))return"Webos";if(AE(e))return"Safari";if((e.includes("chrome/")||JM(e))&&!e.includes("edge/"))return"Chrome";if(eP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XM(t=tn()){return/firefox\//i.test(t)}function AE(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JM(t=tn()){return/crios\//i.test(t)}function ZM(t=tn()){return/iemobile/i.test(t)}function eP(t=tn()){return/android/i.test(t)}function tP(t=tn()){return/blackberry/i.test(t)}function nP(t=tn()){return/webos/i.test(t)}function Ry(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tq(t=tn()){var e;return Ry(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nq(){return Gz()&&document.documentMode===10}function rP(t=tn()){return Ry(t)||eP(t)||nP(t)||tP(t)||/windows phone/i.test(t)||ZM(t)}function rq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e=[]){let n;switch(t){case"Browser":n=sI(tn());break;case"Worker":n=`${sI(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}async function iP(t,e){return df(t,"GET","/v2/recaptchaConfig",HM(t,e))}function iI(t){return t!==void 0&&t.enterprise!==void 0}class oP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function aP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Us("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",sq().appendChild(r)})}function iq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const oq="https://www.google.com/recaptcha/enterprise.js?render=",aq="recaptcha-enterprise",lq="NO_RECAPTCHA";class uq{constructor(e){this.type=aq,this.auth=ff(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{iP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new oP(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;iI(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(lq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&iI(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}aP(oq+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oI(this),this.idTokenSubscription=new oI(this),this.beforeStateQueue=new cq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await bu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ht(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}async initializeRecaptchaConfig(){const e=await iP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new oP(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new uq(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await bu.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ff(t){return ht(t)}class oI{constructor(e){this.auth=e,this.observer=null,this.addObserver=dO(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t,e){const n=Kg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Bm(i,e??{}))return s;Ws(s,"already-initialized")}return n.initialize({options:e})}function fq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pq(t,e,n){const r=ff(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=lP(e),{host:o,port:a}=mq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||gq()}function lP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mq(t){const e=lP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:aI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:aI(o)}}}function aI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e){return zH(t,"POST","/v1/accounts:signInWithIdp",HM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="http://localhost";class ll extends uP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=CE(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ll(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ku(e,n)}buildRequest(){const e={requestUri:yq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends RE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends pf{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ll._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends pf{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends pf{constructor(){super("twitter.com")}static credential(e,n){return ll._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ya._fromIdTokenResponse(e,r,s),o=lI(r);return new Qu({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=lI(r);return new Qu({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function lI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends Gs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dg(e,n,r,s)}}function cP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dg._fromErrorAndOperation(t,i,e,r):i})}async function vq(t,e,n=!1){const r=await bd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await bd(t,cP(r,s,e,t),n);Se(i.idToken,r,"internal-error");const o=OE(i.idToken);Se(o,r,"internal-error");const{sub:a}=o;return Se(t.uid===a,r,"user-mismatch"),Qu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ws(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e,n=!1){const r="signIn",s=await cP(t,r,e),i=await Qu._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Sq(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function Eq(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}const fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(){const t=tn();return AE(t)||Ry(t)}const xq=1e3,bq=10;class dP extends hP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Tq()&&rq(),this.fallbackToPolling=rP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);nq()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bq):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dP.type="LOCAL";const kq=dP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends hP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fP.type="SESSION";const pP=fP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new My(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Iq(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}My.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ME("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const y=p;if(y.data.eventId===c)switch(y.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(y.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return window}function Dq(t){Vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function Nq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Oq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Aq(){return mP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firebaseLocalStorageDb",Rq=1,pg="firebaseLocalStorage",yP="fbase_key";class mf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Py(t,e){return t.transaction([pg],e?"readwrite":"readonly").objectStore(pg)}function Mq(){const t=indexedDB.deleteDatabase(gP);return new mf(t).toPromise()}function R_(){const t=indexedDB.open(gP,Rq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pg,{keyPath:yP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pg)?e(r):(r.close(),await Mq(),e(await R_()))})})}async function uI(t,e,n){const r=Py(t,!0).put({[yP]:e,value:n});return new mf(r).toPromise()}async function Pq(t,e){const n=Py(t,!1).get(e),r=await new mf(n).toPromise();return r===void 0?null:r.value}function cI(t,e){const n=Py(t,!0).delete(e);return new mf(n).toPromise()}const Lq=800,$q=3;class vP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$q)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=My._getInstance(Aq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Nq(),!this.activeServiceWorker)return;this.sender=new Cq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Oq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R_();return await uI(e,fg,"1"),await cI(e,fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Pq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Py(s,!1).getAll();return new mf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vP.type="LOCAL";const Fq=vP;new hf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e){return e?vi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends uP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jq(t){return _q(t.auth,new PE(t),t.bypassAuthState)}function Uq(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),wq(n,new PE(t),t.bypassAuthState)}async function Vq(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),vq(n,new PE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jq;case"linkViaPopup":case"linkViaRedirect":return Vq;case"reauthViaPopup":case"reauthViaRedirect":return Uq;default:Ws(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=new hf(2e3,1e4);async function zq(t,e,n){const r=ff(t);$H(t,e,RE);const s=wP(r,n);return new Fa(r,"signInViaPopup",e,s).executeNotNull()}class Fa extends _P{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=ME();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bq.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="pendingRedirect",tm=new Map;class Wq extends _P{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tm.get(this.auth._key());if(!e){try{const r=await Hq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hq(t,e){const n=Kq(e),r=Gq(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function qq(t,e){tm.set(t._key(),e)}function Gq(t){return vi(t._redirectPersistence)}function Kq(t){return em(Yq,t.config.apiKey,t.name)}async function Qq(t,e,n=!1){const r=ff(t),s=wP(r,e),o=await new Wq(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=10*60*1e3;class Jq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Us(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xq&&this.cachedEventUids.clear(),this.cachedEventUids.has(hI(e))}saveEventToCache(e){this.cachedEventUids.add(hI(e)),this.lastProcessedEventTime=Date.now()}}function hI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e={}){return df(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nG=/^https?/;async function rG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eG(t);for(const n of e)try{if(sG(n))return}catch{}Ws(t,"unauthorized-domain")}function sG(t){const e=A_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nG.test(n))return!1;if(tG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=new hf(3e4,6e4);function dI(){const t=Vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oG(t){return new Promise((e,n)=>{var r,s,i;function o(){dI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dI(),n(Us(t,"network-request-failed"))},timeout:iG.get()})}if(!((s=(r=Vs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vs().gapi)===null||i===void 0)&&i.load)o();else{const a=iq("iframefcb");return Vs()[a]=()=>{gapi.load?o():n(Us(t,"network-request-failed"))},aP(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nm=null,e})}let nm=null;function aG(t){return nm=nm||oG(t),nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=new hf(5e3,15e3),uG="__/auth/iframe",cG="emulator/auth/iframe",hG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fG(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?NE(e,cG):`https://${t.config.authDomain}/${uG}`,r={apiKey:e.apiKey,appName:t.name,v:Ko},s=dG.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vd(r).slice(1)}`}async function pG(t){const e=await aG(t),n=Vs().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:fG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hG,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Us(t,"network-request-failed"),a=Vs().setTimeout(()=>{i(o)},lG.get());function l(){Vs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gG=500,yG=600,vG="_blank",wG="http://localhost";class fI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _G(t,e,n,r=gG,s=yG){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},mG),{width:r.toString(),height:s.toString(),top:i,left:o}),c=tn().toLowerCase();n&&(a=JM(c)?vG:n),XM(c)&&(e=e||wG,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if(tq(c)&&a!=="_self")return SG(e||"",a),new fI(null);const p=window.open(e||"",a,d);Se(p,t,"popup-blocked");try{p.focus()}catch{}return new fI(p)}function SG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG="__/auth/handler",TG="emulator/auth/handler",xG=encodeURIComponent("fac");async function pI(t,e,n,r,s,i){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ko,eventId:s};if(e instanceof RE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",e6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries(i||{}))o[d]=p}if(e instanceof pf){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${xG}=${encodeURIComponent(l)}`:"";return`${bG(t)}?${Vd(a).slice(1)}${c}`}function bG({config:t}){return t.emulator?NE(t,TG):`https://${t.authDomain}/${EG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="webStorageSupport";class kG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pP,this._completeRedirectFn=Qq,this._overrideRedirectResult=qq}async _openPopup(e,n,r,s){var i;Mi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await pI(e,n,r,A_(),s);return _G(e,o,ME())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await pI(e,n,r,A_(),s);return Dq(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Mi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pG(e),r=new Jq(e);return n.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nw,{type:Nw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Nw];o!==void 0&&n(!!o),Ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rP()||AE()||Ry()}}const IG=kG;var mI="@firebase/auth",gI="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function NG(t){Lo(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sP(t)},c=new hq(r,s,i,l);return fq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new Oi("auth-internal",e=>{const n=ff(e.getProvider("auth").getImmediate());return(r=>new CG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(mI,gI,DG(t)),$s(mI,gI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=5*60,AG=cO("authIdTokenMaxAge")||OG;let yI=null;const RG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AG)return;const s=n==null?void 0:n.token;yI!==s&&(yI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MG(t=yO()){const e=Kg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dq(t,{popupRedirectResolver:IG,persistence:[Fq,kq,pP]}),r=cO("authTokenSyncURL");if(r){const i=RG(r);Eq(n,i,()=>i(n.currentUser)),Sq(n,o=>i(o))}const s=Uz("auth");return s&&pq(n,`http://${s}`),n}NG("Browser");const PG={apiKey:"AIzaSyAgzCJaff_H94r7eAGPQyJN2AUI570AWrw",authDomain:"clase16-6effd.firebaseapp.com",projectId:"clase16-6effd",storageBucket:"clase16-6effd.appspot.com",messagingSenderId:"11701663462",appId:"1:11701663462:web:d8107e7c9a1a5a05e42d27"},EP=sS.initializeApp(PG),Na=EP.firestore(),LG=MG(EP),$G=new di,FG={type:Ti.string,tooltip:Ti.bool,as:Ti.elementType},LE=C.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>v.jsx(t,{...s,ref:i,className:be(e,`${n}-${r?"tooltip":"feedback"}`)}));LE.displayName="Feedback";LE.propTypes=FG;const TP=LE,jG=C.createContext({}),Pi=jG,xP=C.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:o="input",...a},l)=>{const{controlId:c}=C.useContext(Pi);return e=Be(e,"form-check-input"),v.jsx(o,{...a,ref:l,type:r,id:t||c,className:be(n,e,s&&"is-valid",i&&"is-invalid")})});xP.displayName="FormCheckInput";const bP=xP,kP=C.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=C.useContext(Pi);return t=Be(t,"form-check-label"),v.jsx("label",{...r,ref:s,htmlFor:n||i,className:be(e,t)})});kP.displayName="FormCheckLabel";const M_=kP;function UG(t,e){return C.Children.toArray(t).some(n=>C.isValidElement(n)&&n.type===e)}const IP=C.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:d,className:p,style:y,title:_="",type:E="checkbox",label:x,children:I,as:b="input",...T},k)=>{e=Be(e,"form-check"),n=Be(n,"form-switch");const{controlId:D}=C.useContext(Pi),R=C.useMemo(()=>({controlId:t||D}),[D,t]),M=!I&&x!=null&&x!==!1||UG(I,M_),$=v.jsx(bP,{...T,type:E==="switch"?"checkbox":E,ref:k,isValid:o,isInvalid:a,disabled:i,as:b});return v.jsx(Pi.Provider,{value:R,children:v.jsx("div",{style:y,className:be(p,M&&e,r&&`${e}-inline`,s&&`${e}-reverse`,E==="switch"&&n),children:I||v.jsxs(v.Fragment,{children:[$,M&&v.jsx(M_,{title:_,children:x}),c&&v.jsx(TP,{type:d,tooltip:l,children:c})]})})})});IP.displayName="FormCheck";const mg=Object.assign(IP,{Input:bP,Label:M_}),CP=C.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:d="input",...p},y)=>{const{controlId:_}=C.useContext(Pi);t=Be(t,"form-control");let E;return l?E={[`${t}-plaintext`]:!0}:E={[t]:!0,[`${t}-${n}`]:n},v.jsx(d,{...p,type:e,size:r,ref:y,readOnly:c,id:s||_,className:be(i,E,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});CP.displayName="FormControl";const VG=Object.assign(CP,{Feedback:TP}),BG=hn("form-floating"),DP=C.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=C.useMemo(()=>({controlId:t}),[t]);return v.jsx(Pi.Provider,{value:s,children:v.jsx(e,{...n,ref:r})})});DP.displayName="FormGroup";const NP=DP,OP=C.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...o},a)=>{const{controlId:l}=C.useContext(Pi);e=Be(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const d=be(s,e,r&&"visually-hidden",n&&c);return i=i||l,n?v.jsx(tt,{ref:a,as:"label",className:d,htmlFor:i,...o}):v.jsx(t,{ref:a,className:d,htmlFor:i,...o})});OP.displayName="FormLabel";const zG=OP,AP=C.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=C.useContext(Pi);return t=Be(t,"form-range"),v.jsx("input",{...r,type:"range",ref:s,className:be(e,t),id:n||i})});AP.displayName="FormRange";const YG=AP,RP=C.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:o,...a},l)=>{const{controlId:c}=C.useContext(Pi);return t=Be(t,"form-select"),v.jsx("select",{...a,size:n,ref:l,className:be(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:o||c})});RP.displayName="FormSelect";const WG=RP,MP=C.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=Be(t,"form-text"),v.jsx(n,{...s,ref:i,className:be(e,t,r&&"text-muted")})));MP.displayName="FormText";const HG=MP,PP=C.forwardRef((t,e)=>v.jsx(mg,{...t,ref:e,type:"switch"}));PP.displayName="Switch";const qG=Object.assign(PP,{Input:mg.Input,Label:mg.Label}),LP=C.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},o)=>(t=Be(t,"form-floating"),v.jsxs(NP,{ref:o,className:be(e,t),controlId:r,...i,children:[n,v.jsx("label",{htmlFor:r,children:s})]})));LP.displayName="FloatingLabel";const GG=LP,KG={_ref:Ti.any,validated:Ti.bool,as:Ti.elementType},$E=C.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>v.jsx(n,{...r,ref:s,className:be(t,e&&"was-validated")}));$E.displayName="Form";$E.propTypes=KG;const he=Object.assign($E,{Group:NP,Control:VG,Floating:BG,Check:mg,Switch:qG,Label:zG,Text:HG,Range:YG,Select:WG,FloatingLabel:GG}),$P=C.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...s},i)=>{const o=Be(t,"card-img");return v.jsx(r,{ref:i,className:be(n?`${o}-${n}`:o,e),...s})});$P.displayName="CardImg";const QG=$P,FP=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},s)=>{const i=Be(t,"card-header"),o=C.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return v.jsx(CN.Provider,{value:o,children:v.jsx(n,{ref:s,...r,className:be(e,i)})})});FP.displayName="CardHeader";const XG=FP,JG=Ud("h5"),ZG=Ud("h6"),jP=hn("card-body"),eK=hn("card-title",{Component:JG}),tK=hn("card-subtitle",{Component:ZG}),nK=hn("card-link",{Component:"a"}),rK=hn("card-text",{Component:"p"}),sK=hn("card-footer"),iK=hn("card-img-overlay"),UP=C.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:s,body:i=!1,children:o,as:a="div",...l},c)=>{const d=Be(t,"card");return v.jsx(a,{ref:c,...l,className:be(e,d,n&&`bg-${n}`,r&&`text-${r}`,s&&`border-${s}`),children:i?v.jsx(jP,{children:o}):o})});UP.displayName="Card";const Ne=Object.assign(UP,{Img:QG,Title:eK,Subtitle:tK,Body:jP,Link:nK,Text:rK,Header:XG,Footer:sK,ImgOverlay:iK});/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vI=Object.getOwnPropertySymbols,oK=Object.prototype.hasOwnProperty,aK=Object.prototype.propertyIsEnumerable;function lK(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function uK(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var cK=uK()?Object.assign:function(t,e){for(var n,r=lK(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)oK.call(n,o)&&(r[o]=n[o]);if(vI){s=vI(n);for(var a=0;a<s.length;a++)aK.call(n,s[a])&&(r[s[a]]=n[s[a]])}}return r};const hK=Od(cK),dK=({url:t,allowFullScreen:e,position:n,display:r,height:s,width:i,overflow:o,styles:a,onLoad:l,onMouseOver:c,onMouseOut:d,scrolling:p,id:y,frameBorder:_,ariaHidden:E,sandbox:x,allow:I,className:b,title:T,ariaLabel:k,ariaLabelledby:D,name:R,target:M,loading:$,importance:z,referrerpolicy:ue,allowpaymentrequest:V,src:ye,key:Le})=>{const ve=hK({src:ye||t,target:M||null,style:{position:n||null,display:r||"initial",overflow:o||null},scrolling:p||null,allowpaymentrequest:V||null,importance:z||null,sandbox:x&&[...x].join(" ")||null,loading:$||null,styles:a||null,name:R||null,className:b||null,allowFullScreen:"allowFullScreen",referrerpolicy:ue||null,title:T||null,allow:I||null,id:y||null,"aria-labelledby":D||null,"aria-hidden":E||null,"aria-label":k||null,width:i||null,height:s||null,onLoad:l||null,onMouseOver:c||null,onMouseOut:d||null,key:Le||"iframe"});let Ce=Object.create(null);for(let Ae of Object.keys(ve))ve[Ae]!=null&&(Ce[Ae]=ve[Ae]);for(let Ae of Object.keys(Ce.style))Ce.style[Ae]==null&&delete Ce.style[Ae];if(Ce.styles)for(let Ae of Object.keys(Ce.styles))Ce.styles.hasOwnProperty(Ae)&&(Ce.style[Ae]=Ce.styles[Ae]),Object.keys(Ce.styles).pop()==Ae&&delete Ce.styles;if(e)if("allow"in Ce){const Ae=Ce.allow.replace("fullscreen","");Ce.allow=`fullscreen ${Ae.trim()}`.trim()}else Ce.allow="fullscreen";return _>=0&&(Ce.style.hasOwnProperty("border")||(Ce.style.border=_)),Br.createElement("iframe",Object.assign({},Ce))},VP=()=>v.jsx(v.Fragment,{children:v.jsx(dK,{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.4356868212944!2d-70.65419666469097!3d-33.43795379133519!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662c52097e87b81%3A0x65cea5ce2cfd8afb!2sLa%20Sanguchera%20del%20Barrio!5e0!3m2!1ses-419!2scl!4v1688755916683!5m2!1ses-419!2scl",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),BP=Ud("h4");BP.displayName="DivStyledAsH4";const fK=hn("alert-heading",{Component:BP}),pK=hn("alert-link",{Component:NN}),zP=C.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:o,children:a,variant:l="primary",onClose:c,dismissible:d,transition:p=nd,...y}=zg(t,{show:"onClose"}),_=Be(n,"alert"),E=On(b=>{c&&c(!1,b)}),x=p===!0?nd:p,I=v.jsxs("div",{role:"alert",...x?void 0:y,ref:e,className:be(o,_,l&&`${_}-${l}`,d&&`${_}-dismissible`),children:[d&&v.jsx(KN,{onClick:E,"aria-label":s,variant:i}),a]});return x?v.jsx(x,{unmountOnExit:!0,...y,ref:void 0,in:r,children:I}):r?I:null});zP.displayName="Alert";const FE=Object.assign(zP,{Link:pK,Heading:fK});//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var YP;function J(){return YP.apply(null,arguments)}function mK(t){YP=t}function ws(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Wa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jE(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Xe(t,e))return!1;return!0}function Jn(t){return t===void 0}function Li(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function gf(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function WP(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function wo(t,e){for(var n in e)Xe(e,n)&&(t[n]=e[n]);return Xe(e,"toString")&&(t.toString=e.toString),Xe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Ks(t,e,n,r){return mL(t,e,n,r,!0).utc()}function gK(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ie(t){return t._pf==null&&(t._pf=gK()),t._pf}var P_;Array.prototype.some?P_=Array.prototype.some:P_=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function UE(t){if(t._isValid==null){var e=Ie(t),n=P_.call(e.parsedDateParts,function(s){return s!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Ly(t){var e=Ks(NaN);return t!=null?wo(Ie(e),t):Ie(e).userInvalidated=!0,e}var wI=J.momentProperties=[],Ow=!1;function VE(t,e){var n,r,s,i=wI.length;if(Jn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Jn(e._i)||(t._i=e._i),Jn(e._f)||(t._f=e._f),Jn(e._l)||(t._l=e._l),Jn(e._strict)||(t._strict=e._strict),Jn(e._tzm)||(t._tzm=e._tzm),Jn(e._isUTC)||(t._isUTC=e._isUTC),Jn(e._offset)||(t._offset=e._offset),Jn(e._pf)||(t._pf=Ie(e)),Jn(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=wI[n],s=e[r],Jn(s)||(t[r]=s);return t}function yf(t){VE(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ow===!1&&(Ow=!0,J.updateOffset(this),Ow=!1)}function _s(t){return t instanceof yf||t!=null&&t._isAMomentObject!=null}function HP(t){J.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Qr(t,e){var n=!0;return wo(function(){if(J.deprecationHandler!=null&&J.deprecationHandler(null,t),n){var r=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])Xe(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}HP(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var _I={};function qP(t,e){J.deprecationHandler!=null&&J.deprecationHandler(t,e),_I[t]||(HP(e),_I[t]=!0)}J.suppressDeprecationWarnings=!1;J.deprecationHandler=null;function Qs(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function yK(t){var e,n;for(n in t)Xe(t,n)&&(e=t[n],Qs(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L_(t,e){var n=wo({},t),r;for(r in e)Xe(e,r)&&(Wa(t[r])&&Wa(e[r])?(n[r]={},wo(n[r],t[r]),wo(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Xe(t,r)&&!Xe(e,r)&&Wa(t[r])&&(n[r]=wo({},n[r]));return n}function BE(t){t!=null&&this.set(t)}var $_;Object.keys?$_=Object.keys:$_=function(t){var e,n=[];for(e in t)Xe(t,e)&&n.push(e);return n};var vK={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wK(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Qs(r)?r.call(e,n):r}function Hs(t,e,n){var r=""+Math.abs(t),s=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var zE=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Np=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Aw={},Iu={};function ge(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(Iu[t]=s),e&&(Iu[e[0]]=function(){return Hs(s.apply(this,arguments),e[1],e[2])}),n&&(Iu[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function _K(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function SK(t){var e=t.match(zE),n,r;for(n=0,r=e.length;n<r;n++)Iu[e[n]]?e[n]=Iu[e[n]]:e[n]=_K(e[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=Qs(e[o])?e[o].call(s,t):e[o];return i}}function rm(t,e){return t.isValid()?(e=GP(e,t.localeData()),Aw[e]=Aw[e]||SK(e),Aw[e](t)):t.localeData().invalidDate()}function GP(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(Np.lastIndex=0;n>=0&&Np.test(t);)t=t.replace(Np,r),Np.lastIndex=0,n-=1;return t}var EK={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function TK(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(zE).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var xK="Invalid date";function bK(){return this._invalidDate}var kK="%d",IK=/\d{1,2}/;function CK(t){return this._ordinal.replace("%d",t)}var DK={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function NK(t,e,n,r){var s=this._relativeTime[n];return Qs(s)?s(t,e,n,r):s.replace(/%d/i,t)}function OK(t,e){var n=this._relativeTime[t>0?"future":"past"];return Qs(n)?n(e):n.replace(/%s/i,e)}var Ah={};function Ln(t,e){var n=t.toLowerCase();Ah[n]=Ah[n+"s"]=Ah[e]=t}function Xr(t){return typeof t=="string"?Ah[t]||Ah[t.toLowerCase()]:void 0}function YE(t){var e={},n,r;for(r in t)Xe(t,r)&&(n=Xr(r),n&&(e[n]=t[r]));return e}var KP={};function $n(t,e){KP[t]=e}function AK(t){var e=[],n;for(n in t)Xe(t,n)&&e.push({unit:n,priority:KP[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}function $y(t){return t%4===0&&t%100!==0||t%400===0}function Ur(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Oe(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Ur(e)),n}function _c(t,e){return function(n){return n!=null?(QP(this,t,n),J.updateOffset(this,e),this):gg(this,t)}}function gg(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function QP(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&$y(t.year())&&t.month()===1&&t.date()===29?(n=Oe(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),zy(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function RK(t){return t=Xr(t),Qs(this[t])?this[t]():this}function MK(t,e){if(typeof t=="object"){t=YE(t);var n=AK(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=Xr(t),Qs(this[t]))return this[t](e);return this}var XP=/\d/,Dr=/\d\d/,JP=/\d{3}/,WE=/\d{4}/,Fy=/[+-]?\d{6}/,Tt=/\d\d?/,ZP=/\d\d\d\d?/,eL=/\d\d\d\d\d\d?/,jy=/\d{1,3}/,HE=/\d{1,4}/,Uy=/[+-]?\d{1,6}/,Sc=/\d+/,Vy=/[+-]?\d+/,PK=/Z|[+-]\d\d:?\d\d/gi,By=/Z|[+-]\d\d(?::?\d\d)?/gi,LK=/[+-]?\d+(\.\d{1,3})?/,vf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,yg;yg={};function se(t,e,n){yg[t]=Qs(e)?e:function(r,s){return r&&n?n:e}}function $K(t,e){return Xe(yg,t)?yg[t](e._strict,e._locale):new RegExp(FK(t))}function FK(t){return yr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,i){return n||r||s||i}))}function yr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var F_={};function ut(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),Li(e)&&(r=function(i,o){o[e]=Oe(i)}),s=t.length,n=0;n<s;n++)F_[t[n]]=r}function wf(t,e){ut(t,function(n,r,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function jK(t,e,n){e!=null&&Xe(F_,t)&&F_[t](e,n._a,n,t)}var Mn=0,wi=1,Ds=2,en=3,fs=4,_i=5,ja=6,UK=7,VK=8;function BK(t,e){return(t%e+e)%e}var Vt;Array.prototype.indexOf?Vt=Array.prototype.indexOf:Vt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function zy(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=BK(e,12);return t+=(e-n)/12,n===1?$y(t)?29:28:31-n%7%2}ge("M",["MM",2],"Mo",function(){return this.month()+1});ge("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ge("MMMM",0,0,function(t){return this.localeData().months(this,t)});Ln("month","M");$n("month",8);se("M",Tt);se("MM",Tt,Dr);se("MMM",function(t,e){return e.monthsShortRegex(t)});se("MMMM",function(t,e){return e.monthsRegex(t)});ut(["M","MM"],function(t,e){e[wi]=Oe(t)-1});ut(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[wi]=s:Ie(n).invalidMonth=t});var zK="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tL="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nL=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,YK=vf,WK=vf;function HK(t,e){return t?ws(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||nL).test(e)?"format":"standalone"][t.month()]:ws(this._months)?this._months:this._months.standalone}function qK(t,e){return t?ws(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[nL.test(e)?"format":"standalone"][t.month()]:ws(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function GK(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Ks([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=Vt.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Vt.call(this._longMonthsParse,o),s!==-1?s:null):e==="MMM"?(s=Vt.call(this._shortMonthsParse,o),s!==-1?s:(s=Vt.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Vt.call(this._longMonthsParse,o),s!==-1?s:(s=Vt.call(this._shortMonthsParse,o),s!==-1?s:null))}function KK(t,e,n){var r,s,i;if(this._monthsParseExact)return GK.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Ks([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function rL(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Oe(e);else if(e=t.localeData().monthsParse(e),!Li(e))return t}return n=Math.min(t.date(),zy(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function sL(t){return t!=null?(rL(this,t),J.updateOffset(this,!0),this):gg(this,"Month")}function QK(){return zy(this.year(),this.month())}function XK(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||iL.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Xe(this,"_monthsShortRegex")||(this._monthsShortRegex=YK),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function JK(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||iL.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Xe(this,"_monthsRegex")||(this._monthsRegex=WK),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function iL(){function t(o,a){return a.length-o.length}var e=[],n=[],r=[],s,i;for(s=0;s<12;s++)i=Ks([2e3,s]),e.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(e.sort(t),n.sort(t),r.sort(t),s=0;s<12;s++)e[s]=yr(e[s]),n[s]=yr(n[s]);for(s=0;s<24;s++)r[s]=yr(r[s]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ge("Y",0,0,function(){var t=this.year();return t<=9999?Hs(t,4):"+"+t});ge(0,["YY",2],0,function(){return this.year()%100});ge(0,["YYYY",4],0,"year");ge(0,["YYYYY",5],0,"year");ge(0,["YYYYYY",6,!0],0,"year");Ln("year","y");$n("year",1);se("Y",Vy);se("YY",Tt,Dr);se("YYYY",HE,WE);se("YYYYY",Uy,Fy);se("YYYYYY",Uy,Fy);ut(["YYYYY","YYYYYY"],Mn);ut("YYYY",function(t,e){e[Mn]=t.length===2?J.parseTwoDigitYear(t):Oe(t)});ut("YY",function(t,e){e[Mn]=J.parseTwoDigitYear(t)});ut("Y",function(t,e){e[Mn]=parseInt(t,10)});function Rh(t){return $y(t)?366:365}J.parseTwoDigitYear=function(t){return Oe(t)+(Oe(t)>68?1900:2e3)};var oL=_c("FullYear",!0);function ZK(){return $y(this.year())}function e8(t,e,n,r,s,i,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,s,i,o),a}function Id(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function vg(t,e,n){var r=7+e-n,s=(7+Id(t,0,r).getUTCDay()-e)%7;return-s+r-1}function aL(t,e,n,r,s){var i=(7+n-r)%7,o=vg(t,r,s),a=1+7*(e-1)+i+o,l,c;return a<=0?(l=t-1,c=Rh(l)+a):a>Rh(t)?(l=t+1,c=a-Rh(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Cd(t,e,n){var r=vg(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=t.year()-1,i=s+bi(o,e,n)):s>bi(t.year(),e,n)?(i=s-bi(t.year(),e,n),o=t.year()+1):(o=t.year(),i=s),{week:i,year:o}}function bi(t,e,n){var r=vg(t,e,n),s=vg(t+1,e,n);return(Rh(t)-r+s)/7}ge("w",["ww",2],"wo","week");ge("W",["WW",2],"Wo","isoWeek");Ln("week","w");Ln("isoWeek","W");$n("week",5);$n("isoWeek",5);se("w",Tt);se("ww",Tt,Dr);se("W",Tt);se("WW",Tt,Dr);wf(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Oe(t)});function t8(t){return Cd(t,this._week.dow,this._week.doy).week}var n8={dow:0,doy:6};function r8(){return this._week.dow}function s8(){return this._week.doy}function i8(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function o8(t){var e=Cd(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ge("d",0,"do","day");ge("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ge("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ge("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ge("e",0,0,"weekday");ge("E",0,0,"isoWeekday");Ln("day","d");Ln("weekday","e");Ln("isoWeekday","E");$n("day",11);$n("weekday",11);$n("isoWeekday",11);se("d",Tt);se("e",Tt);se("E",Tt);se("dd",function(t,e){return e.weekdaysMinRegex(t)});se("ddd",function(t,e){return e.weekdaysShortRegex(t)});se("dddd",function(t,e){return e.weekdaysRegex(t)});wf(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:Ie(n).invalidWeekday=t});wf(["d","e","E"],function(t,e,n,r){e[r]=Oe(t)});function a8(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function l8(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function qE(t,e){return t.slice(e,7).concat(t.slice(0,e))}var u8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),c8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),h8=vf,d8=vf,f8=vf;function p8(t,e){var n=ws(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?qE(n,this._week.dow):t?n[t.day()]:n}function m8(t){return t===!0?qE(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function g8(t){return t===!0?qE(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function y8(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Ks([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=Vt.call(this._weekdaysParse,o),s!==-1?s:null):e==="ddd"?(s=Vt.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Vt.call(this._minWeekdaysParse,o),s!==-1?s:null):e==="dddd"?(s=Vt.call(this._weekdaysParse,o),s!==-1||(s=Vt.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Vt.call(this._minWeekdaysParse,o),s!==-1?s:null)):e==="ddd"?(s=Vt.call(this._shortWeekdaysParse,o),s!==-1||(s=Vt.call(this._weekdaysParse,o),s!==-1)?s:(s=Vt.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Vt.call(this._minWeekdaysParse,o),s!==-1||(s=Vt.call(this._weekdaysParse,o),s!==-1)?s:(s=Vt.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function v8(t,e,n){var r,s,i;if(this._weekdaysParseExact)return y8.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Ks([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function w8(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=a8(t,this.localeData()),this.add(t-e,"d")):e}function _8(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function S8(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=l8(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function E8(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||GE.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Xe(this,"_weekdaysRegex")||(this._weekdaysRegex=h8),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function T8(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||GE.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=d8),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function x8(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||GE.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=f8),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function GE(){function t(d,p){return p.length-d.length}var e=[],n=[],r=[],s=[],i,o,a,l,c;for(i=0;i<7;i++)o=Ks([2e3,1]).day(i),a=yr(this.weekdaysMin(o,"")),l=yr(this.weekdaysShort(o,"")),c=yr(this.weekdays(o,"")),e.push(a),n.push(l),r.push(c),s.push(a),s.push(l),s.push(c);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function KE(){return this.hours()%12||12}function b8(){return this.hours()||24}ge("H",["HH",2],0,"hour");ge("h",["hh",2],0,KE);ge("k",["kk",2],0,b8);ge("hmm",0,0,function(){return""+KE.apply(this)+Hs(this.minutes(),2)});ge("hmmss",0,0,function(){return""+KE.apply(this)+Hs(this.minutes(),2)+Hs(this.seconds(),2)});ge("Hmm",0,0,function(){return""+this.hours()+Hs(this.minutes(),2)});ge("Hmmss",0,0,function(){return""+this.hours()+Hs(this.minutes(),2)+Hs(this.seconds(),2)});function uL(t,e){ge(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}uL("a",!0);uL("A",!1);Ln("hour","h");$n("hour",13);function cL(t,e){return e._meridiemParse}se("a",cL);se("A",cL);se("H",Tt);se("h",Tt);se("k",Tt);se("HH",Tt,Dr);se("hh",Tt,Dr);se("kk",Tt,Dr);se("hmm",ZP);se("hmmss",eL);se("Hmm",ZP);se("Hmmss",eL);ut(["H","HH"],en);ut(["k","kk"],function(t,e,n){var r=Oe(t);e[en]=r===24?0:r});ut(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ut(["h","hh"],function(t,e,n){e[en]=Oe(t),Ie(n).bigHour=!0});ut("hmm",function(t,e,n){var r=t.length-2;e[en]=Oe(t.substr(0,r)),e[fs]=Oe(t.substr(r)),Ie(n).bigHour=!0});ut("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[en]=Oe(t.substr(0,r)),e[fs]=Oe(t.substr(r,2)),e[_i]=Oe(t.substr(s)),Ie(n).bigHour=!0});ut("Hmm",function(t,e,n){var r=t.length-2;e[en]=Oe(t.substr(0,r)),e[fs]=Oe(t.substr(r))});ut("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[en]=Oe(t.substr(0,r)),e[fs]=Oe(t.substr(r,2)),e[_i]=Oe(t.substr(s))});function k8(t){return(t+"").toLowerCase().charAt(0)==="p"}var I8=/[ap]\.?m?\.?/i,C8=_c("Hours",!0);function D8(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var hL={calendar:vK,longDateFormat:EK,invalidDate:xK,ordinal:kK,dayOfMonthOrdinalParse:IK,relativeTime:DK,months:zK,monthsShort:tL,week:n8,weekdays:u8,weekdaysMin:c8,weekdaysShort:lL,meridiemParse:I8},bt={},nh={},Dd;function N8(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function SI(t){return t&&t.toLowerCase().replace("_","-")}function O8(t){for(var e=0,n,r,s,i;e<t.length;){for(i=SI(t[e]).split("-"),n=i.length,r=SI(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=Yy(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&N8(i,r)>=n-1)break;n--}e++}return Dd}function A8(t){return t.match("^[^/\\\\]*$")!=null}function Yy(t){var e=null,n;if(bt[t]===void 0&&typeof hm<"u"&&hm&&hm.exports&&A8(t))try{e=Dd._abbr,n=require,n("./locale/"+t),Oo(e)}catch{bt[t]=null}return bt[t]}function Oo(t,e){var n;return t&&(Jn(e)?n=zi(t):n=QE(t,e),n?Dd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Dd._abbr}function QE(t,e){if(e!==null){var n,r=hL;if(e.abbr=t,bt[t]!=null)qP("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=bt[t]._config;else if(e.parentLocale!=null)if(bt[e.parentLocale]!=null)r=bt[e.parentLocale]._config;else if(n=Yy(e.parentLocale),n!=null)r=n._config;else return nh[e.parentLocale]||(nh[e.parentLocale]=[]),nh[e.parentLocale].push({name:t,config:e}),null;return bt[t]=new BE(L_(r,e)),nh[t]&&nh[t].forEach(function(s){QE(s.name,s.config)}),Oo(t),bt[t]}else return delete bt[t],null}function R8(t,e){if(e!=null){var n,r,s=hL;bt[t]!=null&&bt[t].parentLocale!=null?bt[t].set(L_(bt[t]._config,e)):(r=Yy(t),r!=null&&(s=r._config),e=L_(s,e),r==null&&(e.abbr=t),n=new BE(e),n.parentLocale=bt[t],bt[t]=n),Oo(t)}else bt[t]!=null&&(bt[t].parentLocale!=null?(bt[t]=bt[t].parentLocale,t===Oo()&&Oo(t)):bt[t]!=null&&delete bt[t]);return bt[t]}function zi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Dd;if(!ws(t)){if(e=Yy(t),e)return e;t=[t]}return O8(t)}function M8(){return $_(bt)}function XE(t){var e,n=t._a;return n&&Ie(t).overflow===-2&&(e=n[wi]<0||n[wi]>11?wi:n[Ds]<1||n[Ds]>zy(n[Mn],n[wi])?Ds:n[en]<0||n[en]>24||n[en]===24&&(n[fs]!==0||n[_i]!==0||n[ja]!==0)?en:n[fs]<0||n[fs]>59?fs:n[_i]<0||n[_i]>59?_i:n[ja]<0||n[ja]>999?ja:-1,Ie(t)._overflowDayOfYear&&(e<Mn||e>Ds)&&(e=Ds),Ie(t)._overflowWeeks&&e===-1&&(e=UK),Ie(t)._overflowWeekday&&e===-1&&(e=VK),Ie(t).overflow=e),t}var P8=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,L8=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$8=/Z|[+-]\d\d(?::?\d\d)?/,Op=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Rw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],F8=/^\/?Date\((-?\d+)/i,j8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,U8={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function dL(t){var e,n,r=t._i,s=P8.exec(r)||L8.exec(r),i,o,a,l,c=Op.length,d=Rw.length;if(s){for(Ie(t).iso=!0,e=0,n=c;e<n;e++)if(Op[e][1].exec(s[1])){o=Op[e][0],i=Op[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(s[3]){for(e=0,n=d;e<n;e++)if(Rw[e][1].exec(s[3])){a=(s[2]||" ")+Rw[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(s[4])if($8.exec(s[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),ZE(t)}else t._isValid=!1}function V8(t,e,n,r,s,i){var o=[B8(t),tL.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function B8(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function z8(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Y8(t,e,n){if(t){var r=lL.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return Ie(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function W8(t,e,n){if(t)return U8[t];if(e)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function fL(t){var e=j8.exec(z8(t._i)),n;if(e){if(n=V8(e[4],e[3],e[2],e[5],e[6],e[7]),!Y8(e[1],n,t))return;t._a=n,t._tzm=W8(e[8],e[9],e[10]),t._d=Id.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ie(t).rfc2822=!0}else t._isValid=!1}function H8(t){var e=F8.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(dL(t),t._isValid===!1)delete t._isValid;else return;if(fL(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:J.createFromInputFallback(t)}J.createFromInputFallback=Qr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Jl(t,e,n){return t??e??n}function q8(t){var e=new Date(J.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function JE(t){var e,n,r=[],s,i,o;if(!t._d){for(s=q8(t),t._w&&t._a[Ds]==null&&t._a[wi]==null&&G8(t),t._dayOfYear!=null&&(o=Jl(t._a[Mn],s[Mn]),(t._dayOfYear>Rh(o)||t._dayOfYear===0)&&(Ie(t)._overflowDayOfYear=!0),n=Id(o,0,t._dayOfYear),t._a[wi]=n.getUTCMonth(),t._a[Ds]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[en]===24&&t._a[fs]===0&&t._a[_i]===0&&t._a[ja]===0&&(t._nextDay=!0,t._a[en]=0),t._d=(t._useUTC?Id:e8).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[en]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(Ie(t).weekdayMismatch=!0)}}function G8(t){var e,n,r,s,i,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,n=Jl(e.GG,t._a[Mn],Cd(Et(),1,4).year),r=Jl(e.W,1),s=Jl(e.E,1),(s<1||s>7)&&(l=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,c=Cd(Et(),i,o),n=Jl(e.gg,t._a[Mn],c.year),r=Jl(e.w,c.week),e.d!=null?(s=e.d,(s<0||s>6)&&(l=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(l=!0)):s=i),r<1||r>bi(n,i,o)?Ie(t)._overflowWeeks=!0:l!=null?Ie(t)._overflowWeekday=!0:(a=aL(n,r,s,i,o),t._a[Mn]=a.year,t._dayOfYear=a.dayOfYear)}J.ISO_8601=function(){};J.RFC_2822=function(){};function ZE(t){if(t._f===J.ISO_8601){dL(t);return}if(t._f===J.RFC_2822){fL(t);return}t._a=[],Ie(t).empty=!0;var e=""+t._i,n,r,s,i,o,a=e.length,l=0,c,d;for(s=GP(t._f,t._locale).match(zE)||[],d=s.length,n=0;n<d;n++)i=s[n],r=(e.match($K(i,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Ie(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Iu[i]?(r?Ie(t).empty=!1:Ie(t).unusedTokens.push(i),jK(i,r,t)):t._strict&&!r&&Ie(t).unusedTokens.push(i);Ie(t).charsLeftOver=a-l,e.length>0&&Ie(t).unusedInput.push(e),t._a[en]<=12&&Ie(t).bigHour===!0&&t._a[en]>0&&(Ie(t).bigHour=void 0),Ie(t).parsedDateParts=t._a.slice(0),Ie(t).meridiem=t._meridiem,t._a[en]=K8(t._locale,t._a[en],t._meridiem),c=Ie(t).era,c!==null&&(t._a[Mn]=t._locale.erasConvertYear(c,t._a[Mn])),JE(t),XE(t)}function K8(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function Q8(t){var e,n,r,s,i,o,a=!1,l=t._f.length;if(l===0){Ie(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<l;s++)i=0,o=!1,e=VE({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],ZE(e),UE(e)&&(o=!0),i+=Ie(e).charsLeftOver,i+=Ie(e).unusedTokens.length*10,Ie(e).score=i,a?i<r&&(r=i,n=e):(r==null||i<r||o)&&(r=i,n=e,o&&(a=!0));wo(t,n||e)}function X8(t){if(!t._d){var e=YE(t._i),n=e.day===void 0?e.date:e.day;t._a=WP([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),JE(t)}}function J8(t){var e=new yf(XE(pL(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function pL(t){var e=t._i,n=t._f;return t._locale=t._locale||zi(t._l),e===null||n===void 0&&e===""?Ly({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),_s(e)?new yf(XE(e)):(gf(e)?t._d=e:ws(n)?Q8(t):n?ZE(t):Z8(t),UE(t)||(t._d=null),t))}function Z8(t){var e=t._i;Jn(e)?t._d=new Date(J.now()):gf(e)?t._d=new Date(e.valueOf()):typeof e=="string"?H8(t):ws(e)?(t._a=WP(e.slice(0),function(n){return parseInt(n,10)}),JE(t)):Wa(e)?X8(t):Li(e)?t._d=new Date(e):J.createFromInputFallback(t)}function mL(t,e,n,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Wa(t)&&jE(t)||ws(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=t,i._f=e,i._strict=r,J8(i)}function Et(t,e,n,r){return mL(t,e,n,r,!1)}var e7=Qr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Ly()}),t7=Qr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Ly()});function gL(t,e){var n,r;if(e.length===1&&ws(e[0])&&(e=e[0]),!e.length)return Et();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function n7(){var t=[].slice.call(arguments,0);return gL("isBefore",t)}function r7(){var t=[].slice.call(arguments,0);return gL("isAfter",t)}var s7=function(){return Date.now?Date.now():+new Date},rh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function i7(t){var e,n=!1,r,s=rh.length;for(e in t)if(Xe(t,e)&&!(Vt.call(rh,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[rh[r]]){if(n)return!1;parseFloat(t[rh[r]])!==Oe(t[rh[r]])&&(n=!0)}return!0}function o7(){return this._isValid}function a7(){return Ss(NaN)}function Wy(t){var e=YE(t),n=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._isValid=i7(e),this._milliseconds=+d+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=zi(),this._bubble()}function sm(t){return t instanceof Wy}function j_(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function l7(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),i=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&Oe(t[o])!==Oe(e[o]))&&i++;return i+s}function yL(t,e){ge(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Hs(~~(n/60),2)+e+Hs(~~n%60,2)})}yL("Z",":");yL("ZZ","");se("Z",By);se("ZZ",By);ut(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=eT(By,t)});var u7=/([\+\-]|\d\d)/gi;function eT(t,e){var n=(e||"").match(t),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(u7)||["-",0,0],i=+(s[1]*60)+Oe(s[2]),i===0?0:s[0]==="+"?i:-i)}function tT(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(_s(t)||gf(t)?t.valueOf():Et(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),J.updateOffset(n,!1),n):Et(t).local()}function U_(t){return-Math.round(t._d.getTimezoneOffset())}J.updateOffset=function(){};function c7(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=eT(By,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=U_(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?_L(this,Ss(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,J.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:U_(this)}function h7(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function d7(t){return this.utcOffset(0,t)}function f7(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(U_(this),"m")),this}function p7(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=eT(PK,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function m7(t){return this.isValid()?(t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function g7(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function y7(){if(!Jn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return VE(t,this),t=pL(t),t._a?(e=t._isUTC?Ks(t._a):Et(t._a),this._isDSTShifted=this.isValid()&&l7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function v7(){return this.isValid()?!this._isUTC:!1}function w7(){return this.isValid()?this._isUTC:!1}function vL(){return this.isValid()?this._isUTC&&this._offset===0:!1}var _7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,S7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ss(t,e){var n=t,r=null,s,i,o;return sm(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Li(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=_7.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:Oe(r[Ds])*s,h:Oe(r[en])*s,m:Oe(r[fs])*s,s:Oe(r[_i])*s,ms:Oe(j_(r[ja]*1e3))*s}):(r=S7.exec(t))?(s=r[1]==="-"?-1:1,n={y:va(r[2],s),M:va(r[3],s),w:va(r[4],s),d:va(r[5],s),h:va(r[6],s),m:va(r[7],s),s:va(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=E7(Et(n.from),Et(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new Wy(n),sm(t)&&Xe(t,"_locale")&&(i._locale=t._locale),sm(t)&&Xe(t,"_isValid")&&(i._isValid=t._isValid),i}Ss.fn=Wy.prototype;Ss.invalid=a7;function va(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function EI(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function E7(t,e){var n;return t.isValid()&&e.isValid()?(e=tT(e,t),t.isBefore(e)?n=EI(t,e):(n=EI(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function wL(t,e){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(qP(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=Ss(n,r),_L(this,s,t),this}}function _L(t,e,n,r){var s=e._milliseconds,i=j_(e._days),o=j_(e._months);t.isValid()&&(r=r??!0,o&&rL(t,gg(t,"Month")+o*n),i&&QP(t,"Date",gg(t,"Date")+i*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&J.updateOffset(t,i||o))}var T7=wL(1,"add"),x7=wL(-1,"subtract");function SL(t){return typeof t=="string"||t instanceof String}function b7(t){return _s(t)||gf(t)||SL(t)||Li(t)||I7(t)||k7(t)||t===null||t===void 0}function k7(t){var e=Wa(t)&&!jE(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],n=n||Xe(t,i);return e&&n}function I7(t){var e=ws(t),n=!1;return e&&(n=t.filter(function(r){return!Li(r)&&SL(t)}).length===0),e&&n}function C7(t){var e=Wa(t)&&!jE(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||Xe(t,i);return e&&n}function D7(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function N7(t,e){arguments.length===1&&(arguments[0]?b7(arguments[0])?(t=arguments[0],e=void 0):C7(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Et(),r=tT(n,this).startOf("day"),s=J.calendarFormat(this,r)||"sameElse",i=e&&(Qs(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,Et(n)))}function O7(){return new yf(this)}function A7(t,e){var n=_s(t)?t:Et(t);return this.isValid()&&n.isValid()?(e=Xr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function R7(t,e){var n=_s(t)?t:Et(t);return this.isValid()&&n.isValid()?(e=Xr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function M7(t,e,n,r){var s=_s(t)?t:Et(t),i=_s(e)?e:Et(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function P7(t,e){var n=_s(t)?t:Et(t),r;return this.isValid()&&n.isValid()?(e=Xr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function L7(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function $7(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function F7(t,e,n){var r,s,i;if(!this.isValid())return NaN;if(r=tT(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=Xr(e),e){case"year":i=im(this,r)/12;break;case"month":i=im(this,r);break;case"quarter":i=im(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:Ur(i)}function im(t,e){if(t.date()<e.date())return-im(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,i;return e-r<0?(s=t.clone().add(n-1,"months"),i=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),i=(e-r)/(s-r)),-(n+i)||0}J.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";J.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function j7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function U7(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?rm(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Qs(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",rm(n,"Z")):rm(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function V7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+s+i)}function B7(t){t||(t=this.isUtc()?J.defaultFormatUtc:J.defaultFormat);var e=rm(this,t);return this.localeData().postformat(e)}function z7(t,e){return this.isValid()&&(_s(t)&&t.isValid()||Et(t).isValid())?Ss({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Y7(t){return this.from(Et(),t)}function W7(t,e){return this.isValid()&&(_s(t)&&t.isValid()||Et(t).isValid())?Ss({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function H7(t){return this.to(Et(),t)}function EL(t){var e;return t===void 0?this._locale._abbr:(e=zi(t),e!=null&&(this._locale=e),this)}var TL=Qr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function xL(){return this._locale}var wg=1e3,Cu=60*wg,_g=60*Cu,bL=(365*400+97)*24*_g;function Du(t,e){return(t%e+e)%e}function kL(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-bL:new Date(t,e,n).valueOf()}function IL(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-bL:Date.UTC(t,e,n)}function q7(t){var e,n;if(t=Xr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?IL:kL,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Du(e+(this._isUTC?0:this.utcOffset()*Cu),_g);break;case"minute":e=this._d.valueOf(),e-=Du(e,Cu);break;case"second":e=this._d.valueOf(),e-=Du(e,wg);break}return this._d.setTime(e),J.updateOffset(this,!0),this}function G7(t){var e,n;if(t=Xr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?IL:kL,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=_g-Du(e+(this._isUTC?0:this.utcOffset()*Cu),_g)-1;break;case"minute":e=this._d.valueOf(),e+=Cu-Du(e,Cu)-1;break;case"second":e=this._d.valueOf(),e+=wg-Du(e,wg)-1;break}return this._d.setTime(e),J.updateOffset(this,!0),this}function K7(){return this._d.valueOf()-(this._offset||0)*6e4}function Q7(){return Math.floor(this.valueOf()/1e3)}function X7(){return new Date(this.valueOf())}function J7(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Z7(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function eQ(){return this.isValid()?this.toISOString():null}function tQ(){return UE(this)}function nQ(){return wo({},Ie(this))}function rQ(){return Ie(this).overflow}function sQ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ge("N",0,0,"eraAbbr");ge("NN",0,0,"eraAbbr");ge("NNN",0,0,"eraAbbr");ge("NNNN",0,0,"eraName");ge("NNNNN",0,0,"eraNarrow");ge("y",["y",1],"yo","eraYear");ge("y",["yy",2],0,"eraYear");ge("y",["yyy",3],0,"eraYear");ge("y",["yyyy",4],0,"eraYear");se("N",nT);se("NN",nT);se("NNN",nT);se("NNNN",mQ);se("NNNNN",gQ);ut(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?Ie(n).era=s:Ie(n).invalidEra=t});se("y",Sc);se("yy",Sc);se("yyy",Sc);se("yyyy",Sc);se("yo",yQ);ut(["y","yy","yyy","yyyy"],Mn);ut(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Mn]=n._locale.eraYearOrdinalParse(t,s):e[Mn]=parseInt(t,10)});function iQ(t,e){var n,r,s,i=this._eras||zi("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=J(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=J(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function oQ(t,e,n){var r,s,i=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[r];break;case"NNNN":if(o===t)return i[r];break;case"NNNNN":if(l===t)return i[r];break}else if([o,a,l].indexOf(t)>=0)return i[r]}function aQ(t,e){var n=t.since<=t.until?1:-1;return e===void 0?J(t.since).year():J(t.since).year()+(e-t.offset)*n}function lQ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function uQ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function cQ(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function hQ(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-J(s[t].since).year())*n+s[t].offset;return this.year()}function dQ(t){return Xe(this,"_erasNameRegex")||rT.call(this),t?this._erasNameRegex:this._erasRegex}function fQ(t){return Xe(this,"_erasAbbrRegex")||rT.call(this),t?this._erasAbbrRegex:this._erasRegex}function pQ(t){return Xe(this,"_erasNarrowRegex")||rT.call(this),t?this._erasNarrowRegex:this._erasRegex}function nT(t,e){return e.erasAbbrRegex(t)}function mQ(t,e){return e.erasNameRegex(t)}function gQ(t,e){return e.erasNarrowRegex(t)}function yQ(t,e){return e._eraYearOrdinalRegex||Sc}function rT(){var t=[],e=[],n=[],r=[],s,i,o=this.eras();for(s=0,i=o.length;s<i;++s)e.push(yr(o[s].name)),t.push(yr(o[s].abbr)),n.push(yr(o[s].narrow)),r.push(yr(o[s].name)),r.push(yr(o[s].abbr)),r.push(yr(o[s].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ge(0,["gg",2],0,function(){return this.weekYear()%100});ge(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Hy(t,e){ge(0,[t,t.length],0,e)}Hy("gggg","weekYear");Hy("ggggg","weekYear");Hy("GGGG","isoWeekYear");Hy("GGGGG","isoWeekYear");Ln("weekYear","gg");Ln("isoWeekYear","GG");$n("weekYear",1);$n("isoWeekYear",1);se("G",Vy);se("g",Vy);se("GG",Tt,Dr);se("gg",Tt,Dr);se("GGGG",HE,WE);se("gggg",HE,WE);se("GGGGG",Uy,Fy);se("ggggg",Uy,Fy);wf(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Oe(t)});wf(["gg","GG"],function(t,e,n,r){e[r]=J.parseTwoDigitYear(t)});function vQ(t){return CL.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function wQ(t){return CL.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function _Q(){return bi(this.year(),1,4)}function SQ(){return bi(this.isoWeekYear(),1,4)}function EQ(){var t=this.localeData()._week;return bi(this.year(),t.dow,t.doy)}function TQ(){var t=this.localeData()._week;return bi(this.weekYear(),t.dow,t.doy)}function CL(t,e,n,r,s){var i;return t==null?Cd(this,r,s).year:(i=bi(t,r,s),e>i&&(e=i),xQ.call(this,t,e,n,r,s))}function xQ(t,e,n,r,s){var i=aL(t,e,n,r,s),o=Id(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}ge("Q",0,"Qo","quarter");Ln("quarter","Q");$n("quarter",7);se("Q",XP);ut("Q",function(t,e){e[wi]=(Oe(t)-1)*3});function bQ(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ge("D",["DD",2],"Do","date");Ln("date","D");$n("date",9);se("D",Tt);se("DD",Tt,Dr);se("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ut(["D","DD"],Ds);ut("Do",function(t,e){e[Ds]=Oe(t.match(Tt)[0])});var DL=_c("Date",!0);ge("DDD",["DDDD",3],"DDDo","dayOfYear");Ln("dayOfYear","DDD");$n("dayOfYear",4);se("DDD",jy);se("DDDD",JP);ut(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Oe(t)});function kQ(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ge("m",["mm",2],0,"minute");Ln("minute","m");$n("minute",14);se("m",Tt);se("mm",Tt,Dr);ut(["m","mm"],fs);var IQ=_c("Minutes",!1);ge("s",["ss",2],0,"second");Ln("second","s");$n("second",15);se("s",Tt);se("ss",Tt,Dr);ut(["s","ss"],_i);var CQ=_c("Seconds",!1);ge("S",0,0,function(){return~~(this.millisecond()/100)});ge(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ge(0,["SSS",3],0,"millisecond");ge(0,["SSSS",4],0,function(){return this.millisecond()*10});ge(0,["SSSSS",5],0,function(){return this.millisecond()*100});ge(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ge(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ge(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ge(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ln("millisecond","ms");$n("millisecond",16);se("S",jy,XP);se("SS",jy,Dr);se("SSS",jy,JP);var _o,NL;for(_o="SSSS";_o.length<=9;_o+="S")se(_o,Sc);function DQ(t,e){e[ja]=Oe(("0."+t)*1e3)}for(_o="S";_o.length<=9;_o+="S")ut(_o,DQ);NL=_c("Milliseconds",!1);ge("z",0,0,"zoneAbbr");ge("zz",0,0,"zoneName");function NQ(){return this._isUTC?"UTC":""}function OQ(){return this._isUTC?"Coordinated Universal Time":""}var K=yf.prototype;K.add=T7;K.calendar=N7;K.clone=O7;K.diff=F7;K.endOf=G7;K.format=B7;K.from=z7;K.fromNow=Y7;K.to=W7;K.toNow=H7;K.get=RK;K.invalidAt=rQ;K.isAfter=A7;K.isBefore=R7;K.isBetween=M7;K.isSame=P7;K.isSameOrAfter=L7;K.isSameOrBefore=$7;K.isValid=tQ;K.lang=TL;K.locale=EL;K.localeData=xL;K.max=t7;K.min=e7;K.parsingFlags=nQ;K.set=MK;K.startOf=q7;K.subtract=x7;K.toArray=J7;K.toObject=Z7;K.toDate=X7;K.toISOString=U7;K.inspect=V7;typeof Symbol<"u"&&Symbol.for!=null&&(K[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});K.toJSON=eQ;K.toString=j7;K.unix=Q7;K.valueOf=K7;K.creationData=sQ;K.eraName=lQ;K.eraNarrow=uQ;K.eraAbbr=cQ;K.eraYear=hQ;K.year=oL;K.isLeapYear=ZK;K.weekYear=vQ;K.isoWeekYear=wQ;K.quarter=K.quarters=bQ;K.month=sL;K.daysInMonth=QK;K.week=K.weeks=i8;K.isoWeek=K.isoWeeks=o8;K.weeksInYear=EQ;K.weeksInWeekYear=TQ;K.isoWeeksInYear=_Q;K.isoWeeksInISOWeekYear=SQ;K.date=DL;K.day=K.days=w8;K.weekday=_8;K.isoWeekday=S8;K.dayOfYear=kQ;K.hour=K.hours=C8;K.minute=K.minutes=IQ;K.second=K.seconds=CQ;K.millisecond=K.milliseconds=NL;K.utcOffset=c7;K.utc=d7;K.local=f7;K.parseZone=p7;K.hasAlignedHourOffset=m7;K.isDST=g7;K.isLocal=v7;K.isUtcOffset=w7;K.isUtc=vL;K.isUTC=vL;K.zoneAbbr=NQ;K.zoneName=OQ;K.dates=Qr("dates accessor is deprecated. Use date instead.",DL);K.months=Qr("months accessor is deprecated. Use month instead",sL);K.years=Qr("years accessor is deprecated. Use year instead",oL);K.zone=Qr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",h7);K.isDSTShifted=Qr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",y7);function AQ(t){return Et(t*1e3)}function RQ(){return Et.apply(null,arguments).parseZone()}function OL(t){return t}var Je=BE.prototype;Je.calendar=wK;Je.longDateFormat=TK;Je.invalidDate=bK;Je.ordinal=CK;Je.preparse=OL;Je.postformat=OL;Je.relativeTime=NK;Je.pastFuture=OK;Je.set=yK;Je.eras=iQ;Je.erasParse=oQ;Je.erasConvertYear=aQ;Je.erasAbbrRegex=fQ;Je.erasNameRegex=dQ;Je.erasNarrowRegex=pQ;Je.months=HK;Je.monthsShort=qK;Je.monthsParse=KK;Je.monthsRegex=JK;Je.monthsShortRegex=XK;Je.week=t8;Je.firstDayOfYear=s8;Je.firstDayOfWeek=r8;Je.weekdays=p8;Je.weekdaysMin=g8;Je.weekdaysShort=m8;Je.weekdaysParse=v8;Je.weekdaysRegex=E8;Je.weekdaysShortRegex=T8;Je.weekdaysMinRegex=x8;Je.isPM=k8;Je.meridiem=D8;function Sg(t,e,n,r){var s=zi(),i=Ks().set(r,e);return s[n](i,t)}function AL(t,e,n){if(Li(t)&&(e=t,t=void 0),t=t||"",e!=null)return Sg(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Sg(t,r,n,"month");return s}function sT(t,e,n,r){typeof t=="boolean"?(Li(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Li(e)&&(n=e,e=void 0),e=e||"");var s=zi(),i=t?s._week.dow:0,o,a=[];if(n!=null)return Sg(e,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=Sg(e,(o+i)%7,r,"day");return a}function MQ(t,e){return AL(t,e,"months")}function PQ(t,e){return AL(t,e,"monthsShort")}function LQ(t,e,n){return sT(t,e,n,"weekdays")}function $Q(t,e,n){return sT(t,e,n,"weekdaysShort")}function FQ(t,e,n){return sT(t,e,n,"weekdaysMin")}Oo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Oe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});J.lang=Qr("moment.lang is deprecated. Use moment.locale instead.",Oo);J.langData=Qr("moment.langData is deprecated. Use moment.localeData instead.",zi);var ai=Math.abs;function jQ(){var t=this._data;return this._milliseconds=ai(this._milliseconds),this._days=ai(this._days),this._months=ai(this._months),t.milliseconds=ai(t.milliseconds),t.seconds=ai(t.seconds),t.minutes=ai(t.minutes),t.hours=ai(t.hours),t.months=ai(t.months),t.years=ai(t.years),this}function RL(t,e,n,r){var s=Ss(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function UQ(t,e){return RL(this,t,e,1)}function VQ(t,e){return RL(this,t,e,-1)}function TI(t){return t<0?Math.floor(t):Math.ceil(t)}function BQ(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,i,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=TI(V_(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=Ur(t/1e3),r.seconds=s%60,i=Ur(s/60),r.minutes=i%60,o=Ur(i/60),r.hours=o%24,e+=Ur(o/24),l=Ur(ML(e)),n+=l,e-=TI(V_(l)),a=Ur(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function ML(t){return t*4800/146097}function V_(t){return t*146097/4800}function zQ(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Xr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+ML(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(V_(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function YQ(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Oe(this._months/12)*31536e6:NaN}function Yi(t){return function(){return this.as(t)}}var WQ=Yi("ms"),HQ=Yi("s"),qQ=Yi("m"),GQ=Yi("h"),KQ=Yi("d"),QQ=Yi("w"),XQ=Yi("M"),JQ=Yi("Q"),ZQ=Yi("y");function eX(){return Ss(this)}function tX(t){return t=Xr(t),this.isValid()?this[t+"s"]():NaN}function Sl(t){return function(){return this.isValid()?this._data[t]:NaN}}var nX=Sl("milliseconds"),rX=Sl("seconds"),sX=Sl("minutes"),iX=Sl("hours"),oX=Sl("days"),aX=Sl("months"),lX=Sl("years");function uX(){return Ur(this.days()/7)}var ui=Math.round,pu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function cX(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function hX(t,e,n,r){var s=Ss(t).abs(),i=ui(s.as("s")),o=ui(s.as("m")),a=ui(s.as("h")),l=ui(s.as("d")),c=ui(s.as("M")),d=ui(s.as("w")),p=ui(s.as("y")),y=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(y=y||d<=1&&["w"]||d<n.w&&["ww",d]),y=y||c<=1&&["M"]||c<n.M&&["MM",c]||p<=1&&["y"]||["yy",p],y[2]=e,y[3]=+t>0,y[4]=r,cX.apply(null,y)}function dX(t){return t===void 0?ui:typeof t=="function"?(ui=t,!0):!1}function fX(t,e){return pu[t]===void 0?!1:e===void 0?pu[t]:(pu[t]=e,t==="s"&&(pu.ss=e-1),!0)}function pX(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=pu,s,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},pu,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=hX(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var Mw=Math.abs;function ql(t){return(t>0)-(t<0)||+t}function qy(){if(!this.isValid())return this.localeData().invalidDate();var t=Mw(this._milliseconds)/1e3,e=Mw(this._days),n=Mw(this._months),r,s,i,o,a=this.asSeconds(),l,c,d,p;return a?(r=Ur(t/60),s=Ur(r/60),t%=60,r%=60,i=Ur(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=ql(this._months)!==ql(a)?"-":"",d=ql(this._days)!==ql(a)?"-":"",p=ql(this._milliseconds)!==ql(a)?"-":"",l+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(e?d+e+"D":"")+(s||r||t?"T":"")+(s?p+s+"H":"")+(r?p+r+"M":"")+(t?p+o+"S":"")):"P0D"}var ze=Wy.prototype;ze.isValid=o7;ze.abs=jQ;ze.add=UQ;ze.subtract=VQ;ze.as=zQ;ze.asMilliseconds=WQ;ze.asSeconds=HQ;ze.asMinutes=qQ;ze.asHours=GQ;ze.asDays=KQ;ze.asWeeks=QQ;ze.asMonths=XQ;ze.asQuarters=JQ;ze.asYears=ZQ;ze.valueOf=YQ;ze._bubble=BQ;ze.clone=eX;ze.get=tX;ze.milliseconds=nX;ze.seconds=rX;ze.minutes=sX;ze.hours=iX;ze.days=oX;ze.weeks=uX;ze.months=aX;ze.years=lX;ze.humanize=pX;ze.toISOString=qy;ze.toString=qy;ze.toJSON=qy;ze.locale=EL;ze.localeData=xL;ze.toIsoString=Qr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qy);ze.lang=TL;ge("X",0,0,"unix");ge("x",0,0,"valueOf");se("x",Vy);se("X",LK);ut("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ut("x",function(t,e,n){n._d=new Date(Oe(t))});//! moment.js
J.version="2.29.4";mK(Et);J.fn=K;J.min=n7;J.max=r7;J.now=s7;J.utc=Ks;J.unix=AQ;J.months=MQ;J.isDate=gf;J.locale=Oo;J.invalid=Ly;J.duration=Ss;J.isMoment=_s;J.weekdays=LQ;J.parseZone=RQ;J.localeData=zi;J.isDuration=sm;J.monthsShort=PQ;J.weekdaysMin=FQ;J.defineLocale=QE;J.updateLocale=R8;J.locales=M8;J.weekdaysShort=$Q;J.normalizeUnits=Xr;J.relativeTimeRounding=dX;J.relativeTimeThreshold=fX;J.calendarFormat=D7;J.prototype=K;J.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function PL(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pw={exports:{}},xI;function mX(){return xI||(xI=1,function(t,e){(function(n,r){t.exports=r()})(K_,function(){var n;function r(){return n.apply(null,arguments)}function s(u){n=u}function i(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function o(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function a(u,h){return Object.prototype.hasOwnProperty.call(u,h)}function l(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var h;for(h in u)if(a(u,h))return!1;return!0}function c(u){return u===void 0}function d(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function p(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function y(u,h){var m=[],g,S=u.length;for(g=0;g<S;++g)m.push(h(u[g],g));return m}function _(u,h){for(var m in h)a(h,m)&&(u[m]=h[m]);return a(h,"toString")&&(u.toString=h.toString),a(h,"valueOf")&&(u.valueOf=h.valueOf),u}function E(u,h,m,g){return bT(u,h,m,g,!0).utc()}function x(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function I(u){return u._pf==null&&(u._pf=x()),u._pf}var b;Array.prototype.some?b=Array.prototype.some:b=function(u){var h=Object(this),m=h.length>>>0,g;for(g=0;g<m;g++)if(g in h&&u.call(this,h[g],g,h))return!0;return!1};function T(u){if(u._isValid==null){var h=I(u),m=b.call(h.parsedDateParts,function(S){return S!=null}),g=!isNaN(u._d.getTime())&&h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&m);if(u._strict&&(g=g&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=g;else return g}return u._isValid}function k(u){var h=E(NaN);return u!=null?_(I(h),u):I(h).userInvalidated=!0,h}var D=r.momentProperties=[],R=!1;function M(u,h){var m,g,S,A=D.length;if(c(h._isAMomentObject)||(u._isAMomentObject=h._isAMomentObject),c(h._i)||(u._i=h._i),c(h._f)||(u._f=h._f),c(h._l)||(u._l=h._l),c(h._strict)||(u._strict=h._strict),c(h._tzm)||(u._tzm=h._tzm),c(h._isUTC)||(u._isUTC=h._isUTC),c(h._offset)||(u._offset=h._offset),c(h._pf)||(u._pf=I(h)),c(h._locale)||(u._locale=h._locale),A>0)for(m=0;m<A;m++)g=D[m],S=h[g],c(S)||(u[g]=S);return u}function $(u){M(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),R===!1&&(R=!0,r.updateOffset(this),R=!1)}function z(u){return u instanceof $||u!=null&&u._isAMomentObject!=null}function ue(u){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function V(u,h){var m=!0;return _(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,u),m){var g=[],S,A,F,me=arguments.length;for(A=0;A<me;A++){if(S="",typeof arguments[A]=="object"){S+=`
[`+A+"] ";for(F in arguments[0])a(arguments[0],F)&&(S+=F+": "+arguments[0][F]+", ");S=S.slice(0,-2)}else S=arguments[A];g.push(S)}ue(u+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),m=!1}return h.apply(this,arguments)},h)}var ye={};function Le(u,h){r.deprecationHandler!=null&&r.deprecationHandler(u,h),ye[u]||(ue(h),ye[u]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function ve(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function Ce(u){var h,m;for(m in u)a(u,m)&&(h=u[m],ve(h)?this[m]=h:this["_"+m]=h);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ae(u,h){var m=_({},u),g;for(g in h)a(h,g)&&(o(u[g])&&o(h[g])?(m[g]={},_(m[g],u[g]),_(m[g],h[g])):h[g]!=null?m[g]=h[g]:delete m[g]);for(g in u)a(u,g)&&!a(h,g)&&o(u[g])&&(m[g]=_({},m[g]));return m}function $e(u){u!=null&&this.set(u)}var Ke;Object.keys?Ke=Object.keys:Ke=function(u){var h,m=[];for(h in u)a(u,h)&&m.push(h);return m};var H={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(u,h,m){var g=this._calendar[u]||this._calendar.sameElse;return ve(g)?g.call(h,m):g}function ie(u,h,m){var g=""+Math.abs(u),S=h-g.length,A=u>=0;return(A?m?"+":"":"-")+Math.pow(10,Math.max(0,S)).toString().substr(1)+g}var ke=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ee=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},Ye={};function Q(u,h,m,g){var S=g;typeof g=="string"&&(S=function(){return this[g]()}),u&&(Ye[u]=S),h&&(Ye[h[0]]=function(){return ie(S.apply(this,arguments),h[1],h[2])}),m&&(Ye[m]=function(){return this.localeData().ordinal(S.apply(this,arguments),u)})}function it(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function ft(u){var h=u.match(ke),m,g;for(m=0,g=h.length;m<g;m++)Ye[h[m]]?h[m]=Ye[h[m]]:h[m]=it(h[m]);return function(S){var A="",F;for(F=0;F<g;F++)A+=ve(h[F])?h[F].call(S,u):h[F];return A}}function Rt(u,h){return u.isValid()?(h=pt(h,u.localeData()),j[h]=j[h]||ft(h),j[h](u)):u.localeData().invalidDate()}function pt(u,h){var m=5;function g(S){return h.longDateFormat(S)||S}for(Ee.lastIndex=0;m>=0&&Ee.test(u);)u=u.replace(Ee,g),Ee.lastIndex=0,m-=1;return u}var Kn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ae(u){var h=this._longDateFormat[u],m=this._longDateFormat[u.toUpperCase()];return h||!m?h:(this._longDateFormat[u]=m.match(ke).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[u])}var ur="Invalid date";function bn(){return this._invalidDate}var Qn="%d",We=/\d{1,2}/;function Jr(u){return this._ordinal.replace("%d",u)}var Nr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Es(u,h,m,g){var S=this._relativeTime[m];return ve(S)?S(u,h,m,g):S.replace(/%d/i,u)}function Zr(u,h){var m=this._relativeTime[u>0?"future":"past"];return ve(m)?m(h):m.replace(/%s/i,h)}var Mt={};function Ze(u,h){var m=u.toLowerCase();Mt[m]=Mt[m+"s"]=Mt[h]=u}function Pt(u){return typeof u=="string"?Mt[u]||Mt[u.toLowerCase()]:void 0}function cr(u){var h={},m,g;for(g in u)a(u,g)&&(m=Pt(g),m&&(h[m]=u[g]));return h}var es={};function pe(u,h){es[u]=h}function hr(u){var h=[],m;for(m in u)a(u,m)&&h.push({unit:m,priority:es[m]});return h.sort(function(g,S){return g.priority-S.priority}),h}function Or(u){return u%4===0&&u%100!==0||u%400===0}function mn(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function we(u){var h=+u,m=0;return h!==0&&isFinite(h)&&(m=mn(h)),m}function Ts(u,h){return function(m){return m!=null?(ra(this,u,m),r.updateOffset(this,h),this):Js(this,u)}}function Js(u,h){return u.isValid()?u._d["get"+(u._isUTC?"UTC":"")+h]():NaN}function ra(u,h,m){u.isValid()&&!isNaN(m)&&(h==="FullYear"&&Or(u.year())&&u.month()===1&&u.date()===29?(m=we(m),u._d["set"+(u._isUTC?"UTC":"")+h](m,u.month(),oa(m,u.month()))):u._d["set"+(u._isUTC?"UTC":"")+h](m))}function xc(u){return u=Pt(u),ve(this[u])?this[u]():this}function rv(u,h){if(typeof u=="object"){u=cr(u);var m=hr(u),g,S=m.length;for(g=0;g<S;g++)this[m[g].unit](u[m[g].unit])}else if(u=Pt(u),ve(this[u]))return this[u](h);return this}var Tf=/\d/,Ht=/\d\d/,bc=/\d{3}/,kc=/\d{4}/,sa=/[+-]?\d{6}/,ot=/\d\d?/,Ic=/\d\d\d\d?/,Wi=/\d\d\d\d\d\d?/,Ar=/\d{1,3}/,Cc=/\d{1,4}/,Zs=/[+-]?\d{1,6}/,Hi=/\d+/,El=/[+-]?\d+/,sv=/Z|[+-]\d\d:?\d\d/gi,Tl=/Z|[+-]\d\d(?::?\d\d)?/gi,iv=/[+-]?\d+(\.\d{1,3})?/,ia=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,xl;xl={};function ne(u,h,m){xl[u]=ve(h)?h:function(g,S){return g&&m?m:h}}function dr(u,h){return a(xl,u)?xl[u](h._strict,h._locale):new RegExp(xf(u))}function xf(u){return kn(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,m,g,S,A){return m||g||S||A}))}function kn(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Dc={};function et(u,h){var m,g=h,S;for(typeof u=="string"&&(u=[u]),d(h)&&(g=function(A,F){F[h]=we(A)}),S=u.length,m=0;m<S;m++)Dc[u[m]]=g}function qi(u,h){et(u,function(m,g,S,A){S._w=S._w||{},h(m,S._w,S,A)})}function bf(u,h,m){h!=null&&a(Dc,u)&&Dc[u](h,m._a,m,u)}var Qt=0,ts=1,Rr=2,Lt=3,Xn=4,Mr=5,Pr=6,kf=7,Nc=8;function If(u,h){return(u%h+h)%h}var xt;Array.prototype.indexOf?xt=Array.prototype.indexOf:xt=function(u){var h;for(h=0;h<this.length;++h)if(this[h]===u)return h;return-1};function oa(u,h){if(isNaN(u)||isNaN(h))return NaN;var m=If(h,12);return u+=(h-m)/12,m===1?Or(u)?29:28:31-m%7%2}Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),Q("MMMM",0,0,function(u){return this.localeData().months(this,u)}),Ze("month","M"),pe("month",8),ne("M",ot),ne("MM",ot,Ht),ne("MMM",function(u,h){return h.monthsShortRegex(u)}),ne("MMMM",function(u,h){return h.monthsRegex(u)}),et(["M","MM"],function(u,h){h[ts]=we(u)-1}),et(["MMM","MMMM"],function(u,h,m,g){var S=m._locale.monthsParse(u,g,m._strict);S!=null?h[ts]=S:I(m).invalidMonth=u});var Cf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Oc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),bl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ov=ia,av=ia;function ei(u,h){return u?i(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||bl).test(h)?"format":"standalone"][u.month()]:i(this._months)?this._months:this._months.standalone}function Df(u,h){return u?i(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[bl.test(h)?"format":"standalone"][u.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Nf(u,h,m){var g,S,A,F=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)A=E([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(A,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(A,"").toLocaleLowerCase();return m?h==="MMM"?(S=xt.call(this._shortMonthsParse,F),S!==-1?S:null):(S=xt.call(this._longMonthsParse,F),S!==-1?S:null):h==="MMM"?(S=xt.call(this._shortMonthsParse,F),S!==-1?S:(S=xt.call(this._longMonthsParse,F),S!==-1?S:null)):(S=xt.call(this._longMonthsParse,F),S!==-1?S:(S=xt.call(this._shortMonthsParse,F),S!==-1?S:null))}function Of(u,h,m){var g,S,A;if(this._monthsParseExact)return Nf.call(this,u,h,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(S=E([2e3,g]),m&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(S,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(S,"").replace(".","")+"$","i")),!m&&!this._monthsParse[g]&&(A="^"+this.months(S,"")+"|^"+this.monthsShort(S,""),this._monthsParse[g]=new RegExp(A.replace(".",""),"i")),m&&h==="MMMM"&&this._longMonthsParse[g].test(u))return g;if(m&&h==="MMM"&&this._shortMonthsParse[g].test(u))return g;if(!m&&this._monthsParse[g].test(u))return g}}function Ac(u,h){var m;if(!u.isValid())return u;if(typeof h=="string"){if(/^\d+$/.test(h))h=we(h);else if(h=u.localeData().monthsParse(h),!d(h))return u}return m=Math.min(u.date(),oa(u.year(),h)),u._d["set"+(u._isUTC?"UTC":"")+"Month"](h,m),u}function Rc(u){return u!=null?(Ac(this,u),r.updateOffset(this,!0),this):Js(this,"Month")}function Af(){return oa(this.year(),this.month())}function lv(u){return this._monthsParseExact?(a(this,"_monthsRegex")||Lr.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ov),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function uv(u){return this._monthsParseExact?(a(this,"_monthsRegex")||Lr.call(this),u?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=av),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function Lr(){function u(F,me){return me.length-F.length}var h=[],m=[],g=[],S,A;for(S=0;S<12;S++)A=E([2e3,S]),h.push(this.monthsShort(A,"")),m.push(this.months(A,"")),g.push(this.months(A,"")),g.push(this.monthsShort(A,""));for(h.sort(u),m.sort(u),g.sort(u),S=0;S<12;S++)h[S]=kn(h[S]),m[S]=kn(m[S]);for(S=0;S<24;S++)g[S]=kn(g[S]);this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}Q("Y",0,0,function(){var u=this.year();return u<=9999?ie(u,4):"+"+u}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),Ze("year","y"),pe("year",1),ne("Y",El),ne("YY",ot,Ht),ne("YYYY",Cc,kc),ne("YYYYY",Zs,sa),ne("YYYYYY",Zs,sa),et(["YYYYY","YYYYYY"],Qt),et("YYYY",function(u,h){h[Qt]=u.length===2?r.parseTwoDigitYear(u):we(u)}),et("YY",function(u,h){h[Qt]=r.parseTwoDigitYear(u)}),et("Y",function(u,h){h[Qt]=parseInt(u,10)});function Gi(u){return Or(u)?366:365}r.parseTwoDigitYear=function(u){return we(u)+(we(u)>68?1900:2e3)};var Rf=Ts("FullYear",!0);function cv(){return Or(this.year())}function hv(u,h,m,g,S,A,F){var me;return u<100&&u>=0?(me=new Date(u+400,h,m,g,S,A,F),isFinite(me.getFullYear())&&me.setFullYear(u)):me=new Date(u,h,m,g,S,A,F),me}function aa(u){var h,m;return u<100&&u>=0?(m=Array.prototype.slice.call(arguments),m[0]=u+400,h=new Date(Date.UTC.apply(null,m)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(u)):h=new Date(Date.UTC.apply(null,arguments)),h}function kl(u,h,m){var g=7+h-m,S=(7+aa(u,0,g).getUTCDay()-h)%7;return-S+g-1}function Mf(u,h,m,g,S){var A=(7+m-g)%7,F=kl(u,g,S),me=1+7*(h-1)+A+F,De,lt;return me<=0?(De=u-1,lt=Gi(De)+me):me>Gi(u)?(De=u+1,lt=me-Gi(u)):(De=u,lt=me),{year:De,dayOfYear:lt}}function la(u,h,m){var g=kl(u.year(),h,m),S=Math.floor((u.dayOfYear()-g-1)/7)+1,A,F;return S<1?(F=u.year()-1,A=S+ns(F,h,m)):S>ns(u.year(),h,m)?(A=S-ns(u.year(),h,m),F=u.year()+1):(F=u.year(),A=S),{week:A,year:F}}function ns(u,h,m){var g=kl(u,h,m),S=kl(u+1,h,m);return(Gi(u)-g+S)/7}Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),Ze("week","w"),Ze("isoWeek","W"),pe("week",5),pe("isoWeek",5),ne("w",ot),ne("ww",ot,Ht),ne("W",ot),ne("WW",ot,Ht),qi(["w","ww","W","WW"],function(u,h,m,g){h[g.substr(0,1)]=we(u)});function Mc(u){return la(u,this._week.dow,this._week.doy).week}var Il={dow:0,doy:6};function Pf(){return this._week.dow}function Lf(){return this._week.doy}function Cl(u){var h=this.localeData().week(this);return u==null?h:this.add((u-h)*7,"d")}function $f(u){var h=la(this,1,4).week;return u==null?h:this.add((u-h)*7,"d")}Q("d",0,"do","day"),Q("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),Q("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),Q("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),Ze("day","d"),Ze("weekday","e"),Ze("isoWeekday","E"),pe("day",11),pe("weekday",11),pe("isoWeekday",11),ne("d",ot),ne("e",ot),ne("E",ot),ne("dd",function(u,h){return h.weekdaysMinRegex(u)}),ne("ddd",function(u,h){return h.weekdaysShortRegex(u)}),ne("dddd",function(u,h){return h.weekdaysRegex(u)}),qi(["dd","ddd","dddd"],function(u,h,m,g){var S=m._locale.weekdaysParse(u,g,m._strict);S!=null?h.d=S:I(m).invalidWeekday=u}),qi(["d","e","E"],function(u,h,m,g){h[g]=we(u)});function dv(u,h){return typeof u!="string"?u:isNaN(u)?(u=h.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function fv(u,h){return typeof u=="string"?h.weekdaysParse(u)%7||7:isNaN(u)?null:u}function Pc(u,h){return u.slice(h,7).concat(u.slice(0,h))}var ti="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ff="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),pv="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Dl=ia,jf=ia,ua=ia;function Uf(u,h){var m=i(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return u===!0?Pc(m,this._week.dow):u?m[u.day()]:m}function mv(u){return u===!0?Pc(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function gv(u){return u===!0?Pc(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function ca(u,h,m){var g,S,A,F=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)A=E([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(A,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(A,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(A,"").toLocaleLowerCase();return m?h==="dddd"?(S=xt.call(this._weekdaysParse,F),S!==-1?S:null):h==="ddd"?(S=xt.call(this._shortWeekdaysParse,F),S!==-1?S:null):(S=xt.call(this._minWeekdaysParse,F),S!==-1?S:null):h==="dddd"?(S=xt.call(this._weekdaysParse,F),S!==-1||(S=xt.call(this._shortWeekdaysParse,F),S!==-1)?S:(S=xt.call(this._minWeekdaysParse,F),S!==-1?S:null)):h==="ddd"?(S=xt.call(this._shortWeekdaysParse,F),S!==-1||(S=xt.call(this._weekdaysParse,F),S!==-1)?S:(S=xt.call(this._minWeekdaysParse,F),S!==-1?S:null)):(S=xt.call(this._minWeekdaysParse,F),S!==-1||(S=xt.call(this._weekdaysParse,F),S!==-1)?S:(S=xt.call(this._shortWeekdaysParse,F),S!==-1?S:null))}function yv(u,h,m){var g,S,A;if(this._weekdaysParseExact)return ca.call(this,u,h,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(S=E([2e3,1]).day(g),m&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(S,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(S,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(S,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(A="^"+this.weekdays(S,"")+"|^"+this.weekdaysShort(S,"")+"|^"+this.weekdaysMin(S,""),this._weekdaysParse[g]=new RegExp(A.replace(".",""),"i")),m&&h==="dddd"&&this._fullWeekdaysParse[g].test(u))return g;if(m&&h==="ddd"&&this._shortWeekdaysParse[g].test(u))return g;if(m&&h==="dd"&&this._minWeekdaysParse[g].test(u))return g;if(!m&&this._weekdaysParse[g].test(u))return g}}function Vf(u){if(!this.isValid())return u!=null?this:NaN;var h=this._isUTC?this._d.getUTCDay():this._d.getDay();return u!=null?(u=dv(u,this.localeData()),this.add(u-h,"d")):h}function vv(u){if(!this.isValid())return u!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return u==null?h:this.add(u-h,"d")}function Bf(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var h=fv(u,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function Nl(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ol.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Dl),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function zf(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ol.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jf),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Lc(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ol.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ua),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ol(){function u(Fn,oi){return oi.length-Fn.length}var h=[],m=[],g=[],S=[],A,F,me,De,lt;for(A=0;A<7;A++)F=E([2e3,1]).day(A),me=kn(this.weekdaysMin(F,"")),De=kn(this.weekdaysShort(F,"")),lt=kn(this.weekdays(F,"")),h.push(me),m.push(De),g.push(lt),S.push(me),S.push(De),S.push(lt);h.sort(u),m.sort(u),g.sort(u),S.sort(u),this._weekdaysRegex=new RegExp("^("+S.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function ha(){return this.hours()%12||12}function ni(){return this.hours()||24}Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,ha),Q("k",["kk",2],0,ni),Q("hmm",0,0,function(){return""+ha.apply(this)+ie(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+ha.apply(this)+ie(this.minutes(),2)+ie(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+ie(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+ie(this.minutes(),2)+ie(this.seconds(),2)});function $c(u,h){Q(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}$c("a",!0),$c("A",!1),Ze("hour","h"),pe("hour",13);function da(u,h){return h._meridiemParse}ne("a",da),ne("A",da),ne("H",ot),ne("h",ot),ne("k",ot),ne("HH",ot,Ht),ne("hh",ot,Ht),ne("kk",ot,Ht),ne("hmm",Ic),ne("hmmss",Wi),ne("Hmm",Ic),ne("Hmmss",Wi),et(["H","HH"],Lt),et(["k","kk"],function(u,h,m){var g=we(u);h[Lt]=g===24?0:g}),et(["a","A"],function(u,h,m){m._isPm=m._locale.isPM(u),m._meridiem=u}),et(["h","hh"],function(u,h,m){h[Lt]=we(u),I(m).bigHour=!0}),et("hmm",function(u,h,m){var g=u.length-2;h[Lt]=we(u.substr(0,g)),h[Xn]=we(u.substr(g)),I(m).bigHour=!0}),et("hmmss",function(u,h,m){var g=u.length-4,S=u.length-2;h[Lt]=we(u.substr(0,g)),h[Xn]=we(u.substr(g,2)),h[Mr]=we(u.substr(S)),I(m).bigHour=!0}),et("Hmm",function(u,h,m){var g=u.length-2;h[Lt]=we(u.substr(0,g)),h[Xn]=we(u.substr(g))}),et("Hmmss",function(u,h,m){var g=u.length-4,S=u.length-2;h[Lt]=we(u.substr(0,g)),h[Xn]=we(u.substr(g,2)),h[Mr]=we(u.substr(S))});function Al(u){return(u+"").toLowerCase().charAt(0)==="p"}var wv=/[ap]\.?m?\.?/i,_v=Ts("Hours",!0);function fa(u,h,m){return u>11?m?"pm":"PM":m?"am":"AM"}var O={calendar:H,longDateFormat:Kn,invalidDate:ur,ordinal:Qn,dayOfMonthOrdinalParse:We,relativeTime:Nr,months:Cf,monthsShort:Oc,week:Il,weekdays:ti,weekdaysMin:pv,weekdaysShort:Ff,meridiemParse:wv},f={},w={},N;function B(u,h){var m,g=Math.min(u.length,h.length);for(m=0;m<g;m+=1)if(u[m]!==h[m])return m;return g}function X(u){return u&&u.toLowerCase().replace("_","-")}function le(u){for(var h=0,m,g,S,A;h<u.length;){for(A=X(u[h]).split("-"),m=A.length,g=X(u[h+1]),g=g?g.split("-"):null;m>0;){if(S=at(A.slice(0,m).join("-")),S)return S;if(g&&g.length>=m&&B(A,g)>=m-1)break;m--}h++}return N}function Re(u){return u.match("^[^/\\\\]*$")!=null}function at(u){var h=null,m;if(f[u]===void 0&&t&&t.exports&&Re(u))try{h=N._abbr,m=PL,m("./locale/"+u),Dt(h)}catch{f[u]=null}return f[u]}function Dt(u,h){var m;return u&&(c(h)?m=Xt(u):m=gn(u,h),m?N=m:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),N._abbr}function gn(u,h){if(h!==null){var m,g=O;if(h.abbr=u,f[u]!=null)Le("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=f[u]._config;else if(h.parentLocale!=null)if(f[h.parentLocale]!=null)g=f[h.parentLocale]._config;else if(m=at(h.parentLocale),m!=null)g=m._config;else return w[h.parentLocale]||(w[h.parentLocale]=[]),w[h.parentLocale].push({name:u,config:h}),null;return f[u]=new $e(Ae(g,h)),w[u]&&w[u].forEach(function(S){gn(S.name,S.config)}),Dt(u),f[u]}else return delete f[u],null}function fr(u,h){if(h!=null){var m,g,S=O;f[u]!=null&&f[u].parentLocale!=null?f[u].set(Ae(f[u]._config,h)):(g=at(u),g!=null&&(S=g._config),h=Ae(S,h),g==null&&(h.abbr=u),m=new $e(h),m.parentLocale=f[u],f[u]=m),Dt(u)}else f[u]!=null&&(f[u].parentLocale!=null?(f[u]=f[u].parentLocale,u===Dt()&&Dt(u)):f[u]!=null&&delete f[u]);return f[u]}function Xt(u){var h;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return N;if(!i(u)){if(h=at(u),h)return h;u=[u]}return le(u)}function rs(){return Ke(f)}function ss(u){var h,m=u._a;return m&&I(u).overflow===-2&&(h=m[ts]<0||m[ts]>11?ts:m[Rr]<1||m[Rr]>oa(m[Qt],m[ts])?Rr:m[Lt]<0||m[Lt]>24||m[Lt]===24&&(m[Xn]!==0||m[Mr]!==0||m[Pr]!==0)?Lt:m[Xn]<0||m[Xn]>59?Xn:m[Mr]<0||m[Mr]>59?Mr:m[Pr]<0||m[Pr]>999?Pr:-1,I(u)._overflowDayOfYear&&(h<Qt||h>Rr)&&(h=Rr),I(u)._overflowWeeks&&h===-1&&(h=kf),I(u)._overflowWeekday&&h===-1&&(h=Nc),I(u).overflow=h),u}var pr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pa=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rl=/Z|[+-]\d\d(?::?\d\d)?/,Ml=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],is=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sv=/^\/?Date\((-?\d+)/i,O2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,A2={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ET(u){var h,m,g=u._i,S=pr.exec(g)||pa.exec(g),A,F,me,De,lt=Ml.length,Fn=is.length;if(S){for(I(u).iso=!0,h=0,m=lt;h<m;h++)if(Ml[h][1].exec(S[1])){F=Ml[h][0],A=Ml[h][2]!==!1;break}if(F==null){u._isValid=!1;return}if(S[3]){for(h=0,m=Fn;h<m;h++)if(is[h][1].exec(S[3])){me=(S[2]||" ")+is[h][0];break}if(me==null){u._isValid=!1;return}}if(!A&&me!=null){u._isValid=!1;return}if(S[4])if(Rl.exec(S[4]))De="Z";else{u._isValid=!1;return}u._f=F+(me||"")+(De||""),Tv(u)}else u._isValid=!1}function R2(u,h,m,g,S,A){var F=[M2(u),Oc.indexOf(h),parseInt(m,10),parseInt(g,10),parseInt(S,10)];return A&&F.push(parseInt(A,10)),F}function M2(u){var h=parseInt(u,10);return h<=49?2e3+h:h<=999?1900+h:h}function P2(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function L2(u,h,m){if(u){var g=Ff.indexOf(u),S=new Date(h[0],h[1],h[2]).getDay();if(g!==S)return I(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function $2(u,h,m){if(u)return A2[u];if(h)return 0;var g=parseInt(m,10),S=g%100,A=(g-S)/100;return A*60+S}function TT(u){var h=O2.exec(P2(u._i)),m;if(h){if(m=R2(h[4],h[3],h[2],h[5],h[6],h[7]),!L2(h[1],m,u))return;u._a=m,u._tzm=$2(h[8],h[9],h[10]),u._d=aa.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),I(u).rfc2822=!0}else u._isValid=!1}function F2(u){var h=Sv.exec(u._i);if(h!==null){u._d=new Date(+h[1]);return}if(ET(u),u._isValid===!1)delete u._isValid;else return;if(TT(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:r.createFromInputFallback(u)}r.createFromInputFallback=V("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function Pl(u,h,m){return u??h??m}function j2(u){var h=new Date(r.now());return u._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function Ev(u){var h,m,g=[],S,A,F;if(!u._d){for(S=j2(u),u._w&&u._a[Rr]==null&&u._a[ts]==null&&U2(u),u._dayOfYear!=null&&(F=Pl(u._a[Qt],S[Qt]),(u._dayOfYear>Gi(F)||u._dayOfYear===0)&&(I(u)._overflowDayOfYear=!0),m=aa(F,0,u._dayOfYear),u._a[ts]=m.getUTCMonth(),u._a[Rr]=m.getUTCDate()),h=0;h<3&&u._a[h]==null;++h)u._a[h]=g[h]=S[h];for(;h<7;h++)u._a[h]=g[h]=u._a[h]==null?h===2?1:0:u._a[h];u._a[Lt]===24&&u._a[Xn]===0&&u._a[Mr]===0&&u._a[Pr]===0&&(u._nextDay=!0,u._a[Lt]=0),u._d=(u._useUTC?aa:hv).apply(null,g),A=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[Lt]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==A&&(I(u).weekdayMismatch=!0)}}function U2(u){var h,m,g,S,A,F,me,De,lt;h=u._w,h.GG!=null||h.W!=null||h.E!=null?(A=1,F=4,m=Pl(h.GG,u._a[Qt],la(mt(),1,4).year),g=Pl(h.W,1),S=Pl(h.E,1),(S<1||S>7)&&(De=!0)):(A=u._locale._week.dow,F=u._locale._week.doy,lt=la(mt(),A,F),m=Pl(h.gg,u._a[Qt],lt.year),g=Pl(h.w,lt.week),h.d!=null?(S=h.d,(S<0||S>6)&&(De=!0)):h.e!=null?(S=h.e+A,(h.e<0||h.e>6)&&(De=!0)):S=A),g<1||g>ns(m,A,F)?I(u)._overflowWeeks=!0:De!=null?I(u)._overflowWeekday=!0:(me=Mf(m,g,S,A,F),u._a[Qt]=me.year,u._dayOfYear=me.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function Tv(u){if(u._f===r.ISO_8601){ET(u);return}if(u._f===r.RFC_2822){TT(u);return}u._a=[],I(u).empty=!0;var h=""+u._i,m,g,S,A,F,me=h.length,De=0,lt,Fn;for(S=pt(u._f,u._locale).match(ke)||[],Fn=S.length,m=0;m<Fn;m++)A=S[m],g=(h.match(dr(A,u))||[])[0],g&&(F=h.substr(0,h.indexOf(g)),F.length>0&&I(u).unusedInput.push(F),h=h.slice(h.indexOf(g)+g.length),De+=g.length),Ye[A]?(g?I(u).empty=!1:I(u).unusedTokens.push(A),bf(A,g,u)):u._strict&&!g&&I(u).unusedTokens.push(A);I(u).charsLeftOver=me-De,h.length>0&&I(u).unusedInput.push(h),u._a[Lt]<=12&&I(u).bigHour===!0&&u._a[Lt]>0&&(I(u).bigHour=void 0),I(u).parsedDateParts=u._a.slice(0),I(u).meridiem=u._meridiem,u._a[Lt]=V2(u._locale,u._a[Lt],u._meridiem),lt=I(u).era,lt!==null&&(u._a[Qt]=u._locale.erasConvertYear(lt,u._a[Qt])),Ev(u),ss(u)}function V2(u,h,m){var g;return m==null?h:u.meridiemHour!=null?u.meridiemHour(h,m):(u.isPM!=null&&(g=u.isPM(m),g&&h<12&&(h+=12),!g&&h===12&&(h=0)),h)}function B2(u){var h,m,g,S,A,F,me=!1,De=u._f.length;if(De===0){I(u).invalidFormat=!0,u._d=new Date(NaN);return}for(S=0;S<De;S++)A=0,F=!1,h=M({},u),u._useUTC!=null&&(h._useUTC=u._useUTC),h._f=u._f[S],Tv(h),T(h)&&(F=!0),A+=I(h).charsLeftOver,A+=I(h).unusedTokens.length*10,I(h).score=A,me?A<g&&(g=A,m=h):(g==null||A<g||F)&&(g=A,m=h,F&&(me=!0));_(u,m||h)}function z2(u){if(!u._d){var h=cr(u._i),m=h.day===void 0?h.date:h.day;u._a=y([h.year,h.month,m,h.hour,h.minute,h.second,h.millisecond],function(g){return g&&parseInt(g,10)}),Ev(u)}}function Y2(u){var h=new $(ss(xT(u)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function xT(u){var h=u._i,m=u._f;return u._locale=u._locale||Xt(u._l),h===null||m===void 0&&h===""?k({nullInput:!0}):(typeof h=="string"&&(u._i=h=u._locale.preparse(h)),z(h)?new $(ss(h)):(p(h)?u._d=h:i(m)?B2(u):m?Tv(u):W2(u),T(u)||(u._d=null),u))}function W2(u){var h=u._i;c(h)?u._d=new Date(r.now()):p(h)?u._d=new Date(h.valueOf()):typeof h=="string"?F2(u):i(h)?(u._a=y(h.slice(0),function(m){return parseInt(m,10)}),Ev(u)):o(h)?z2(u):d(h)?u._d=new Date(h):r.createFromInputFallback(u)}function bT(u,h,m,g,S){var A={};return(h===!0||h===!1)&&(g=h,h=void 0),(m===!0||m===!1)&&(g=m,m=void 0),(o(u)&&l(u)||i(u)&&u.length===0)&&(u=void 0),A._isAMomentObject=!0,A._useUTC=A._isUTC=S,A._l=m,A._i=u,A._f=h,A._strict=g,Y2(A)}function mt(u,h,m,g){return bT(u,h,m,g,!1)}var H2=V("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=mt.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:k()}),q2=V("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=mt.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:k()});function kT(u,h){var m,g;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return mt();for(m=h[0],g=1;g<h.length;++g)(!h[g].isValid()||h[g][u](m))&&(m=h[g]);return m}function G2(){var u=[].slice.call(arguments,0);return kT("isBefore",u)}function K2(){var u=[].slice.call(arguments,0);return kT("isAfter",u)}var Q2=function(){return Date.now?Date.now():+new Date},Fc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function X2(u){var h,m=!1,g,S=Fc.length;for(h in u)if(a(u,h)&&!(xt.call(Fc,h)!==-1&&(u[h]==null||!isNaN(u[h]))))return!1;for(g=0;g<S;++g)if(u[Fc[g]]){if(m)return!1;parseFloat(u[Fc[g]])!==we(u[Fc[g]])&&(m=!0)}return!0}function J2(){return this._isValid}function Z2(){return os(NaN)}function Yf(u){var h=cr(u),m=h.year||0,g=h.quarter||0,S=h.month||0,A=h.week||h.isoWeek||0,F=h.day||0,me=h.hour||0,De=h.minute||0,lt=h.second||0,Fn=h.millisecond||0;this._isValid=X2(h),this._milliseconds=+Fn+lt*1e3+De*6e4+me*1e3*60*60,this._days=+F+A*7,this._months=+S+g*3+m*12,this._data={},this._locale=Xt(),this._bubble()}function Wf(u){return u instanceof Yf}function xv(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function e$(u,h,m){var g=Math.min(u.length,h.length),S=Math.abs(u.length-h.length),A=0,F;for(F=0;F<g;F++)(m&&u[F]!==h[F]||!m&&we(u[F])!==we(h[F]))&&A++;return A+S}function IT(u,h){Q(u,0,0,function(){var m=this.utcOffset(),g="+";return m<0&&(m=-m,g="-"),g+ie(~~(m/60),2)+h+ie(~~m%60,2)})}IT("Z",":"),IT("ZZ",""),ne("Z",Tl),ne("ZZ",Tl),et(["Z","ZZ"],function(u,h,m){m._useUTC=!0,m._tzm=bv(Tl,u)});var t$=/([\+\-]|\d\d)/gi;function bv(u,h){var m=(h||"").match(u),g,S,A;return m===null?null:(g=m[m.length-1]||[],S=(g+"").match(t$)||["-",0,0],A=+(S[1]*60)+we(S[2]),A===0?0:S[0]==="+"?A:-A)}function kv(u,h){var m,g;return h._isUTC?(m=h.clone(),g=(z(u)||p(u)?u.valueOf():mt(u).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+g),r.updateOffset(m,!1),m):mt(u).local()}function Iv(u){return-Math.round(u._d.getTimezoneOffset())}r.updateOffset=function(){};function n$(u,h,m){var g=this._offset||0,S;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=bv(Tl,u),u===null)return this}else Math.abs(u)<16&&!m&&(u=u*60);return!this._isUTC&&h&&(S=Iv(this)),this._offset=u,this._isUTC=!0,S!=null&&this.add(S,"m"),g!==u&&(!h||this._changeInProgress?OT(this,os(u-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:Iv(this)}function r$(u,h){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,h),this):-this.utcOffset()}function s$(u){return this.utcOffset(0,u)}function i$(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(Iv(this),"m")),this}function o$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=bv(sv,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function a$(u){return this.isValid()?(u=u?mt(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function l$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function u$(){if(!c(this._isDSTShifted))return this._isDSTShifted;var u={},h;return M(u,this),u=xT(u),u._a?(h=u._isUTC?E(u._a):mt(u._a),this._isDSTShifted=this.isValid()&&e$(u._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function c$(){return this.isValid()?!this._isUTC:!1}function h$(){return this.isValid()?this._isUTC:!1}function CT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var d$=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,f$=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function os(u,h){var m=u,g=null,S,A,F;return Wf(u)?m={ms:u._milliseconds,d:u._days,M:u._months}:d(u)||!isNaN(+u)?(m={},h?m[h]=+u:m.milliseconds=+u):(g=d$.exec(u))?(S=g[1]==="-"?-1:1,m={y:0,d:we(g[Rr])*S,h:we(g[Lt])*S,m:we(g[Xn])*S,s:we(g[Mr])*S,ms:we(xv(g[Pr]*1e3))*S}):(g=f$.exec(u))?(S=g[1]==="-"?-1:1,m={y:ma(g[2],S),M:ma(g[3],S),w:ma(g[4],S),d:ma(g[5],S),h:ma(g[6],S),m:ma(g[7],S),s:ma(g[8],S)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(F=p$(mt(m.from),mt(m.to)),m={},m.ms=F.milliseconds,m.M=F.months),A=new Yf(m),Wf(u)&&a(u,"_locale")&&(A._locale=u._locale),Wf(u)&&a(u,"_isValid")&&(A._isValid=u._isValid),A}os.fn=Yf.prototype,os.invalid=Z2;function ma(u,h){var m=u&&parseFloat(u.replace(",","."));return(isNaN(m)?0:m)*h}function DT(u,h){var m={};return m.months=h.month()-u.month()+(h.year()-u.year())*12,u.clone().add(m.months,"M").isAfter(h)&&--m.months,m.milliseconds=+h-+u.clone().add(m.months,"M"),m}function p$(u,h){var m;return u.isValid()&&h.isValid()?(h=kv(h,u),u.isBefore(h)?m=DT(u,h):(m=DT(h,u),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function NT(u,h){return function(m,g){var S,A;return g!==null&&!isNaN(+g)&&(Le(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),A=m,m=g,g=A),S=os(m,g),OT(this,S,u),this}}function OT(u,h,m,g){var S=h._milliseconds,A=xv(h._days),F=xv(h._months);u.isValid()&&(g=g??!0,F&&Ac(u,Js(u,"Month")+F*m),A&&ra(u,"Date",Js(u,"Date")+A*m),S&&u._d.setTime(u._d.valueOf()+S*m),g&&r.updateOffset(u,A||F))}var m$=NT(1,"add"),g$=NT(-1,"subtract");function AT(u){return typeof u=="string"||u instanceof String}function y$(u){return z(u)||p(u)||AT(u)||d(u)||w$(u)||v$(u)||u===null||u===void 0}function v$(u){var h=o(u)&&!l(u),m=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],S,A,F=g.length;for(S=0;S<F;S+=1)A=g[S],m=m||a(u,A);return h&&m}function w$(u){var h=i(u),m=!1;return h&&(m=u.filter(function(g){return!d(g)&&AT(u)}).length===0),h&&m}function _$(u){var h=o(u)&&!l(u),m=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],S,A;for(S=0;S<g.length;S+=1)A=g[S],m=m||a(u,A);return h&&m}function S$(u,h){var m=u.diff(h,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function E$(u,h){arguments.length===1&&(arguments[0]?y$(arguments[0])?(u=arguments[0],h=void 0):_$(arguments[0])&&(h=arguments[0],u=void 0):(u=void 0,h=void 0));var m=u||mt(),g=kv(m,this).startOf("day"),S=r.calendarFormat(this,g)||"sameElse",A=h&&(ve(h[S])?h[S].call(this,m):h[S]);return this.format(A||this.localeData().calendar(S,this,mt(m)))}function T$(){return new $(this)}function x$(u,h){var m=z(u)?u:mt(u);return this.isValid()&&m.isValid()?(h=Pt(h)||"millisecond",h==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(h).valueOf()):!1}function b$(u,h){var m=z(u)?u:mt(u);return this.isValid()&&m.isValid()?(h=Pt(h)||"millisecond",h==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(h).valueOf()<m.valueOf()):!1}function k$(u,h,m,g){var S=z(u)?u:mt(u),A=z(h)?h:mt(h);return this.isValid()&&S.isValid()&&A.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(S,m):!this.isBefore(S,m))&&(g[1]===")"?this.isBefore(A,m):!this.isAfter(A,m))):!1}function I$(u,h){var m=z(u)?u:mt(u),g;return this.isValid()&&m.isValid()?(h=Pt(h)||"millisecond",h==="millisecond"?this.valueOf()===m.valueOf():(g=m.valueOf(),this.clone().startOf(h).valueOf()<=g&&g<=this.clone().endOf(h).valueOf())):!1}function C$(u,h){return this.isSame(u,h)||this.isAfter(u,h)}function D$(u,h){return this.isSame(u,h)||this.isBefore(u,h)}function N$(u,h,m){var g,S,A;if(!this.isValid())return NaN;if(g=kv(u,this),!g.isValid())return NaN;switch(S=(g.utcOffset()-this.utcOffset())*6e4,h=Pt(h),h){case"year":A=Hf(this,g)/12;break;case"month":A=Hf(this,g);break;case"quarter":A=Hf(this,g)/3;break;case"second":A=(this-g)/1e3;break;case"minute":A=(this-g)/6e4;break;case"hour":A=(this-g)/36e5;break;case"day":A=(this-g-S)/864e5;break;case"week":A=(this-g-S)/6048e5;break;default:A=this-g}return m?A:mn(A)}function Hf(u,h){if(u.date()<h.date())return-Hf(h,u);var m=(h.year()-u.year())*12+(h.month()-u.month()),g=u.clone().add(m,"months"),S,A;return h-g<0?(S=u.clone().add(m-1,"months"),A=(h-g)/(g-S)):(S=u.clone().add(m+1,"months"),A=(h-g)/(S-g)),-(m+A)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function O$(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function A$(u){if(!this.isValid())return null;var h=u!==!0,m=h?this.clone().utc():this;return m.year()<0||m.year()>9999?Rt(m,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ve(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Rt(m,"Z")):Rt(m,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function R$(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",h="",m,g,S,A;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),m="["+u+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",S="-MM-DD[T]HH:mm:ss.SSS",A=h+'[")]',this.format(m+g+S+A)}function M$(u){u||(u=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var h=Rt(this,u);return this.localeData().postformat(h)}function P$(u,h){return this.isValid()&&(z(u)&&u.isValid()||mt(u).isValid())?os({to:this,from:u}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function L$(u){return this.from(mt(),u)}function $$(u,h){return this.isValid()&&(z(u)&&u.isValid()||mt(u).isValid())?os({from:this,to:u}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function F$(u){return this.to(mt(),u)}function RT(u){var h;return u===void 0?this._locale._abbr:(h=Xt(u),h!=null&&(this._locale=h),this)}var MT=V("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function PT(){return this._locale}var qf=1e3,Ll=60*qf,Gf=60*Ll,LT=(365*400+97)*24*Gf;function $l(u,h){return(u%h+h)%h}function $T(u,h,m){return u<100&&u>=0?new Date(u+400,h,m)-LT:new Date(u,h,m).valueOf()}function FT(u,h,m){return u<100&&u>=0?Date.UTC(u+400,h,m)-LT:Date.UTC(u,h,m)}function j$(u){var h,m;if(u=Pt(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?FT:$T,u){case"year":h=m(this.year(),0,1);break;case"quarter":h=m(this.year(),this.month()-this.month()%3,1);break;case"month":h=m(this.year(),this.month(),1);break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=m(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=$l(h+(this._isUTC?0:this.utcOffset()*Ll),Gf);break;case"minute":h=this._d.valueOf(),h-=$l(h,Ll);break;case"second":h=this._d.valueOf(),h-=$l(h,qf);break}return this._d.setTime(h),r.updateOffset(this,!0),this}function U$(u){var h,m;if(u=Pt(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?FT:$T,u){case"year":h=m(this.year()+1,0,1)-1;break;case"quarter":h=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=m(this.year(),this.month()+1,1)-1;break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=Gf-$l(h+(this._isUTC?0:this.utcOffset()*Ll),Gf)-1;break;case"minute":h=this._d.valueOf(),h+=Ll-$l(h,Ll)-1;break;case"second":h=this._d.valueOf(),h+=qf-$l(h,qf)-1;break}return this._d.setTime(h),r.updateOffset(this,!0),this}function V$(){return this._d.valueOf()-(this._offset||0)*6e4}function B$(){return Math.floor(this.valueOf()/1e3)}function z$(){return new Date(this.valueOf())}function Y$(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function W$(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function H$(){return this.isValid()?this.toISOString():null}function q$(){return T(this)}function G$(){return _({},I(this))}function K$(){return I(this).overflow}function Q$(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Q("N",0,0,"eraAbbr"),Q("NN",0,0,"eraAbbr"),Q("NNN",0,0,"eraAbbr"),Q("NNNN",0,0,"eraName"),Q("NNNNN",0,0,"eraNarrow"),Q("y",["y",1],"yo","eraYear"),Q("y",["yy",2],0,"eraYear"),Q("y",["yyy",3],0,"eraYear"),Q("y",["yyyy",4],0,"eraYear"),ne("N",Cv),ne("NN",Cv),ne("NNN",Cv),ne("NNNN",aF),ne("NNNNN",lF),et(["N","NN","NNN","NNNN","NNNNN"],function(u,h,m,g){var S=m._locale.erasParse(u,g,m._strict);S?I(m).era=S:I(m).invalidEra=u}),ne("y",Hi),ne("yy",Hi),ne("yyy",Hi),ne("yyyy",Hi),ne("yo",uF),et(["y","yy","yyy","yyyy"],Qt),et(["yo"],function(u,h,m,g){var S;m._locale._eraYearOrdinalRegex&&(S=u.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?h[Qt]=m._locale.eraYearOrdinalParse(u,S):h[Qt]=parseInt(u,10)});function X$(u,h){var m,g,S,A=this._eras||Xt("en")._eras;for(m=0,g=A.length;m<g;++m){switch(typeof A[m].since){case"string":S=r(A[m].since).startOf("day"),A[m].since=S.valueOf();break}switch(typeof A[m].until){case"undefined":A[m].until=1/0;break;case"string":S=r(A[m].until).startOf("day").valueOf(),A[m].until=S.valueOf();break}}return A}function J$(u,h,m){var g,S,A=this.eras(),F,me,De;for(u=u.toUpperCase(),g=0,S=A.length;g<S;++g)if(F=A[g].name.toUpperCase(),me=A[g].abbr.toUpperCase(),De=A[g].narrow.toUpperCase(),m)switch(h){case"N":case"NN":case"NNN":if(me===u)return A[g];break;case"NNNN":if(F===u)return A[g];break;case"NNNNN":if(De===u)return A[g];break}else if([F,me,De].indexOf(u)>=0)return A[g]}function Z$(u,h){var m=u.since<=u.until?1:-1;return h===void 0?r(u.since).year():r(u.since).year()+(h-u.offset)*m}function eF(){var u,h,m,g=this.localeData().eras();for(u=0,h=g.length;u<h;++u)if(m=this.clone().startOf("day").valueOf(),g[u].since<=m&&m<=g[u].until||g[u].until<=m&&m<=g[u].since)return g[u].name;return""}function tF(){var u,h,m,g=this.localeData().eras();for(u=0,h=g.length;u<h;++u)if(m=this.clone().startOf("day").valueOf(),g[u].since<=m&&m<=g[u].until||g[u].until<=m&&m<=g[u].since)return g[u].narrow;return""}function nF(){var u,h,m,g=this.localeData().eras();for(u=0,h=g.length;u<h;++u)if(m=this.clone().startOf("day").valueOf(),g[u].since<=m&&m<=g[u].until||g[u].until<=m&&m<=g[u].since)return g[u].abbr;return""}function rF(){var u,h,m,g,S=this.localeData().eras();for(u=0,h=S.length;u<h;++u)if(m=S[u].since<=S[u].until?1:-1,g=this.clone().startOf("day").valueOf(),S[u].since<=g&&g<=S[u].until||S[u].until<=g&&g<=S[u].since)return(this.year()-r(S[u].since).year())*m+S[u].offset;return this.year()}function sF(u){return a(this,"_erasNameRegex")||Dv.call(this),u?this._erasNameRegex:this._erasRegex}function iF(u){return a(this,"_erasAbbrRegex")||Dv.call(this),u?this._erasAbbrRegex:this._erasRegex}function oF(u){return a(this,"_erasNarrowRegex")||Dv.call(this),u?this._erasNarrowRegex:this._erasRegex}function Cv(u,h){return h.erasAbbrRegex(u)}function aF(u,h){return h.erasNameRegex(u)}function lF(u,h){return h.erasNarrowRegex(u)}function uF(u,h){return h._eraYearOrdinalRegex||Hi}function Dv(){var u=[],h=[],m=[],g=[],S,A,F=this.eras();for(S=0,A=F.length;S<A;++S)h.push(kn(F[S].name)),u.push(kn(F[S].abbr)),m.push(kn(F[S].narrow)),g.push(kn(F[S].name)),g.push(kn(F[S].abbr)),g.push(kn(F[S].narrow));this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Kf(u,h){Q(0,[u,u.length],0,h)}Kf("gggg","weekYear"),Kf("ggggg","weekYear"),Kf("GGGG","isoWeekYear"),Kf("GGGGG","isoWeekYear"),Ze("weekYear","gg"),Ze("isoWeekYear","GG"),pe("weekYear",1),pe("isoWeekYear",1),ne("G",El),ne("g",El),ne("GG",ot,Ht),ne("gg",ot,Ht),ne("GGGG",Cc,kc),ne("gggg",Cc,kc),ne("GGGGG",Zs,sa),ne("ggggg",Zs,sa),qi(["gggg","ggggg","GGGG","GGGGG"],function(u,h,m,g){h[g.substr(0,2)]=we(u)}),qi(["gg","GG"],function(u,h,m,g){h[g]=r.parseTwoDigitYear(u)});function cF(u){return jT.call(this,u,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function hF(u){return jT.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function dF(){return ns(this.year(),1,4)}function fF(){return ns(this.isoWeekYear(),1,4)}function pF(){var u=this.localeData()._week;return ns(this.year(),u.dow,u.doy)}function mF(){var u=this.localeData()._week;return ns(this.weekYear(),u.dow,u.doy)}function jT(u,h,m,g,S){var A;return u==null?la(this,g,S).year:(A=ns(u,g,S),h>A&&(h=A),gF.call(this,u,h,m,g,S))}function gF(u,h,m,g,S){var A=Mf(u,h,m,g,S),F=aa(A.year,0,A.dayOfYear);return this.year(F.getUTCFullYear()),this.month(F.getUTCMonth()),this.date(F.getUTCDate()),this}Q("Q",0,"Qo","quarter"),Ze("quarter","Q"),pe("quarter",7),ne("Q",Tf),et("Q",function(u,h){h[ts]=(we(u)-1)*3});function yF(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}Q("D",["DD",2],"Do","date"),Ze("date","D"),pe("date",9),ne("D",ot),ne("DD",ot,Ht),ne("Do",function(u,h){return u?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),et(["D","DD"],Rr),et("Do",function(u,h){h[Rr]=we(u.match(ot)[0])});var UT=Ts("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear"),Ze("dayOfYear","DDD"),pe("dayOfYear",4),ne("DDD",Ar),ne("DDDD",bc),et(["DDD","DDDD"],function(u,h,m){m._dayOfYear=we(u)});function vF(u){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?h:this.add(u-h,"d")}Q("m",["mm",2],0,"minute"),Ze("minute","m"),pe("minute",14),ne("m",ot),ne("mm",ot,Ht),et(["m","mm"],Xn);var wF=Ts("Minutes",!1);Q("s",["ss",2],0,"second"),Ze("second","s"),pe("second",15),ne("s",ot),ne("ss",ot,Ht),et(["s","ss"],Mr);var _F=Ts("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return this.millisecond()*10}),Q(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Q(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Q(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Q(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Q(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ze("millisecond","ms"),pe("millisecond",16),ne("S",Ar,Tf),ne("SS",Ar,Ht),ne("SSS",Ar,bc);var Ki,VT;for(Ki="SSSS";Ki.length<=9;Ki+="S")ne(Ki,Hi);function SF(u,h){h[Pr]=we(("0."+u)*1e3)}for(Ki="S";Ki.length<=9;Ki+="S")et(Ki,SF);VT=Ts("Milliseconds",!1),Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");function EF(){return this._isUTC?"UTC":""}function TF(){return this._isUTC?"Coordinated Universal Time":""}var G=$.prototype;G.add=m$,G.calendar=E$,G.clone=T$,G.diff=N$,G.endOf=U$,G.format=M$,G.from=P$,G.fromNow=L$,G.to=$$,G.toNow=F$,G.get=xc,G.invalidAt=K$,G.isAfter=x$,G.isBefore=b$,G.isBetween=k$,G.isSame=I$,G.isSameOrAfter=C$,G.isSameOrBefore=D$,G.isValid=q$,G.lang=MT,G.locale=RT,G.localeData=PT,G.max=q2,G.min=H2,G.parsingFlags=G$,G.set=rv,G.startOf=j$,G.subtract=g$,G.toArray=Y$,G.toObject=W$,G.toDate=z$,G.toISOString=A$,G.inspect=R$,typeof Symbol<"u"&&Symbol.for!=null&&(G[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),G.toJSON=H$,G.toString=O$,G.unix=B$,G.valueOf=V$,G.creationData=Q$,G.eraName=eF,G.eraNarrow=tF,G.eraAbbr=nF,G.eraYear=rF,G.year=Rf,G.isLeapYear=cv,G.weekYear=cF,G.isoWeekYear=hF,G.quarter=G.quarters=yF,G.month=Rc,G.daysInMonth=Af,G.week=G.weeks=Cl,G.isoWeek=G.isoWeeks=$f,G.weeksInYear=pF,G.weeksInWeekYear=mF,G.isoWeeksInYear=dF,G.isoWeeksInISOWeekYear=fF,G.date=UT,G.day=G.days=Vf,G.weekday=vv,G.isoWeekday=Bf,G.dayOfYear=vF,G.hour=G.hours=_v,G.minute=G.minutes=wF,G.second=G.seconds=_F,G.millisecond=G.milliseconds=VT,G.utcOffset=n$,G.utc=s$,G.local=i$,G.parseZone=o$,G.hasAlignedHourOffset=a$,G.isDST=l$,G.isLocal=c$,G.isUtcOffset=h$,G.isUtc=CT,G.isUTC=CT,G.zoneAbbr=EF,G.zoneName=TF,G.dates=V("dates accessor is deprecated. Use date instead.",UT),G.months=V("months accessor is deprecated. Use month instead",Rc),G.years=V("years accessor is deprecated. Use year instead",Rf),G.zone=V("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",r$),G.isDSTShifted=V("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",u$);function xF(u){return mt(u*1e3)}function bF(){return mt.apply(null,arguments).parseZone()}function BT(u){return u}var Qe=$e.prototype;Qe.calendar=ce,Qe.longDateFormat=ae,Qe.invalidDate=bn,Qe.ordinal=Jr,Qe.preparse=BT,Qe.postformat=BT,Qe.relativeTime=Es,Qe.pastFuture=Zr,Qe.set=Ce,Qe.eras=X$,Qe.erasParse=J$,Qe.erasConvertYear=Z$,Qe.erasAbbrRegex=iF,Qe.erasNameRegex=sF,Qe.erasNarrowRegex=oF,Qe.months=ei,Qe.monthsShort=Df,Qe.monthsParse=Of,Qe.monthsRegex=uv,Qe.monthsShortRegex=lv,Qe.week=Mc,Qe.firstDayOfYear=Lf,Qe.firstDayOfWeek=Pf,Qe.weekdays=Uf,Qe.weekdaysMin=gv,Qe.weekdaysShort=mv,Qe.weekdaysParse=yv,Qe.weekdaysRegex=Nl,Qe.weekdaysShortRegex=zf,Qe.weekdaysMinRegex=Lc,Qe.isPM=Al,Qe.meridiem=fa;function Qf(u,h,m,g){var S=Xt(),A=E().set(g,h);return S[m](A,u)}function zT(u,h,m){if(d(u)&&(h=u,u=void 0),u=u||"",h!=null)return Qf(u,h,m,"month");var g,S=[];for(g=0;g<12;g++)S[g]=Qf(u,g,m,"month");return S}function Nv(u,h,m,g){typeof u=="boolean"?(d(h)&&(m=h,h=void 0),h=h||""):(h=u,m=h,u=!1,d(h)&&(m=h,h=void 0),h=h||"");var S=Xt(),A=u?S._week.dow:0,F,me=[];if(m!=null)return Qf(h,(m+A)%7,g,"day");for(F=0;F<7;F++)me[F]=Qf(h,(F+A)%7,g,"day");return me}function kF(u,h){return zT(u,h,"months")}function IF(u,h){return zT(u,h,"monthsShort")}function CF(u,h,m){return Nv(u,h,m,"weekdays")}function DF(u,h,m){return Nv(u,h,m,"weekdaysShort")}function NF(u,h,m){return Nv(u,h,m,"weekdaysMin")}Dt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var h=u%10,m=we(u%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return u+m}}),r.lang=V("moment.lang is deprecated. Use moment.locale instead.",Dt),r.langData=V("moment.langData is deprecated. Use moment.localeData instead.",Xt);var ri=Math.abs;function OF(){var u=this._data;return this._milliseconds=ri(this._milliseconds),this._days=ri(this._days),this._months=ri(this._months),u.milliseconds=ri(u.milliseconds),u.seconds=ri(u.seconds),u.minutes=ri(u.minutes),u.hours=ri(u.hours),u.months=ri(u.months),u.years=ri(u.years),this}function YT(u,h,m,g){var S=os(h,m);return u._milliseconds+=g*S._milliseconds,u._days+=g*S._days,u._months+=g*S._months,u._bubble()}function AF(u,h){return YT(this,u,h,1)}function RF(u,h){return YT(this,u,h,-1)}function WT(u){return u<0?Math.floor(u):Math.ceil(u)}function MF(){var u=this._milliseconds,h=this._days,m=this._months,g=this._data,S,A,F,me,De;return u>=0&&h>=0&&m>=0||u<=0&&h<=0&&m<=0||(u+=WT(Ov(m)+h)*864e5,h=0,m=0),g.milliseconds=u%1e3,S=mn(u/1e3),g.seconds=S%60,A=mn(S/60),g.minutes=A%60,F=mn(A/60),g.hours=F%24,h+=mn(F/24),De=mn(HT(h)),m+=De,h-=WT(Ov(De)),me=mn(m/12),m%=12,g.days=h,g.months=m,g.years=me,this}function HT(u){return u*4800/146097}function Ov(u){return u*146097/4800}function PF(u){if(!this.isValid())return NaN;var h,m,g=this._milliseconds;if(u=Pt(u),u==="month"||u==="quarter"||u==="year")switch(h=this._days+g/864e5,m=this._months+HT(h),u){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(h=this._days+Math.round(Ov(this._months)),u){case"week":return h/7+g/6048e5;case"day":return h+g/864e5;case"hour":return h*24+g/36e5;case"minute":return h*1440+g/6e4;case"second":return h*86400+g/1e3;case"millisecond":return Math.floor(h*864e5)+g;default:throw new Error("Unknown unit "+u)}}function LF(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+we(this._months/12)*31536e6:NaN}function si(u){return function(){return this.as(u)}}var $F=si("ms"),FF=si("s"),jF=si("m"),UF=si("h"),VF=si("d"),BF=si("w"),zF=si("M"),YF=si("Q"),WF=si("y");function HF(){return os(this)}function qF(u){return u=Pt(u),this.isValid()?this[u+"s"]():NaN}function ga(u){return function(){return this.isValid()?this._data[u]:NaN}}var GF=ga("milliseconds"),KF=ga("seconds"),QF=ga("minutes"),XF=ga("hours"),JF=ga("days"),ZF=ga("months"),ej=ga("years");function tj(){return mn(this.days()/7)}var ii=Math.round,Fl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function nj(u,h,m,g,S){return S.relativeTime(h||1,!!m,u,g)}function rj(u,h,m,g){var S=os(u).abs(),A=ii(S.as("s")),F=ii(S.as("m")),me=ii(S.as("h")),De=ii(S.as("d")),lt=ii(S.as("M")),Fn=ii(S.as("w")),oi=ii(S.as("y")),Qi=A<=m.ss&&["s",A]||A<m.s&&["ss",A]||F<=1&&["m"]||F<m.m&&["mm",F]||me<=1&&["h"]||me<m.h&&["hh",me]||De<=1&&["d"]||De<m.d&&["dd",De];return m.w!=null&&(Qi=Qi||Fn<=1&&["w"]||Fn<m.w&&["ww",Fn]),Qi=Qi||lt<=1&&["M"]||lt<m.M&&["MM",lt]||oi<=1&&["y"]||["yy",oi],Qi[2]=h,Qi[3]=+u>0,Qi[4]=g,nj.apply(null,Qi)}function sj(u){return u===void 0?ii:typeof u=="function"?(ii=u,!0):!1}function ij(u,h){return Fl[u]===void 0?!1:h===void 0?Fl[u]:(Fl[u]=h,u==="s"&&(Fl.ss=h-1),!0)}function oj(u,h){if(!this.isValid())return this.localeData().invalidDate();var m=!1,g=Fl,S,A;return typeof u=="object"&&(h=u,u=!1),typeof u=="boolean"&&(m=u),typeof h=="object"&&(g=Object.assign({},Fl,h),h.s!=null&&h.ss==null&&(g.ss=h.s-1)),S=this.localeData(),A=rj(this,!m,g,S),m&&(A=S.pastFuture(+this,A)),S.postformat(A)}var Av=Math.abs;function jl(u){return(u>0)-(u<0)||+u}function Xf(){if(!this.isValid())return this.localeData().invalidDate();var u=Av(this._milliseconds)/1e3,h=Av(this._days),m=Av(this._months),g,S,A,F,me=this.asSeconds(),De,lt,Fn,oi;return me?(g=mn(u/60),S=mn(g/60),u%=60,g%=60,A=mn(m/12),m%=12,F=u?u.toFixed(3).replace(/\.?0+$/,""):"",De=me<0?"-":"",lt=jl(this._months)!==jl(me)?"-":"",Fn=jl(this._days)!==jl(me)?"-":"",oi=jl(this._milliseconds)!==jl(me)?"-":"",De+"P"+(A?lt+A+"Y":"")+(m?lt+m+"M":"")+(h?Fn+h+"D":"")+(S||g||u?"T":"")+(S?oi+S+"H":"")+(g?oi+g+"M":"")+(u?oi+F+"S":"")):"P0D"}var Fe=Yf.prototype;Fe.isValid=J2,Fe.abs=OF,Fe.add=AF,Fe.subtract=RF,Fe.as=PF,Fe.asMilliseconds=$F,Fe.asSeconds=FF,Fe.asMinutes=jF,Fe.asHours=UF,Fe.asDays=VF,Fe.asWeeks=BF,Fe.asMonths=zF,Fe.asQuarters=YF,Fe.asYears=WF,Fe.valueOf=LF,Fe._bubble=MF,Fe.clone=HF,Fe.get=qF,Fe.milliseconds=GF,Fe.seconds=KF,Fe.minutes=QF,Fe.hours=XF,Fe.days=JF,Fe.weeks=tj,Fe.months=ZF,Fe.years=ej,Fe.humanize=oj,Fe.toISOString=Xf,Fe.toString=Xf,Fe.toJSON=Xf,Fe.locale=RT,Fe.localeData=PT,Fe.toIsoString=V("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xf),Fe.lang=MT,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),ne("x",El),ne("X",iv),et("X",function(u,h,m){m._d=new Date(parseFloat(u)*1e3)}),et("x",function(u,h,m){m._d=new Date(we(u))});//! moment.js
return r.version="2.29.4",s(mt),r.fn=G,r.min=G2,r.max=K2,r.now=Q2,r.utc=E,r.unix=xF,r.months=kF,r.isDate=p,r.locale=Dt,r.invalid=k,r.duration=os,r.isMoment=z,r.weekdays=CF,r.parseZone=bF,r.localeData=Xt,r.isDuration=Wf,r.monthsShort=IF,r.weekdaysMin=NF,r.defineLocale=gn,r.updateLocale=fr,r.locales=rs,r.weekdaysShort=DF,r.normalizeUnits=Pt,r.relativeTimeRounding=sj,r.relativeTimeThreshold=ij,r.calendarFormat=S$,r.prototype=G,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(Pw)),Pw.exports}(function(t,e){(function(n,r){r(typeof PL=="function"?mX():n.moment)})(K_,function(n){//! moment.js locale configuration
var r="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a=n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(l,c){return l?/-MMM-/.test(c)?s[l.month()]:r[l.month()]:r},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return a})})();const gX=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(""),[d,p]=C.useState(""),[y,_]=C.useState(""),[E,x]=C.useState(!1),I=J().format("YYYY-MM-DD"),b=J().isBefore(J().startOf("day").add(9,"hours"))?J().startOf("day").add(9,"hours").format("HH:mm"):J().format("HH:mm"),T=J().endOf("day").isBefore(J().startOf("day").add(21,"hours"))?J().endOf("day").format("HH:mm"):J().startOf("day").add(21,"hours").format("HH:mm"),k=async D=>{D.preventDefault();try{await Na.collection("reservaciones").add({nombre:t,apellido:n,telefono:s,correo:o,mesa:l,fechaReserva:d,horaReserva:y}),e(""),r(""),i(""),a(""),c(""),p(""),_(""),x(!0)}catch(R){console.error("Error al guardar la reservacin:",R)}};return C.useEffect(()=>{if(E){const D=setTimeout(()=>{x(!1)},3e3);return()=>{clearTimeout(D)}}},[E]),v.jsx(v.Fragment,{children:v.jsx(Fd,{children:v.jsxs(wr,{children:[v.jsx(tt,{md:12,lg:6,children:v.jsx(VP,{})}),v.jsxs(tt,{md:12,lg:6,children:[v.jsxs(he,{onSubmit:k,children:[v.jsx("div",{className:"titulo-div mb-2 container",children:v.jsx(Ne.Title,{className:"text-center mt-2 mb-5 titulo animate__animated animate__backInRight",children:"Reserva Aqu!"})}),v.jsxs(wr,{className:"mb-3",children:[v.jsxs(he.Group,{as:tt,controlId:"formGridNombre",children:[v.jsx(he.Label,{children:"Nombre"}),v.jsx(he.Control,{type:"text",value:t,onChange:D=>e(D.target.value),required:!0,placeholder:"Tu nombre"})]}),v.jsxs(he.Group,{as:tt,controlId:"formGridApellido",children:[v.jsx(he.Label,{children:"Apellido"}),v.jsx(he.Control,{type:"text",value:n,onChange:D=>r(D.target.value),required:!0,placeholder:"Tu Apellido"})]})]}),v.jsxs(wr,{children:[v.jsxs(he.Group,{as:tt,controlId:"formGridEmail",children:[v.jsx(he.Label,{children:"Email"}),v.jsx(he.Control,{type:"email",value:o,onChange:D=>a(D.target.value),required:!0,placeholder:"email@email.com"})]}),v.jsxs(he.Group,{as:tt,controlId:"formGridTelefono",children:[v.jsx(he.Label,{children:"Telfono"}),v.jsx(he.Control,{type:"number",value:s,onChange:D=>i(D.target.value),required:!0,placeholder:"Telefono"})]})]}),v.jsxs(wr,{className:"mb-3",children:[v.jsxs(he.Group,{as:tt,controlId:"formGridMesa",children:[v.jsx(he.Label,{children:"Mesa"}),v.jsxs(he.Select,{value:l,onChange:D=>c(D.target.value),required:!0,children:[v.jsx("option",{children:"Mesa 1"}),v.jsx("option",{children:"Mesa 2"}),v.jsx("option",{children:"Mesa 3"}),v.jsx("option",{children:"Mesa 4"}),v.jsx("option",{children:"Mesa 5"})]})]}),v.jsxs(he.Group,{as:tt,controlId:"formGridFecha",children:[v.jsx(he.Label,{children:"Fecha Reserva"}),v.jsx(he.Control,{type:"date",value:d,onChange:D=>p(D.target.value),min:I,required:!0})]}),v.jsxs(he.Group,{as:tt,controlId:"formGridHora",children:[v.jsx(he.Label,{children:"Hora"}),v.jsx(he.Control,{type:"time",value:y,onChange:D=>_(D.target.value),min:b,max:T,required:!0})]})]}),v.jsx(he.Group,{className:"mb-3",id:"formGridCheckbox",children:v.jsx(he.Check,{type:"checkbox",label:"Estoy seguro de los datos ingresados",required:!0})}),v.jsx(mr,{variant:"primary",type:"submit",children:"Reservar"})]}),E&&v.jsx(FE,{variant:"success",onClose:()=>x(!1),dismissible:!0,children:"El registro se ha creado con xito"})]})]})})})},yX=()=>v.jsxs(v.Fragment,{children:[v.jsx(Cz,{}),v.jsx(Oz,{}),v.jsx(gX,{})]}),LL=C.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:s,variant:i,action:o,as:a,...l},c)=>{t=Be(t,"list-group-item");const[d,p]=G1({key:Yg(r,l.href),active:e,...l}),y=On(E=>{if(n){E.preventDefault(),E.stopPropagation();return}d.onClick(E)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const _=a||(o?l.href?"a":"button":"div");return v.jsx(_,{ref:c,...l,...d,onClick:y,className:be(s,t,p.isActive&&"active",n&&"disabled",i&&`${t}-${i}`,o&&`${t}-action`)})});LL.displayName="ListGroupItem";const vX=LL,$L=C.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:s,horizontal:i,numbered:o,as:a="div",...l}=zg(t,{activeKey:"onSelect"}),c=Be(r,"list-group");let d;return i&&(d=i===!0?"horizontal":`horizontal-${i}`),v.jsx(bN,{ref:e,...l,as:a,className:be(n,c,s&&`${c}-${s}`,d&&`${c}-${d}`,o&&`${c}-numbered`)})});$L.displayName="ListGroup";const $r=Object.assign($L,{Item:vX}),bI=hn("card-group"),wX="/assets/TomCruisecarta-040a2d79.jpeg",_X="/assets/tomguncarta-00b76433.jpeg",SX="/assets/TomImposibleCarta-ab58dd2a.jpeg",EX="/assets/polloachorado-93dea7d3.jpeg",TX="/assets/NAPOLITANA-c1451396.png",xX="/assets/pescadotemp-7704767b.png",bX=()=>{const[t,e]=C.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"caja-titulo",children:v.jsx("div",{className:"titulo animate__animated animate__bounce",children:"Nuestras Hambuguesas"})}),v.jsxs(bI,{children:[v.jsx(Ea,{in:t,timeout:500,children:n=>v.jsxs(Ne,{className:`text-center ${n}`,children:[v.jsx(Ne.Img,{variant:"top",src:wX}),v.jsxs(Ne.Body,{children:[v.jsx(Ne.Title,{children:"Tom Cruise"}),v.jsx(Ne.Text,{children:"Pan martin's, pescado tempura, mayo, lechuga, trtara, salsa criolla y aj amarillo + PAPAS FRITAS"})]}),v.jsx(Ne.Footer,{children:v.jsx($r,{className:"list-group-flush",children:v.jsx($r.Item,{children:"$10.990"})})})]})}),v.jsx(Ea,{in:t,timeout:500,children:n=>v.jsxs(Ne,{className:`text-center ${n}`,children:[v.jsx(Ne.Img,{variant:"top",src:_X}),v.jsxs(Ne.Body,{children:[v.jsx(Ne.Title,{children:"Tom Gun"}),v.jsx(Ne.Text,{children:"Servido en pan Martin's, tiernos trozos de Brisket guisado con cebolla caramelizada, lechuga, palta, pebre y mayonesa + PAPAS FRITAS"})]}),v.jsx(Ne.Footer,{children:v.jsx($r,{className:"list-group-flush",children:v.jsx($r.Item,{children:"$9.990"})})})]})}),v.jsx(Ea,{in:t,timeout:500,children:n=>v.jsxs(Ne,{className:`text-center ${n}`,children:[v.jsx(Ne.Img,{variant:"top",src:SX}),v.jsxs(Ne.Body,{children:[v.jsx(Ne.Title,{children:"Tom Imposible"}),v.jsx(Ne.Text,{children:"MEJOR IMPOSIBLE! Servido en pan Martin's, Hamburguesa 150 gr con Tiernos trozos de Brisket guisado, cebolla caramelizada, palta, porotos verdes y queso llanero + PAPAS FRITAS"})]}),v.jsx(Ne.Footer,{children:v.jsx($r,{className:"list-group-flush",children:v.jsx($r.Item,{children:"$13.990"})})})]})})]}),v.jsxs(bI,{children:[v.jsx(Ea,{in:t,timeout:500,children:n=>v.jsxs(Ne,{className:`text-center ${n}`,children:[v.jsx(Ne.Img,{variant:"top",src:EX}),v.jsxs(Ne.Body,{children:[v.jsx(Ne.Title,{children:"Pollo Achorado"}),v.jsx(Ne.Text,{children:"Pan Martin's, lechuga, tomate, pechuga de pollo broster, ensaladita, aj amarillo y mayonesa + PAPAS FRITAS"})]}),v.jsx(Ne.Footer,{children:v.jsx($r,{className:"list-group-flush",children:v.jsx($r.Item,{children:"$7.990"})})})]})}),v.jsx(Ea,{in:t,timeout:500,children:n=>v.jsxs(Ne,{className:`text-center ${n}`,children:[v.jsx(Ne.Img,{variant:"top",src:TX}),v.jsxs(Ne.Body,{children:[v.jsx(Ne.Title,{children:"Milanesa Napolitana"}),v.jsx(Ne.Text,{children:"Pan francs, milanesa de vacuno, aceite de oliva, organo, salsa de tomate y queso chanco + PAPAS FRITAS"})]}),v.jsx(Ne.Footer,{children:v.jsx($r,{className:"list-group-flush",children:v.jsx($r.Item,{children:"$9.990"})})})]})}),v.jsx(Ea,{in:t,timeout:500,children:n=>v.jsxs(Ne,{className:`text-center ${n}`,children:[v.jsx(Ne.Img,{variant:"top",src:xX}),v.jsxs(Ne.Body,{children:[v.jsx(Ne.Title,{children:"Pescado Tempuron"}),v.jsx(Ne.Text,{children:"Pan martin's, pescado tempura, mayo, lechuga, trtara, salsa criolla y aj amarillo + PAPAS FRITAS"})]}),v.jsx(Ne.Footer,{children:v.jsx($r,{className:"list-group-flush",children:v.jsx($r.Item,{children:"$9.990"})})})]})})]})]})},kX=()=>v.jsx(v.Fragment,{children:v.jsx(bX,{})});function FL(t,e){return function(){return t.apply(e,arguments)}}const{toString:IX}=Object.prototype,{getPrototypeOf:iT}=Object,Gy=(t=>e=>{const n=IX.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xs=t=>(t=t.toLowerCase(),e=>Gy(e)===t),Ky=t=>e=>typeof e===t,{isArray:Ec}=Array,Nd=Ky("undefined");function CX(t){return t!==null&&!Nd(t)&&t.constructor!==null&&!Nd(t.constructor)&&Hr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jL=Xs("ArrayBuffer");function DX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jL(t.buffer),e}const NX=Ky("string"),Hr=Ky("function"),UL=Ky("number"),Qy=t=>t!==null&&typeof t=="object",OX=t=>t===!0||t===!1,om=t=>{if(Gy(t)!=="object")return!1;const e=iT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AX=Xs("Date"),RX=Xs("File"),MX=Xs("Blob"),PX=Xs("FileList"),LX=t=>Qy(t)&&Hr(t.pipe),$X=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hr(t.append)&&((e=Gy(t))==="formdata"||e==="object"&&Hr(t.toString)&&t.toString()==="[object FormData]"))},FX=Xs("URLSearchParams"),jX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _f(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ec(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function VL(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const BL=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),zL=t=>!Nd(t)&&t!==BL;function B_(){const{caseless:t}=zL(this)&&this||{},e={},n=(r,s)=>{const i=t&&VL(e,s)||s;om(e[i])&&om(r)?e[i]=B_(e[i],r):om(r)?e[i]=B_({},r):Ec(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&_f(arguments[r],n);return e}const UX=(t,e,n,{allOwnKeys:r}={})=>(_f(e,(s,i)=>{n&&Hr(s)?t[i]=FL(s,n):t[i]=s},{allOwnKeys:r}),t),VX=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),BX=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},zX=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&iT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},YX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},WX=t=>{if(!t)return null;if(Ec(t))return t;let e=t.length;if(!UL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},HX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&iT(Uint8Array)),qX=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},GX=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},KX=Xs("HTMLFormElement"),QX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),kI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),XX=Xs("RegExp"),YL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_f(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},JX=t=>{YL(t,(e,n)=>{if(Hr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Hr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZX=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ec(t)?r(t):r(String(t).split(e)),n},eJ=()=>{},tJ=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Lw="abcdefghijklmnopqrstuvwxyz",II="0123456789",WL={DIGIT:II,ALPHA:Lw,ALPHA_DIGIT:Lw+Lw.toUpperCase()+II},nJ=(t=16,e=WL.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function rJ(t){return!!(t&&Hr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const sJ=t=>{const e=new Array(10),n=(r,s)=>{if(Qy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ec(r)?[]:{};return _f(r,(o,a)=>{const l=n(o,s+1);!Nd(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},iJ=Xs("AsyncFunction"),oJ=t=>t&&(Qy(t)||Hr(t))&&Hr(t.then)&&Hr(t.catch),U={isArray:Ec,isArrayBuffer:jL,isBuffer:CX,isFormData:$X,isArrayBufferView:DX,isString:NX,isNumber:UL,isBoolean:OX,isObject:Qy,isPlainObject:om,isUndefined:Nd,isDate:AX,isFile:RX,isBlob:MX,isRegExp:XX,isFunction:Hr,isStream:LX,isURLSearchParams:FX,isTypedArray:HX,isFileList:PX,forEach:_f,merge:B_,extend:UX,trim:jX,stripBOM:VX,inherits:BX,toFlatObject:zX,kindOf:Gy,kindOfTest:Xs,endsWith:YX,toArray:WX,forEachEntry:qX,matchAll:GX,isHTMLForm:KX,hasOwnProperty:kI,hasOwnProp:kI,reduceDescriptors:YL,freezeMethods:JX,toObjectSet:ZX,toCamelCase:QX,noop:eJ,toFiniteNumber:tJ,findKey:VL,global:BL,isContextDefined:zL,ALPHABET:WL,generateString:nJ,isSpecCompliantForm:rJ,toJSONObject:sJ,isAsyncFn:iJ,isThenable:oJ};function He(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}U.inherits(He,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const HL=He.prototype,qL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qL[t]={value:t}});Object.defineProperties(He,qL);Object.defineProperty(HL,"isAxiosError",{value:!0});He.from=(t,e,n,r,s,i)=>{const o=Object.create(HL);return U.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),He.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const aJ=null;function z_(t){return U.isPlainObject(t)||U.isArray(t)}function GL(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function CI(t,e,n){return t?t.concat(e).map(function(s,i){return s=GL(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function lJ(t){return U.isArray(t)&&!t.some(z_)}const uJ=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Xy(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,I){return!U.isUndefined(I[x])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(s))throw new TypeError("visitor must be a function");function c(E){if(E===null)return"";if(U.isDate(E))return E.toISOString();if(!l&&U.isBlob(E))throw new He("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(E)||U.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function d(E,x,I){let b=E;if(E&&!I&&typeof E=="object"){if(U.endsWith(x,"{}"))x=r?x:x.slice(0,-2),E=JSON.stringify(E);else if(U.isArray(E)&&lJ(E)||(U.isFileList(E)||U.endsWith(x,"[]"))&&(b=U.toArray(E)))return x=GL(x),b.forEach(function(k,D){!(U.isUndefined(k)||k===null)&&e.append(o===!0?CI([x],D,i):o===null?x:x+"[]",c(k))}),!1}return z_(E)?!0:(e.append(CI(I,x,i),c(E)),!1)}const p=[],y=Object.assign(uJ,{defaultVisitor:d,convertValue:c,isVisitable:z_});function _(E,x){if(!U.isUndefined(E)){if(p.indexOf(E)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(E),U.forEach(E,function(b,T){(!(U.isUndefined(b)||b===null)&&s.call(e,b,U.isString(T)?T.trim():T,x,y))===!0&&_(b,x?x.concat(T):[T])}),p.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return _(t),e}function DI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function oT(t,e){this._pairs=[],t&&Xy(t,this,e)}const KL=oT.prototype;KL.append=function(e,n){this._pairs.push([e,n])};KL.toString=function(e){const n=e?function(r){return e.call(this,r,DI)}:DI;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function cJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QL(t,e,n){if(!e)return t;const r=n&&n.encode||cJ,s=n&&n.serialize;let i;if(s?i=s(e,n):i=U.isURLSearchParams(e)?e.toString():new oT(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class hJ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const NI=hJ,XL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dJ=typeof URLSearchParams<"u"?URLSearchParams:oT,fJ=typeof FormData<"u"?FormData:null,pJ=typeof Blob<"u"?Blob:null,mJ=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),gJ=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ms={isBrowser:!0,classes:{URLSearchParams:dJ,FormData:fJ,Blob:pJ},isStandardBrowserEnv:mJ,isStandardBrowserWebWorkerEnv:gJ,protocols:["http","https","file","blob","url","data"]};function yJ(t,e){return Xy(t,new Ms.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Ms.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function vJ(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wJ(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function JL(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&U.isArray(s)?s.length:o,l?(U.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!U.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&U.isArray(s[o])&&(s[o]=wJ(s[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,s)=>{e(vJ(r),s,n,0)}),n}return null}const _J={"Content-Type":void 0};function SJ(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jy={transitional:XL,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return s&&s?JSON.stringify(JL(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yJ(e,this.formSerializer).toString();if((a=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Xy(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),SJ(e)):e}],transformResponse:[function(e){const n=this.transitional||Jy.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&U.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?He.from(a,He.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ms.classes.FormData,Blob:Ms.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};U.forEach(["delete","get","head"],function(e){Jy.headers[e]={}});U.forEach(["post","put","patch"],function(e){Jy.headers[e]=U.merge(_J)});const aT=Jy,EJ=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TJ=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&EJ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},OI=Symbol("internals");function sh(t){return t&&String(t).trim().toLowerCase()}function am(t){return t===!1||t==null?t:U.isArray(t)?t.map(am):String(t)}function xJ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const bJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $w(t,e,n,r,s){if(U.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function kJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function IJ(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Zy{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const d=sh(l);if(!d)throw new Error("header name must be a non-empty string");const p=U.findKey(s,d);(!p||s[p]===void 0||c===!0||c===void 0&&s[p]!==!1)&&(s[p||l]=am(a))}const o=(a,l)=>U.forEach(a,(c,d)=>i(c,d,l));return U.isPlainObject(e)||e instanceof this.constructor?o(e,n):U.isString(e)&&(e=e.trim())&&!bJ(e)?o(TJ(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=sh(e),e){const r=U.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return xJ(s);if(U.isFunction(n))return n.call(this,s,r);if(U.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sh(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$w(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=sh(o),o){const a=U.findKey(r,o);a&&(!n||$w(r,r[a],a,n))&&(delete r[a],s=!0)}}return U.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||$w(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return U.forEach(this,(s,i)=>{const o=U.findKey(r,i);if(o){n[o]=am(s),delete n[i];return}const a=e?kJ(i):String(i).trim();a!==i&&delete n[i],n[a]=am(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[OI]=this[OI]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=sh(o);r[a]||(IJ(s,o),r[a]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}}Zy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.freezeMethods(Zy.prototype);U.freezeMethods(Zy);const ki=Zy;function Fw(t,e){const n=this||aT,r=e||n,s=ki.from(r.headers);let i=r.data;return U.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function ZL(t){return!!(t&&t.__CANCEL__)}function Sf(t,e,n){He.call(this,t??"canceled",He.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Sf,He,{__CANCEL__:!0});function CJ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new He("Request failed with status code "+n.status,[He.ERR_BAD_REQUEST,He.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const DJ=Ms.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),U.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),U.isString(i)&&l.push("path="+i),U.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function NJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function OJ(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function e2(t,e){return t&&!NJ(e)?OJ(t,e):e}const AJ=Ms.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=U.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function RJ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function MJ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let p=i,y=0;for(;p!==s;)y+=n[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const _=d&&c-d;return _?Math.round(y*1e3/_):void 0}}function AI(t,e){let n=0;const r=MJ(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};d[e?"download":"upload"]=!0,t(d)}}const PJ=typeof XMLHttpRequest<"u",LJ=PJ&&function(t){return new Promise(function(n,r){let s=t.data;const i=ki.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}U.isFormData(s)&&(Ms.isStandardBrowserEnv||Ms.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const _=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(_+":"+E))}const d=e2(t.baseURL,t.url);c.open(t.method.toUpperCase(),QL(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function p(){if(!c)return;const _=ki.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:_,config:t,request:c};CJ(function(b){n(b),l()},function(b){r(b),l()},x),c=null}if("onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(p)},c.onabort=function(){c&&(r(new He("Request aborted",He.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new He("Network Error",He.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const x=t.transitional||XL;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),r(new He(E,x.clarifyTimeoutError?He.ETIMEDOUT:He.ECONNABORTED,t,c)),c=null},Ms.isStandardBrowserEnv){const _=(t.withCredentials||AJ(d))&&t.xsrfCookieName&&DJ.read(t.xsrfCookieName);_&&i.set(t.xsrfHeaderName,_)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&U.forEach(i.toJSON(),function(E,x){c.setRequestHeader(x,E)}),U.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",AI(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",AI(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=_=>{c&&(r(!_||_.type?new Sf(null,t,c):_),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const y=RJ(d);if(y&&Ms.protocols.indexOf(y)===-1){r(new He("Unsupported protocol "+y+":",He.ERR_BAD_REQUEST,t));return}c.send(s||null)})},lm={http:aJ,xhr:LJ};U.forEach(lm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $J={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=U.isString(n)?lm[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new He(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(U.hasOwnProp(lm,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!U.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:lm};function jw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sf(null,t)}function RI(t){return jw(t),t.headers=ki.from(t.headers),t.data=Fw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$J.getAdapter(t.adapter||aT.adapter)(t).then(function(r){return jw(t),r.data=Fw.call(t,t.transformResponse,r),r.headers=ki.from(r.headers),r},function(r){return ZL(r)||(jw(t),r&&r.response&&(r.response.data=Fw.call(t,t.transformResponse,r.response),r.response.headers=ki.from(r.response.headers))),Promise.reject(r)})}const MI=t=>t instanceof ki?t.toJSON():t;function Xu(t,e){e=e||{};const n={};function r(c,d,p){return U.isPlainObject(c)&&U.isPlainObject(d)?U.merge.call({caseless:p},c,d):U.isPlainObject(d)?U.merge({},d):U.isArray(d)?d.slice():d}function s(c,d,p){if(U.isUndefined(d)){if(!U.isUndefined(c))return r(void 0,c,p)}else return r(c,d,p)}function i(c,d){if(!U.isUndefined(d))return r(void 0,d)}function o(c,d){if(U.isUndefined(d)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,p){if(p in e)return r(c,d);if(p in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>s(MI(c),MI(d),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=l[d]||s,y=p(t[d],e[d],d);U.isUndefined(y)&&p!==a||(n[d]=y)}),n}const t2="1.4.0",lT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lT[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const PI={};lT.transitional=function(e,n,r){function s(i,o){return"[Axios v"+t2+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new He(s(o," has been removed"+(n?" in "+n:"")),He.ERR_DEPRECATED);return n&&!PI[o]&&(PI[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function FJ(t,e,n){if(typeof t!="object")throw new He("options must be an object",He.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new He("option "+i+" must be "+l,He.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new He("Unknown option "+i,He.ERR_BAD_OPTION)}}const Y_={assertOptions:FJ,validators:lT},no=Y_.validators;class Eg{constructor(e){this.defaults=e,this.interceptors={request:new NI,response:new NI}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xu(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Y_.assertOptions(r,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),s!=null&&(U.isFunction(s)?n.paramsSerializer={serialize:s}:Y_.assertOptions(s,{encode:no.function,serialize:no.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&U.merge(i.common,i[n.method]),o&&U.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),n.headers=ki.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,p=0,y;if(!l){const E=[RI.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,c),y=E.length,d=Promise.resolve(n);p<y;)d=d.then(E[p++],E[p++]);return d}y=a.length;let _=n;for(p=0;p<y;){const E=a[p++],x=a[p++];try{_=E(_)}catch(I){x.call(this,I);break}}try{d=RI.call(this,_)}catch(E){return Promise.reject(E)}for(p=0,y=c.length;p<y;)d=d.then(c[p++],c[p++]);return d}getUri(e){e=Xu(this.defaults,e);const n=e2(e.baseURL,e.url);return QL(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){Eg.prototype[e]=function(n,r){return this.request(Xu(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Xu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Eg.prototype[e]=n(),Eg.prototype[e+"Form"]=n(!0)});const um=Eg;class uT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Sf(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new uT(function(s){e=s}),cancel:e}}}const jJ=uT;function UJ(t){return function(n){return t.apply(null,n)}}function VJ(t){return U.isObject(t)&&t.isAxiosError===!0}const W_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(W_).forEach(([t,e])=>{W_[e]=t});const BJ=W_;function n2(t){const e=new um(t),n=FL(um.prototype.request,e);return U.extend(n,um.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return n2(Xu(t,s))},n}const rn=n2(aT);rn.Axios=um;rn.CanceledError=Sf;rn.CancelToken=jJ;rn.isCancel=ZL;rn.VERSION=t2;rn.toFormData=Xy;rn.AxiosError=He;rn.Cancel=rn.CanceledError;rn.all=function(e){return Promise.all(e)};rn.spread=UJ;rn.isAxiosError=VJ;rn.mergeConfig=Xu;rn.AxiosHeaders=ki;rn.formToJSON=t=>JL(U.isHTMLForm(t)?new FormData(t):t);rn.HttpStatusCode=BJ;rn.default=rn;const zJ=rn,YJ=()=>{const t=localStorage.getItem("recetas")?JSON.parse(localStorage.getItem("recetas")):[],[e,n]=C.useState(t),[r,s]=C.useState(""),i=a=>{s(a)};C.useEffect(()=>{const a=async()=>{try{const{data:l}=await zJ.get("https://www.themealdb.com/api/json/v1/1/categories.php");n(l.categories),localStorage.setItem("recetas",JSON.stringify(l.categories))}catch(l){console.log("Error al obtener la informacin:",l)}};t.length===0?a():n(t)},[]);const o=(a,l)=>{const c=a.split(" ");return c.length>l?c.slice(0,l).join(" ")+"...":a};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"p-5 mb-4 bg-light rounded-3 text-center",children:v.jsxs("div",{className:"container-fluid",children:[v.jsx("h1",{className:"display-5 fw-bold",children:"Nuestras Recetas"}),v.jsx("p",{className:" fs-10",children:"Explora categoras y descubre recetas de comidas de todo el mundo. Elige la categora que ms te interese y accede a un listado de recetas autnticas y deliciosas. Sorprndete con sabores, aromas y experiencias culinarias nicas. Preprate para descubrir nuevos ingredientes y tcnicas de cocina! La aventura comienza aqu, elige tu categora y explora la cocina global."})]})}),v.jsx("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4 text-center m-5",children:e.map(a=>v.jsx("div",{className:"col",children:v.jsxs("div",{className:"card ",children:[v.jsx("img",{src:a.strCategoryThumb,className:"card-img-top",alt:a.strCategory}),v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:a.strCategory}),v.jsx("p",{className:"card-text",children:o(a.strCategoryDescription,10)}),v.jsx("button",{className:"btn btn-warning",onClick:()=>i(a.strCategory),children:"Ver ms..."})]})]})},a.idCategory))})]})},WJ=C.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:s,hover:i,size:o,variant:a,responsive:l,...c},d)=>{const p=Be(t,"table"),y=be(e,p,a&&`${p}-${a}`,o&&`${p}-${o}`,n&&`${p}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${p}-bordered`,s&&`${p}-borderless`,i&&`${p}-hover`),_=v.jsx("table",{...c,className:y,ref:d});if(l){let E=`${p}-responsive`;return typeof l=="string"&&(E=`${E}-${l}`),v.jsx("div",{className:E,children:_})}return _}),HJ=WJ;var Ap;function LI(t){if((!Ap&&Ap!==0||t)&&uc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Ap=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ap}const qJ=hn("modal-body"),r2=C.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:i,children:o,scrollable:a,...l},c)=>{t=Be(t,"modal");const d=`${t}-dialog`,p=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return v.jsx("div",{...l,ref:c,className:be(d,e,s&&`${t}-${s}`,r&&`${d}-centered`,a&&`${d}-scrollable`,i&&p),children:v.jsx("div",{className:be(`${t}-content`,n),children:o})})});r2.displayName="ModalDialog";const s2=r2,GJ=hn("modal-footer"),i2=C.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=Be(t,"modal-header"),v.jsx(QN,{ref:i,...s,className:be(e,t),closeLabel:n,closeButton:r})));i2.displayName="ModalHeader";const KJ=i2,QJ=Ud("h4"),XJ=hn("modal-title",{Component:QJ});function JJ(t){return v.jsx(nd,{...t,timeout:null})}function ZJ(t){return v.jsx(nd,{...t,timeout:null})}const o2=C.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:i,dialogAs:o=s2,"aria-labelledby":a,"aria-describedby":l,"aria-label":c,show:d=!1,animation:p=!0,backdrop:y=!0,keyboard:_=!0,onEscapeKeyDown:E,onShow:x,onHide:I,container:b,autoFocus:T=!0,enforceFocus:k=!0,restoreFocus:D=!0,restoreFocusOptions:R,onEntered:M,onExit:$,onExiting:z,onEnter:ue,onEntering:V,onExited:ye,backdropClassName:Le,manager:ve,...Ce},Ae)=>{const[$e,Ke]=C.useState({}),[H,ce]=C.useState(!1),ie=C.useRef(!1),ke=C.useRef(!1),Ee=C.useRef(null),[j,Ye]=cB(),Q=jd(Ae,Ye),it=On(I),ft=$V();t=Be(t,"modal");const Rt=C.useMemo(()=>({onHide:it}),[it]);function pt(){return ve||ZN({isRTL:ft})}function Kn(pe){if(!uc)return;const hr=pt().getScrollbarWidth()>0,Or=pe.scrollHeight>Hg(pe).documentElement.clientHeight;Ke({paddingRight:hr&&!Or?LI():void 0,paddingLeft:!hr&&Or?LI():void 0})}const ae=On(()=>{j&&Kn(j.dialog)});zN(()=>{z0(window,"resize",ae),Ee.current==null||Ee.current()});const ur=()=>{ie.current=!0},bn=pe=>{ie.current&&j&&pe.target===j.dialog&&(ke.current=!0),ie.current=!1},Qn=()=>{ce(!0),Ee.current=jN(j.dialog,()=>{ce(!1)})},We=pe=>{pe.target===pe.currentTarget&&Qn()},Jr=pe=>{if(y==="static"){We(pe);return}if(ke.current||pe.target!==pe.currentTarget){ke.current=!1;return}I==null||I()},Nr=pe=>{_?E==null||E(pe):(pe.preventDefault(),y==="static"&&Qn())},Es=(pe,hr)=>{pe&&Kn(pe),ue==null||ue(pe,hr)},Zr=pe=>{Ee.current==null||Ee.current(),$==null||$(pe)},Mt=(pe,hr)=>{V==null||V(pe,hr),FN(window,"resize",ae)},Ze=pe=>{pe&&(pe.style.display=""),ye==null||ye(pe),z0(window,"resize",ae)},Pt=C.useCallback(pe=>v.jsx("div",{...pe,className:be(`${t}-backdrop`,Le,!p&&"show")}),[p,Le,t]),cr={...n,...$e};cr.display="block";const es=pe=>v.jsx("div",{role:"dialog",...pe,style:cr,className:be(e,t,H&&`${t}-static`,!p&&"show"),onClick:y?Jr:void 0,onMouseUp:bn,"aria-label":c,"aria-labelledby":a,"aria-describedby":l,children:v.jsx(o,{...Ce,onMouseDown:ur,className:r,contentClassName:s,children:i})});return v.jsx(Z1.Provider,{value:Rt,children:v.jsx(HN,{show:d,ref:Q,backdrop:y,container:b,keyboard:!0,autoFocus:T,enforceFocus:k,restoreFocus:D,restoreFocusOptions:R,onEscapeKeyDown:Nr,onShow:x,onHide:I,onEnter:Es,onEntering:Mt,onEntered:M,onExit:Zr,onExiting:z,onExited:Ze,manager:pt(),transition:p?JJ:void 0,backdropTransition:p?ZJ:void 0,renderBackdrop:Pt,renderDialog:es})})});o2.displayName="Modal";const bs=Object.assign(o2,{Body:qJ,Header:KJ,Title:XJ,Footer:GJ,Dialog:s2,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),eZ=()=>{const t={nombre:"",apellido:"",correo:"",telefono:"",mesa:"",fechaReserva:"",horaReserva:""},[e,n]=C.useState(t),[r,s]=C.useState([]),[i,o]=C.useState(""),[a,l]=C.useState(null),[c,d]=C.useState(!1),[p,y]=C.useState(!1),[_,E]=C.useState(!1),[x,I]=C.useState(null),b=()=>{zq(LG,$G).then(({user:V})=>{l({id:(V==null?void 0:V.id)||null,email:(V==null?void 0:V.email)||null,name:V.displayName,photo:V.photoURL})})},T=()=>{l(null)},k=async V=>{const ye=await Na.collection("reservaciones").doc(V).get();n(ye.data())},D=async()=>{await Na.collection("reservaciones").onSnapshot(V=>{if(V){const ye=[];V.forEach(Le=>{ye.push({...Le.data(),id:Le.id})}),s(ye)}})},R=({target:V})=>{n({...e,[V.name]:V.value})},M=async V=>{V.preventDefault();try{i===""?(await Na.collection("reservaciones").add(e),n(t)):(await Na.collection("reservaciones").doc(i).update(e),o(""),d(!0))}catch(ye){console.log(ye)}},$=async V=>{await Na.collection("reservaciones").doc(V).delete(),y(!1),d(!0)};C.useEffect(()=>{D()},[]),C.useEffect(()=>{i===""?n(t):k(i)},[i]),C.useEffect(()=>{if(c){const V=setTimeout(()=>{d(!1)},3e3);return()=>{clearTimeout(V)}}},[c]),bs.Header,bs.Title,bs.Body,bs.Footer,bs.Header,bs.Title,bs.Body,bs.Footer;const z=J().format("YYYY-MM-DD"),ue=J().format("HH:mm");return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sesion",children:a?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"user",children:[v.jsxs("div",{className:"user-login",children:[v.jsx("img",{className:"avatar",src:a.photo,alt:a.name}),v.jsx(Ne.Text,{children:"Bienvenido"}),v.jsx(Ne.Title,{children:a.name})]}),v.jsx(mr,{variant:"outline-dark",onClick:T,children:"Cerrar Sesion"})]})}):v.jsxs("div",{className:"logueo",children:[v.jsx("h2",{className:"indicacion animate__animated animate__tada",children:"Para registrar o ver reservas realizadas, debes iniciar sesin."}),v.jsx(mr,{variant:"outline-dark",onClick:b,children:"Iniciar Sesion"})]})}),v.jsx("hr",{}),a?v.jsxs(v.Fragment,{children:[v.jsxs(Fd,{children:[v.jsxs("form",{onSubmit:M,children:[v.jsx(wr,{children:v.jsx(tt,{xs:6,md:12,lg:12,children:v.jsxs(wr,{className:"mb-3",children:[v.jsxs(he.Group,{as:tt,controlId:"nombre",children:[v.jsx(he.Label,{children:"Nombre"}),v.jsx(he.Control,{type:"text",name:"nombre",id:"nombre",placeholder:"Escriba su nombre",onChange:R,value:e.nombre,required:!0})]}),v.jsxs(he.Group,{as:tt,controlId:"apellido",children:[v.jsx(he.Label,{children:"Apellido"}),v.jsx(he.Control,{type:"text",name:"apellido",id:"apellido",placeholder:"Apellido",onChange:R,value:e.apellido,required:!0})]}),v.jsxs(he.Group,{as:tt,controlId:"apellido",children:[v.jsx(he.Label,{children:"Email"}),v.jsx(he.Control,{type:"email",name:"correo",id:"correo",placeholder:"tuemail@email.com",onChange:R,value:e.correo,required:!0})]})]})})}),v.jsx(wr,{children:v.jsx(tt,{xs:6,md:12,lg:12,children:v.jsxs(wr,{className:"mb-2",children:[v.jsxs(he.Group,{as:tt,controlId:"telefono",children:[v.jsx(he.Label,{children:"Telfono"}),v.jsx(he.Control,{type:"number",name:"telefono",id:"telefono",placeholder:"569999999",onChange:R,value:e.telefono,required:!0})]}),v.jsxs(he.Group,{as:tt,controlId:"mesa",children:[v.jsx(he.Label,{children:"Mesa"}),v.jsxs(he.Select,{name:"mesa",id:"mesa",onChange:R,value:e.mesa,required:!0,children:[v.jsx("option",{value:"Mesa 1",children:"Mesa 1"}),v.jsx("option",{value:"Mesa 2",children:"Mesa 2"}),v.jsx("option",{value:"Mesa 3",children:"Mesa 3"}),v.jsx("option",{value:"Mesa 4",children:"Mesa 4"})]})]}),v.jsxs(he.Group,{as:tt,controlId:"fechaReserva",children:[v.jsx(he.Label,{children:"Fecha Reserva"}),v.jsx(he.Control,{type:"date",name:"fechaReserva",id:"fechaReserva",onChange:R,value:e.fechaReserva,min:z,required:!0})]}),v.jsxs(he.Group,{as:tt,controlId:"horaReserva",children:[v.jsx(he.Label,{children:"Hora"}),v.jsx(he.Control,{type:"time",name:"horaReserva",id:"horaReserva",onChange:R,value:e.horaReserva,min:ue,required:!0})]}),v.jsx(mr,{className:"mt-4 ",variant:"primary",type:"submit",children:i===""?"Agregar":"Actualizar"})]})})})]}),c&&v.jsx(FE,{variant:"success",onClose:()=>d(!1),dismissible:!0,children:"El registro se ha creado con xito"})]}),v.jsxs(HJ,{striped:!0,bordered:!0,hover:!0,className:"mt-4",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Nombre"}),v.jsx("th",{children:"Apellido"}),v.jsx("th",{children:"Correo"}),v.jsx("th",{children:"Telefono"}),v.jsx("th",{children:"Mesa"}),v.jsx("th",{children:"Fecha Reserva"}),v.jsx("th",{children:"Hora"}),v.jsx("th",{children:"Acciones"})]})}),v.jsx("tbody",{children:r.map(V=>v.jsxs("tr",{children:[v.jsx("td",{children:V.nombre}),v.jsx("td",{children:V.apellido}),v.jsx("td",{children:V.correo}),v.jsx("td",{children:V.telefono}),v.jsx("td",{children:V.mesa}),v.jsx("td",{children:V.fechaReserva}),v.jsx("td",{children:V.horaReserva}),v.jsxs("td",{children:[v.jsx(mr,{variant:"info",className:"m-2",onClick:()=>o(V.id),children:"Editar"}),v.jsx(mr,{variant:"danger",onClick:()=>$(V.id),children:"Eliminar"})]})]},V.id))})]})]}):v.jsx(v.Fragment,{})]})},tZ=()=>v.jsx(v.Fragment,{children:v.jsx(eZ,{})}),nZ=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(""),[d,p]=C.useState(!1),y=async _=>{_.preventDefault();try{await Na.collection("contacto").add({nombre:t,apellido:n,telefono:s,correo:o,comentario:l}),e(""),r(""),i(""),a(""),c(""),p(!0)}catch(E){console.error("Error al guardar la reservacin:",E)}};return C.useEffect(()=>{if(d){const _=setTimeout(()=>{p(!1)},3e3);return()=>{clearTimeout(_)}}},[d]),v.jsx(v.Fragment,{children:v.jsx(Fd,{children:v.jsxs(wr,{children:[v.jsxs(tt,{md:12,lg:6,children:[v.jsxs(he,{onSubmit:y,children:[v.jsx("div",{className:"titulo-div mb-2 container",children:v.jsx(Ne.Title,{className:"text-center mt-2 mb-5 titulo animate__animated animate__backInRight",children:"Contactanos"})}),v.jsxs(wr,{className:"mb-3",children:[v.jsxs(he.Group,{as:tt,controlId:"formGridNombre",children:[v.jsx(he.Label,{children:"Nombre"}),v.jsx(he.Control,{type:"text",value:t,onChange:_=>e(_.target.value),required:!0,placeholder:"Tu Nombre"})]}),v.jsxs(he.Group,{as:tt,controlId:"formGridApellido",children:[v.jsx(he.Label,{children:"Apellido"}),v.jsx(he.Control,{type:"text",value:n,onChange:_=>r(_.target.value),required:!0,placeholder:"Tu Apellido"})]})]}),v.jsxs(wr,{children:[v.jsxs(he.Group,{as:tt,controlId:"formGridEmail",children:[v.jsx(he.Label,{children:"Email"}),v.jsx(he.Control,{type:"email",value:o,onChange:_=>a(_.target.value),required:!0,placeholder:"Enter email"})]}),v.jsxs(he.Group,{as:tt,controlId:"formGridTelefono",children:[v.jsx(he.Label,{children:"Telfono"}),v.jsx(he.Control,{type:"number",value:s,onChange:_=>i(_.target.value),required:!0,placeholder:"Telefono"})]})]}),v.jsx(wr,{className:"mb-3",children:v.jsxs(he.Group,{as:tt,controlId:"formGridComentario",children:[v.jsx(he.Label,{children:"Comentario"}),v.jsx(he.Control,{type:"textarea","aria-label":"With textarea",value:l,onChange:_=>c(_.target.value),required:!0,placeholder:"Tu comentario"})]})}),v.jsx(mr,{variant:"primary",type:"submit",children:"Enviar"})]}),d&&v.jsx(FE,{variant:"success",onClose:()=>p(!1),dismissible:!0,children:"El mensaje fue enviado con xito."})]}),v.jsx(tt,{md:12,lg:6,className:"mt-5",children:v.jsx(VP,{})})]})})})},rZ=()=>v.jsx(v.Fragment,{children:v.jsx(nZ,{})}),sZ=()=>v.jsx(v.Fragment,{children:v.jsxs(xV,{children:[v.jsx(Gl,{path:"/",element:v.jsx(yX,{})}),v.jsx(Gl,{path:"carta",element:v.jsx(kX,{})}),v.jsx(Gl,{path:"recetas",element:v.jsx(YJ,{})}),v.jsx(Gl,{path:"reserva",element:v.jsx(tZ,{})}),v.jsx(Gl,{path:"contacto",element:v.jsx(rZ,{})})]})});function iZ(){return v.jsxs(v.Fragment,{children:[v.jsx(bz,{}),v.jsx(sZ,{}),v.jsx(kz,{})]})}var oZ={exports:{}},Wn="top",xr="bottom",br="right",Hn="left",ev="auto",Tc=[Wn,xr,br,Hn],ul="start",Ju="end",a2="clippingParents",cT="viewport",Zl="popper",l2="reference",H_=Tc.reduce(function(t,e){return t.concat([e+"-"+ul,e+"-"+Ju])},[]),hT=[].concat(Tc,[ev]).reduce(function(t,e){return t.concat([e,e+"-"+ul,e+"-"+Ju])},[]),u2="beforeRead",c2="read",h2="afterRead",d2="beforeMain",f2="main",p2="afterMain",m2="beforeWrite",g2="write",y2="afterWrite",v2=[u2,c2,h2,d2,f2,p2,m2,g2,y2];function qs(t){return t?(t.nodeName||"").toLowerCase():null}function kr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function cl(t){var e=kr(t).Element;return t instanceof e||t instanceof Element}function qr(t){var e=kr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function dT(t){if(typeof ShadowRoot>"u")return!1;var e=kr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function aZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!qr(i)||!qs(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function lZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!qr(s)||!qs(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const fT={name:"applyStyles",enabled:!0,phase:"write",fn:aZ,effect:lZ,requires:["computeStyles"]};function Bs(t){return t.split("-")[0]}var Ha=Math.max,Tg=Math.min,Zu=Math.round;function q_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function w2(){return!/^((?!chrome|android).)*safari/i.test(q_())}function ec(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&qr(t)&&(s=t.offsetWidth>0&&Zu(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Zu(r.height)/t.offsetHeight||1);var o=cl(t)?kr(t):window,a=o.visualViewport,l=!w2()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,d=(r.top+(l&&a?a.offsetTop:0))/i,p=r.width/s,y=r.height/i;return{width:p,height:y,top:d,right:c+p,bottom:d+y,left:c,x:c,y:d}}function pT(t){var e=ec(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function _2(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&dT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function $i(t){return kr(t).getComputedStyle(t)}function uZ(t){return["table","td","th"].indexOf(qs(t))>=0}function na(t){return((cl(t)?t.ownerDocument:t.document)||window.document).documentElement}function tv(t){return qs(t)==="html"?t:t.assignedSlot||t.parentNode||(dT(t)?t.host:null)||na(t)}function $I(t){return!qr(t)||$i(t).position==="fixed"?null:t.offsetParent}function cZ(t){var e=/firefox/i.test(q_()),n=/Trident/i.test(q_());if(n&&qr(t)){var r=$i(t);if(r.position==="fixed")return null}var s=tv(t);for(dT(s)&&(s=s.host);qr(s)&&["html","body"].indexOf(qs(s))<0;){var i=$i(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ef(t){for(var e=kr(t),n=$I(t);n&&uZ(n)&&$i(n).position==="static";)n=$I(n);return n&&(qs(n)==="html"||qs(n)==="body"&&$i(n).position==="static")?e:n||cZ(t)||e}function mT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Mh(t,e,n){return Ha(t,Tg(e,n))}function hZ(t,e,n){var r=Mh(t,e,n);return r>n?n:r}function S2(){return{top:0,right:0,bottom:0,left:0}}function E2(t){return Object.assign({},S2(),t)}function T2(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var dZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,E2(typeof e!="number"?e:T2(e,Tc))};function fZ(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Bs(n.placement),l=mT(a),c=[Hn,br].indexOf(a)>=0,d=c?"height":"width";if(!(!i||!o)){var p=dZ(s.padding,n),y=pT(i),_=l==="y"?Wn:Hn,E=l==="y"?xr:br,x=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],I=o[l]-n.rects.reference[l],b=Ef(i),T=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,k=x/2-I/2,D=p[_],R=T-y[d]-p[E],M=T/2-y[d]/2+k,$=Mh(D,M,R),z=l;n.modifiersData[r]=(e={},e[z]=$,e.centerOffset=$-M,e)}}function pZ(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||_2(e.elements.popper,s)&&(e.elements.arrow=s))}const x2={name:"arrow",enabled:!0,phase:"main",fn:fZ,effect:pZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tc(t){return t.split("-")[1]}var mZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gZ(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Zu(n*s)/s||0,y:Zu(r*s)/s||0}}function FI(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,p=t.isFixed,y=o.x,_=y===void 0?0:y,E=o.y,x=E===void 0?0:E,I=typeof d=="function"?d({x:_,y:x}):{x:_,y:x};_=I.x,x=I.y;var b=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),k=Hn,D=Wn,R=window;if(c){var M=Ef(n),$="clientHeight",z="clientWidth";if(M===kr(n)&&(M=na(n),$i(M).position!=="static"&&a==="absolute"&&($="scrollHeight",z="scrollWidth")),M=M,s===Wn||(s===Hn||s===br)&&i===Ju){D=xr;var ue=p&&M===R&&R.visualViewport?R.visualViewport.height:M[$];x-=ue-r.height,x*=l?1:-1}if(s===Hn||(s===Wn||s===xr)&&i===Ju){k=br;var V=p&&M===R&&R.visualViewport?R.visualViewport.width:M[z];_-=V-r.width,_*=l?1:-1}}var ye=Object.assign({position:a},c&&mZ),Le=d===!0?gZ({x:_,y:x},kr(n)):{x:_,y:x};if(_=Le.x,x=Le.y,l){var ve;return Object.assign({},ye,(ve={},ve[D]=T?"0":"",ve[k]=b?"0":"",ve.transform=(R.devicePixelRatio||1)<=1?"translate("+_+"px, "+x+"px)":"translate3d("+_+"px, "+x+"px, 0)",ve))}return Object.assign({},ye,(e={},e[D]=T?x+"px":"",e[k]=b?_+"px":"",e.transform="",e))}function yZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Bs(e.placement),variation:tc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,FI(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,FI(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const gT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yZ,data:{}};var Rp={passive:!0};function vZ(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=kr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(d){d.addEventListener("scroll",n.update,Rp)}),a&&l.addEventListener("resize",n.update,Rp),function(){i&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Rp)}),a&&l.removeEventListener("resize",n.update,Rp)}}const yT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vZ,data:{}};var wZ={left:"right",right:"left",bottom:"top",top:"bottom"};function cm(t){return t.replace(/left|right|bottom|top/g,function(e){return wZ[e]})}var _Z={start:"end",end:"start"};function jI(t){return t.replace(/start|end/g,function(e){return _Z[e]})}function vT(t){var e=kr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function wT(t){return ec(na(t)).left+vT(t).scrollLeft}function SZ(t,e){var n=kr(t),r=na(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=w2();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+wT(t),y:l}}function EZ(t){var e,n=na(t),r=vT(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ha(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ha(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+wT(t),l=-r.scrollTop;return $i(s||n).direction==="rtl"&&(a+=Ha(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function _T(t){var e=$i(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function b2(t){return["html","body","#document"].indexOf(qs(t))>=0?t.ownerDocument.body:qr(t)&&_T(t)?t:b2(tv(t))}function Ph(t,e){var n;e===void 0&&(e=[]);var r=b2(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=kr(r),o=s?[i].concat(i.visualViewport||[],_T(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(Ph(tv(o)))}function G_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TZ(t,e){var n=ec(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function UI(t,e,n){return e===cT?G_(SZ(t,n)):cl(e)?TZ(e,n):G_(EZ(na(t)))}function xZ(t){var e=Ph(tv(t)),n=["absolute","fixed"].indexOf($i(t).position)>=0,r=n&&qr(t)?Ef(t):t;return cl(r)?e.filter(function(s){return cl(s)&&_2(s,r)&&qs(s)!=="body"}):[]}function bZ(t,e,n,r){var s=e==="clippingParents"?xZ(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var d=UI(t,c,r);return l.top=Ha(d.top,l.top),l.right=Tg(d.right,l.right),l.bottom=Tg(d.bottom,l.bottom),l.left=Ha(d.left,l.left),l},UI(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function k2(t){var e=t.reference,n=t.element,r=t.placement,s=r?Bs(r):null,i=r?tc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Wn:l={x:o,y:e.y-n.height};break;case xr:l={x:o,y:e.y+e.height};break;case br:l={x:e.x+e.width,y:a};break;case Hn:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?mT(s):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case ul:l[c]=l[c]-(e[d]/2-n[d]/2);break;case Ju:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function nc(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?a2:a,c=n.rootBoundary,d=c===void 0?cT:c,p=n.elementContext,y=p===void 0?Zl:p,_=n.altBoundary,E=_===void 0?!1:_,x=n.padding,I=x===void 0?0:x,b=E2(typeof I!="number"?I:T2(I,Tc)),T=y===Zl?l2:Zl,k=t.rects.popper,D=t.elements[E?T:y],R=bZ(cl(D)?D:D.contextElement||na(t.elements.popper),l,d,o),M=ec(t.elements.reference),$=k2({reference:M,element:k,strategy:"absolute",placement:s}),z=G_(Object.assign({},k,$)),ue=y===Zl?z:M,V={top:R.top-ue.top+b.top,bottom:ue.bottom-R.bottom+b.bottom,left:R.left-ue.left+b.left,right:ue.right-R.right+b.right},ye=t.modifiersData.offset;if(y===Zl&&ye){var Le=ye[s];Object.keys(V).forEach(function(ve){var Ce=[br,xr].indexOf(ve)>=0?1:-1,Ae=[Wn,xr].indexOf(ve)>=0?"y":"x";V[ve]+=Le[Ae]*Ce})}return V}function kZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?hT:l,d=tc(r),p=d?a?H_:H_.filter(function(E){return tc(E)===d}):Tc,y=p.filter(function(E){return c.indexOf(E)>=0});y.length===0&&(y=p);var _=y.reduce(function(E,x){return E[x]=nc(t,{placement:x,boundary:s,rootBoundary:i,padding:o})[Bs(x)],E},{});return Object.keys(_).sort(function(E,x){return _[E]-_[x]})}function IZ(t){if(Bs(t)===ev)return[];var e=cm(t);return[jI(t),e,jI(e)]}function CZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,p=n.rootBoundary,y=n.altBoundary,_=n.flipVariations,E=_===void 0?!0:_,x=n.allowedAutoPlacements,I=e.options.placement,b=Bs(I),T=b===I,k=l||(T||!E?[cm(I)]:IZ(I)),D=[I].concat(k).reduce(function(Ye,Q){return Ye.concat(Bs(Q)===ev?kZ(e,{placement:Q,boundary:d,rootBoundary:p,padding:c,flipVariations:E,allowedAutoPlacements:x}):Q)},[]),R=e.rects.reference,M=e.rects.popper,$=new Map,z=!0,ue=D[0],V=0;V<D.length;V++){var ye=D[V],Le=Bs(ye),ve=tc(ye)===ul,Ce=[Wn,xr].indexOf(Le)>=0,Ae=Ce?"width":"height",$e=nc(e,{placement:ye,boundary:d,rootBoundary:p,altBoundary:y,padding:c}),Ke=Ce?ve?br:Hn:ve?xr:Wn;R[Ae]>M[Ae]&&(Ke=cm(Ke));var H=cm(Ke),ce=[];if(i&&ce.push($e[Le]<=0),a&&ce.push($e[Ke]<=0,$e[H]<=0),ce.every(function(Ye){return Ye})){ue=ye,z=!1;break}$.set(ye,ce)}if(z)for(var ie=E?3:1,ke=function(Q){var it=D.find(function(ft){var Rt=$.get(ft);if(Rt)return Rt.slice(0,Q).every(function(pt){return pt})});if(it)return ue=it,"break"},Ee=ie;Ee>0;Ee--){var j=ke(Ee);if(j==="break")break}e.placement!==ue&&(e.modifiersData[r]._skip=!0,e.placement=ue,e.reset=!0)}}const I2={name:"flip",enabled:!0,phase:"main",fn:CZ,requiresIfExists:["offset"],data:{_skip:!1}};function VI(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function BI(t){return[Wn,br,xr,Hn].some(function(e){return t[e]>=0})}function DZ(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=nc(e,{elementContext:"reference"}),a=nc(e,{altBoundary:!0}),l=VI(o,r),c=VI(a,s,i),d=BI(l),p=BI(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const C2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:DZ};function NZ(t,e,n){var r=Bs(t),s=[Hn,Wn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[Hn,br].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function OZ(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=hT.reduce(function(d,p){return d[p]=NZ(p,e.rects,i),d},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const D2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:OZ};function AZ(t){var e=t.state,n=t.name;e.modifiersData[n]=k2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ST={name:"popperOffsets",enabled:!0,phase:"read",fn:AZ,data:{}};function RZ(t){return t==="x"?"y":"x"}function MZ(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,p=n.padding,y=n.tether,_=y===void 0?!0:y,E=n.tetherOffset,x=E===void 0?0:E,I=nc(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:d}),b=Bs(e.placement),T=tc(e.placement),k=!T,D=mT(b),R=RZ(D),M=e.modifiersData.popperOffsets,$=e.rects.reference,z=e.rects.popper,ue=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,V=typeof ue=="number"?{mainAxis:ue,altAxis:ue}:Object.assign({mainAxis:0,altAxis:0},ue),ye=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Le={x:0,y:0};if(M){if(i){var ve,Ce=D==="y"?Wn:Hn,Ae=D==="y"?xr:br,$e=D==="y"?"height":"width",Ke=M[D],H=Ke+I[Ce],ce=Ke-I[Ae],ie=_?-z[$e]/2:0,ke=T===ul?$[$e]:z[$e],Ee=T===ul?-z[$e]:-$[$e],j=e.elements.arrow,Ye=_&&j?pT(j):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:S2(),it=Q[Ce],ft=Q[Ae],Rt=Mh(0,$[$e],Ye[$e]),pt=k?$[$e]/2-ie-Rt-it-V.mainAxis:ke-Rt-it-V.mainAxis,Kn=k?-$[$e]/2+ie+Rt+ft+V.mainAxis:Ee+Rt+ft+V.mainAxis,ae=e.elements.arrow&&Ef(e.elements.arrow),ur=ae?D==="y"?ae.clientTop||0:ae.clientLeft||0:0,bn=(ve=ye==null?void 0:ye[D])!=null?ve:0,Qn=Ke+pt-bn-ur,We=Ke+Kn-bn,Jr=Mh(_?Tg(H,Qn):H,Ke,_?Ha(ce,We):ce);M[D]=Jr,Le[D]=Jr-Ke}if(a){var Nr,Es=D==="x"?Wn:Hn,Zr=D==="x"?xr:br,Mt=M[R],Ze=R==="y"?"height":"width",Pt=Mt+I[Es],cr=Mt-I[Zr],es=[Wn,Hn].indexOf(b)!==-1,pe=(Nr=ye==null?void 0:ye[R])!=null?Nr:0,hr=es?Pt:Mt-$[Ze]-z[Ze]-pe+V.altAxis,Or=es?Mt+$[Ze]+z[Ze]-pe-V.altAxis:cr,mn=_&&es?hZ(hr,Mt,Or):Mh(_?hr:Pt,Mt,_?Or:cr);M[R]=mn,Le[R]=mn-Mt}e.modifiersData[r]=Le}}const N2={name:"preventOverflow",enabled:!0,phase:"main",fn:MZ,requiresIfExists:["offset"]};function PZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function LZ(t){return t===kr(t)||!qr(t)?vT(t):PZ(t)}function $Z(t){var e=t.getBoundingClientRect(),n=Zu(e.width)/t.offsetWidth||1,r=Zu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function FZ(t,e,n){n===void 0&&(n=!1);var r=qr(e),s=qr(e)&&$Z(e),i=na(e),o=ec(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((qs(e)!=="body"||_T(i))&&(a=LZ(e)),qr(e)?(l=ec(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=wT(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function jZ(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function UZ(t){var e=jZ(t);return v2.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function VZ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function BZ(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var zI={placement:"bottom",modifiers:[],strategy:"absolute"};function YI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nv(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?zI:s;return function(a,l,c){c===void 0&&(c=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},zI,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],y=!1,_={state:d,setOptions:function(b){var T=typeof b=="function"?b(d.options):b;x(),d.options=Object.assign({},i,d.options,T),d.scrollParents={reference:cl(a)?Ph(a):a.contextElement?Ph(a.contextElement):[],popper:Ph(l)};var k=UZ(BZ([].concat(r,d.options.modifiers)));return d.orderedModifiers=k.filter(function(D){return D.enabled}),E(),_.update()},forceUpdate:function(){if(!y){var b=d.elements,T=b.reference,k=b.popper;if(YI(T,k)){d.rects={reference:FZ(T,Ef(k),d.options.strategy==="fixed"),popper:pT(k)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(V){return d.modifiersData[V.name]=Object.assign({},V.data)});for(var D=0;D<d.orderedModifiers.length;D++){if(d.reset===!0){d.reset=!1,D=-1;continue}var R=d.orderedModifiers[D],M=R.fn,$=R.options,z=$===void 0?{}:$,ue=R.name;typeof M=="function"&&(d=M({state:d,options:z,name:ue,instance:_})||d)}}}},update:VZ(function(){return new Promise(function(I){_.forceUpdate(),I(d)})}),destroy:function(){x(),y=!0}};if(!YI(a,l))return _;_.setOptions(c).then(function(I){!y&&c.onFirstUpdate&&c.onFirstUpdate(I)});function E(){d.orderedModifiers.forEach(function(I){var b=I.name,T=I.options,k=T===void 0?{}:T,D=I.effect;if(typeof D=="function"){var R=D({state:d,name:b,instance:_,options:k}),M=function(){};p.push(R||M)}})}function x(){p.forEach(function(I){return I()}),p=[]}return _}}var zZ=nv(),YZ=[yT,ST,gT,fT],WZ=nv({defaultModifiers:YZ}),HZ=[yT,ST,gT,fT,D2,I2,N2,x2,C2],qZ=nv({defaultModifiers:HZ});const GZ=Object.freeze(Object.defineProperty({__proto__:null,afterMain:p2,afterRead:h2,afterWrite:y2,applyStyles:fT,arrow:x2,auto:ev,basePlacements:Tc,beforeMain:d2,beforeRead:u2,beforeWrite:m2,bottom:xr,clippingParents:a2,computeStyles:gT,createPopper:qZ,createPopperBase:zZ,createPopperLite:WZ,detectOverflow:nc,end:Ju,eventListeners:yT,flip:I2,hide:C2,left:Hn,main:f2,modifierPhases:v2,offset:D2,placements:hT,popper:Zl,popperGenerator:nv,popperOffsets:ST,preventOverflow:N2,read:c2,reference:l2,right:br,start:ul,top:Wn,variationPlacements:H_,viewport:cT,write:g2},Symbol.toStringTag,{value:"Module"})),KZ=uj(GZ);/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(KZ)})(K_,function(n){function r(O){const f=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(O){for(const w in O)if(w!=="default"){const N=Object.getOwnPropertyDescriptor(O,w);Object.defineProperty(f,w,N.get?N:{enumerable:!0,get:()=>O[w]})}}return f.default=O,Object.freeze(f)}const s=r(n),i=new Map,o={set(O,f,w){i.has(O)||i.set(O,new Map);const N=i.get(O);N.has(f)||N.size===0?N.set(f,w):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(N.keys())[0]}.`)},get:(O,f)=>i.has(O)&&i.get(O).get(f)||null,remove(O,f){if(!i.has(O))return;const w=i.get(O);w.delete(f),w.size===0&&i.delete(O)}},a="transitionend",l=O=>(O&&window.CSS&&window.CSS.escape&&(O=O.replace(/#([^\s"#']+)/g,(f,w)=>`#${CSS.escape(w)}`)),O),c=O=>{O.dispatchEvent(new Event(a))},d=O=>!(!O||typeof O!="object")&&(O.jquery!==void 0&&(O=O[0]),O.nodeType!==void 0),p=O=>d(O)?O.jquery?O[0]:O:typeof O=="string"&&O.length>0?document.querySelector(l(O)):null,y=O=>{if(!d(O)||O.getClientRects().length===0)return!1;const f=getComputedStyle(O).getPropertyValue("visibility")==="visible",w=O.closest("details:not([open])");if(!w)return f;if(w!==O){const N=O.closest("summary");if(N&&N.parentNode!==w||N===null)return!1}return f},_=O=>!O||O.nodeType!==Node.ELEMENT_NODE||!!O.classList.contains("disabled")||(O.disabled!==void 0?O.disabled:O.hasAttribute("disabled")&&O.getAttribute("disabled")!=="false"),E=O=>{if(!document.documentElement.attachShadow)return null;if(typeof O.getRootNode=="function"){const f=O.getRootNode();return f instanceof ShadowRoot?f:null}return O instanceof ShadowRoot?O:O.parentNode?E(O.parentNode):null},x=()=>{},I=O=>{O.offsetHeight},b=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,T=[],k=()=>document.documentElement.dir==="rtl",D=O=>{var f;f=()=>{const w=b();if(w){const N=O.NAME,B=w.fn[N];w.fn[N]=O.jQueryInterface,w.fn[N].Constructor=O,w.fn[N].noConflict=()=>(w.fn[N]=B,O.jQueryInterface)}},document.readyState==="loading"?(T.length||document.addEventListener("DOMContentLoaded",()=>{for(const w of T)w()}),T.push(f)):f()},R=(O,f=[],w=O)=>typeof O=="function"?O(...f):w,M=(O,f,w=!0)=>{if(!w)return void R(O);const N=(le=>{if(!le)return 0;let{transitionDuration:Re,transitionDelay:at}=window.getComputedStyle(le);const Dt=Number.parseFloat(Re),gn=Number.parseFloat(at);return Dt||gn?(Re=Re.split(",")[0],at=at.split(",")[0],1e3*(Number.parseFloat(Re)+Number.parseFloat(at))):0})(f)+5;let B=!1;const X=({target:le})=>{le===f&&(B=!0,f.removeEventListener(a,X),R(O))};f.addEventListener(a,X),setTimeout(()=>{B||c(f)},N)},$=(O,f,w,N)=>{const B=O.length;let X=O.indexOf(f);return X===-1?!w&&N?O[B-1]:O[0]:(X+=w?1:-1,N&&(X=(X+B)%B),O[Math.max(0,Math.min(X,B-1))])},z=/[^.]*(?=\..*)\.|.*/,ue=/\..*/,V=/::\d+$/,ye={};let Le=1;const ve={mouseenter:"mouseover",mouseleave:"mouseout"},Ce=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ae(O,f){return f&&`${f}::${Le++}`||O.uidEvent||Le++}function $e(O){const f=Ae(O);return O.uidEvent=f,ye[f]=ye[f]||{},ye[f]}function Ke(O,f,w=null){return Object.values(O).find(N=>N.callable===f&&N.delegationSelector===w)}function H(O,f,w){const N=typeof f=="string",B=N?w:f||w;let X=Ee(O);return Ce.has(X)||(X=O),[N,B,X]}function ce(O,f,w,N,B){if(typeof f!="string"||!O)return;let[X,le,Re]=H(f,w,N);f in ve&&(le=(ss=>function(pr){if(!pr.relatedTarget||pr.relatedTarget!==pr.delegateTarget&&!pr.delegateTarget.contains(pr.relatedTarget))return ss.call(this,pr)})(le));const at=$e(O),Dt=at[Re]||(at[Re]={}),gn=Ke(Dt,le,X?w:null);if(gn)return void(gn.oneOff=gn.oneOff&&B);const fr=Ae(le,f.replace(z,"")),Xt=X?function(rs,ss,pr){return function pa(Rl){const Ml=rs.querySelectorAll(ss);for(let{target:is}=Rl;is&&is!==this;is=is.parentNode)for(const Sv of Ml)if(Sv===is)return Ye(Rl,{delegateTarget:is}),pa.oneOff&&j.off(rs,Rl.type,ss,pr),pr.apply(is,[Rl])}}(O,w,le):function(rs,ss){return function pr(pa){return Ye(pa,{delegateTarget:rs}),pr.oneOff&&j.off(rs,pa.type,ss),ss.apply(rs,[pa])}}(O,le);Xt.delegationSelector=X?w:null,Xt.callable=le,Xt.oneOff=B,Xt.uidEvent=fr,Dt[fr]=Xt,O.addEventListener(Re,Xt,X)}function ie(O,f,w,N,B){const X=Ke(f[w],N,B);X&&(O.removeEventListener(w,X,!!B),delete f[w][X.uidEvent])}function ke(O,f,w,N){const B=f[w]||{};for(const[X,le]of Object.entries(B))X.includes(N)&&ie(O,f,w,le.callable,le.delegationSelector)}function Ee(O){return O=O.replace(ue,""),ve[O]||O}const j={on(O,f,w,N){ce(O,f,w,N,!1)},one(O,f,w,N){ce(O,f,w,N,!0)},off(O,f,w,N){if(typeof f!="string"||!O)return;const[B,X,le]=H(f,w,N),Re=le!==f,at=$e(O),Dt=at[le]||{},gn=f.startsWith(".");if(X===void 0){if(gn)for(const fr of Object.keys(at))ke(O,at,fr,f.slice(1));for(const[fr,Xt]of Object.entries(Dt)){const rs=fr.replace(V,"");Re&&!f.includes(rs)||ie(O,at,le,Xt.callable,Xt.delegationSelector)}}else{if(!Object.keys(Dt).length)return;ie(O,at,le,X,B?w:null)}},trigger(O,f,w){if(typeof f!="string"||!O)return null;const N=b();let B=null,X=!0,le=!0,Re=!1;f!==Ee(f)&&N&&(B=N.Event(f,w),N(O).trigger(B),X=!B.isPropagationStopped(),le=!B.isImmediatePropagationStopped(),Re=B.isDefaultPrevented());const at=Ye(new Event(f,{bubbles:X,cancelable:!0}),w);return Re&&at.preventDefault(),le&&O.dispatchEvent(at),at.defaultPrevented&&B&&B.preventDefault(),at}};function Ye(O,f={}){for(const[w,N]of Object.entries(f))try{O[w]=N}catch{Object.defineProperty(O,w,{configurable:!0,get:()=>N})}return O}function Q(O){if(O==="true")return!0;if(O==="false")return!1;if(O===Number(O).toString())return Number(O);if(O===""||O==="null")return null;if(typeof O!="string")return O;try{return JSON.parse(decodeURIComponent(O))}catch{return O}}function it(O){return O.replace(/[A-Z]/g,f=>`-${f.toLowerCase()}`)}const ft={setDataAttribute(O,f,w){O.setAttribute(`data-bs-${it(f)}`,w)},removeDataAttribute(O,f){O.removeAttribute(`data-bs-${it(f)}`)},getDataAttributes(O){if(!O)return{};const f={},w=Object.keys(O.dataset).filter(N=>N.startsWith("bs")&&!N.startsWith("bsConfig"));for(const N of w){let B=N.replace(/^bs/,"");B=B.charAt(0).toLowerCase()+B.slice(1,B.length),f[B]=Q(O.dataset[N])}return f},getDataAttribute:(O,f)=>Q(O.getAttribute(`data-bs-${it(f)}`))};class Rt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(f){return f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f}_mergeConfigObj(f,w){const N=d(w)?ft.getDataAttribute(w,"config"):{};return{...this.constructor.Default,...typeof N=="object"?N:{},...d(w)?ft.getDataAttributes(w):{},...typeof f=="object"?f:{}}}_typeCheckConfig(f,w=this.constructor.DefaultType){for(const[B,X]of Object.entries(w)){const le=f[B],Re=d(le)?"element":(N=le)==null?`${N}`:Object.prototype.toString.call(N).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(X).test(Re))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${B}" provided type "${Re}" but expected type "${X}".`)}var N}}class pt extends Rt{constructor(f,w){super(),(f=p(f))&&(this._element=f,this._config=this._getConfig(w),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const f of Object.getOwnPropertyNames(this))this[f]=null}_queueCallback(f,w,N=!0){M(f,w,N)}_getConfig(f){return f=this._mergeConfigObj(f,this._element),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}static getInstance(f){return o.get(p(f),this.DATA_KEY)}static getOrCreateInstance(f,w={}){return this.getInstance(f)||new this(f,typeof w=="object"?w:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(f){return`${f}${this.EVENT_KEY}`}}const Kn=O=>{let f=O.getAttribute("data-bs-target");if(!f||f==="#"){let w=O.getAttribute("href");if(!w||!w.includes("#")&&!w.startsWith("."))return null;w.includes("#")&&!w.startsWith("#")&&(w=`#${w.split("#")[1]}`),f=w&&w!=="#"?w.trim():null}return l(f)},ae={find:(O,f=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(f,O)),findOne:(O,f=document.documentElement)=>Element.prototype.querySelector.call(f,O),children:(O,f)=>[].concat(...O.children).filter(w=>w.matches(f)),parents(O,f){const w=[];let N=O.parentNode.closest(f);for(;N;)w.push(N),N=N.parentNode.closest(f);return w},prev(O,f){let w=O.previousElementSibling;for(;w;){if(w.matches(f))return[w];w=w.previousElementSibling}return[]},next(O,f){let w=O.nextElementSibling;for(;w;){if(w.matches(f))return[w];w=w.nextElementSibling}return[]},focusableChildren(O){const f=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(w=>`${w}:not([tabindex^="-"])`).join(",");return this.find(f,O).filter(w=>!_(w)&&y(w))},getSelectorFromElement(O){const f=Kn(O);return f&&ae.findOne(f)?f:null},getElementFromSelector(O){const f=Kn(O);return f?ae.findOne(f):null},getMultipleElementsFromSelector(O){const f=Kn(O);return f?ae.find(f):[]}},ur=(O,f="hide")=>{const w=`click.dismiss${O.EVENT_KEY}`,N=O.NAME;j.on(document,w,`[data-bs-dismiss="${N}"]`,function(B){if(["A","AREA"].includes(this.tagName)&&B.preventDefault(),_(this))return;const X=ae.getElementFromSelector(this)||this.closest(`.${N}`);O.getOrCreateInstance(X)[f]()})};class bn extends pt{static get NAME(){return"alert"}close(){if(j.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const f=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),j.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(f){return this.each(function(){const w=bn.getOrCreateInstance(this);if(typeof f=="string"){if(w[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);w[f](this)}})}}ur(bn,"close"),D(bn);const Qn='[data-bs-toggle="button"]';class We extends pt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(f){return this.each(function(){const w=We.getOrCreateInstance(this);f==="toggle"&&w[f]()})}}j.on(document,"click.bs.button.data-api",Qn,O=>{O.preventDefault();const f=O.target.closest(Qn);We.getOrCreateInstance(f).toggle()}),D(We);const Jr={endCallback:null,leftCallback:null,rightCallback:null},Nr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Es extends Rt{constructor(f,w){super(),this._element=f,f&&Es.isSupported()&&(this._config=this._getConfig(w),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Jr}static get DefaultType(){return Nr}static get NAME(){return"swipe"}dispose(){j.off(this._element,".bs.swipe")}_start(f){this._supportPointerEvents?this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX):this._deltaX=f.touches[0].clientX}_end(f){this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX-this._deltaX),this._handleSwipe(),R(this._config.endCallback)}_move(f){this._deltaX=f.touches&&f.touches.length>1?0:f.touches[0].clientX-this._deltaX}_handleSwipe(){const f=Math.abs(this._deltaX);if(f<=40)return;const w=f/this._deltaX;this._deltaX=0,w&&R(w>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,"pointerdown.bs.swipe",f=>this._start(f)),j.on(this._element,"pointerup.bs.swipe",f=>this._end(f)),this._element.classList.add("pointer-event")):(j.on(this._element,"touchstart.bs.swipe",f=>this._start(f)),j.on(this._element,"touchmove.bs.swipe",f=>this._move(f)),j.on(this._element,"touchend.bs.swipe",f=>this._end(f)))}_eventIsPointerPenTouch(f){return this._supportPointerEvents&&(f.pointerType==="pen"||f.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Zr="next",Mt="prev",Ze="left",Pt="right",cr="slid.bs.carousel",es="carousel",pe="active",hr={ArrowLeft:Pt,ArrowRight:Ze},Or={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class we extends pt{constructor(f,w){super(f,w),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ae.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===es&&this.cycle()}static get Default(){return Or}static get DefaultType(){return mn}static get NAME(){return"carousel"}next(){this._slide(Zr)}nextWhenVisible(){!document.hidden&&y(this._element)&&this.next()}prev(){this._slide(Mt)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?j.one(this._element,cr,()=>this.cycle()):this.cycle())}to(f){const w=this._getItems();if(f>w.length-1||f<0)return;if(this._isSliding)return void j.one(this._element,cr,()=>this.to(f));const N=this._getItemIndex(this._getActive());if(N===f)return;const B=f>N?Zr:Mt;this._slide(B,w[f])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(f){return f.defaultInterval=f.interval,f}_addEventListeners(){this._config.keyboard&&j.on(this._element,"keydown.bs.carousel",f=>this._keydown(f)),this._config.pause==="hover"&&(j.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),j.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&Es.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const w of ae.find(".carousel-item img",this._element))j.on(w,"dragstart.bs.carousel",N=>N.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(Ze)),rightCallback:()=>this._slide(this._directionToOrder(Pt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Es(this._element,f)}_keydown(f){if(/input|textarea/i.test(f.target.tagName))return;const w=hr[f.key];w&&(f.preventDefault(),this._slide(this._directionToOrder(w)))}_getItemIndex(f){return this._getItems().indexOf(f)}_setActiveIndicatorElement(f){if(!this._indicatorsElement)return;const w=ae.findOne(".active",this._indicatorsElement);w.classList.remove(pe),w.removeAttribute("aria-current");const N=ae.findOne(`[data-bs-slide-to="${f}"]`,this._indicatorsElement);N&&(N.classList.add(pe),N.setAttribute("aria-current","true"))}_updateInterval(){const f=this._activeElement||this._getActive();if(!f)return;const w=Number.parseInt(f.getAttribute("data-bs-interval"),10);this._config.interval=w||this._config.defaultInterval}_slide(f,w=null){if(this._isSliding)return;const N=this._getActive(),B=f===Zr,X=w||$(this._getItems(),N,B,this._config.wrap);if(X===N)return;const le=this._getItemIndex(X),Re=fr=>j.trigger(this._element,fr,{relatedTarget:X,direction:this._orderToDirection(f),from:this._getItemIndex(N),to:le});if(Re("slide.bs.carousel").defaultPrevented||!N||!X)return;const at=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(le),this._activeElement=X;const Dt=B?"carousel-item-start":"carousel-item-end",gn=B?"carousel-item-next":"carousel-item-prev";X.classList.add(gn),I(X),N.classList.add(Dt),X.classList.add(Dt),this._queueCallback(()=>{X.classList.remove(Dt,gn),X.classList.add(pe),N.classList.remove(pe,gn,Dt),this._isSliding=!1,Re(cr)},N,this._isAnimated()),at&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ae.findOne(".active.carousel-item",this._element)}_getItems(){return ae.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(f){return k()?f===Ze?Mt:Zr:f===Ze?Zr:Mt}_orderToDirection(f){return k()?f===Mt?Ze:Pt:f===Mt?Pt:Ze}static jQueryInterface(f){return this.each(function(){const w=we.getOrCreateInstance(this,f);if(typeof f!="number"){if(typeof f=="string"){if(w[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);w[f]()}}else w.to(f)})}}j.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(O){const f=ae.getElementFromSelector(this);if(!f||!f.classList.contains(es))return;O.preventDefault();const w=we.getOrCreateInstance(f),N=this.getAttribute("data-bs-slide-to");return N?(w.to(N),void w._maybeEnableCycle()):ft.getDataAttribute(this,"slide")==="next"?(w.next(),void w._maybeEnableCycle()):(w.prev(),void w._maybeEnableCycle())}),j.on(window,"load.bs.carousel.data-api",()=>{const O=ae.find('[data-bs-ride="carousel"]');for(const f of O)we.getOrCreateInstance(f)}),D(we);const Ts="show",Js="collapse",ra="collapsing",xc='[data-bs-toggle="collapse"]',rv={parent:null,toggle:!0},Tf={parent:"(null|element)",toggle:"boolean"};class Ht extends pt{constructor(f,w){super(f,w),this._isTransitioning=!1,this._triggerArray=[];const N=ae.find(xc);for(const B of N){const X=ae.getSelectorFromElement(B),le=ae.find(X).filter(Re=>Re===this._element);X!==null&&le.length&&this._triggerArray.push(B)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rv}static get DefaultType(){return Tf}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let f=[];if(this._config.parent&&(f=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(B=>B!==this._element).map(B=>Ht.getOrCreateInstance(B,{toggle:!1}))),f.length&&f[0]._isTransitioning||j.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const B of f)B.hide();const w=this._getDimension();this._element.classList.remove(Js),this._element.classList.add(ra),this._element.style[w]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const N=`scroll${w[0].toUpperCase()+w.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ra),this._element.classList.add(Js,Ts),this._element.style[w]="",j.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[w]=`${this._element[N]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,I(this._element),this._element.classList.add(ra),this._element.classList.remove(Js,Ts);for(const w of this._triggerArray){const N=ae.getElementFromSelector(w);N&&!this._isShown(N)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0,this._element.style[f]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ra),this._element.classList.add(Js),j.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(f=this._element){return f.classList.contains(Ts)}_configAfterMerge(f){return f.toggle=!!f.toggle,f.parent=p(f.parent),f}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const f=this._getFirstLevelChildren(xc);for(const w of f){const N=ae.getElementFromSelector(w);N&&this._addAriaAndCollapsedClass([w],this._isShown(N))}}_getFirstLevelChildren(f){const w=ae.find(":scope .collapse .collapse",this._config.parent);return ae.find(f,this._config.parent).filter(N=>!w.includes(N))}_addAriaAndCollapsedClass(f,w){if(f.length)for(const N of f)N.classList.toggle("collapsed",!w),N.setAttribute("aria-expanded",w)}static jQueryInterface(f){const w={};return typeof f=="string"&&/show|hide/.test(f)&&(w.toggle=!1),this.each(function(){const N=Ht.getOrCreateInstance(this,w);if(typeof f=="string"){if(N[f]===void 0)throw new TypeError(`No method named "${f}"`);N[f]()}})}}j.on(document,"click.bs.collapse.data-api",xc,function(O){(O.target.tagName==="A"||O.delegateTarget&&O.delegateTarget.tagName==="A")&&O.preventDefault();for(const f of ae.getMultipleElementsFromSelector(this))Ht.getOrCreateInstance(f,{toggle:!1}).toggle()}),D(Ht);const bc="dropdown",kc="ArrowUp",sa="ArrowDown",ot="click.bs.dropdown.data-api",Ic="keydown.bs.dropdown.data-api",Wi="show",Ar='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Cc=`${Ar}.show`,Zs=".dropdown-menu",Hi=k()?"top-end":"top-start",El=k()?"top-start":"top-end",sv=k()?"bottom-end":"bottom-start",Tl=k()?"bottom-start":"bottom-end",iv=k()?"left-start":"right-start",ia=k()?"right-start":"left-start",xl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ne={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class dr extends pt{constructor(f,w){super(f,w),this._popper=null,this._parent=this._element.parentNode,this._menu=ae.next(this._element,Zs)[0]||ae.prev(this._element,Zs)[0]||ae.findOne(Zs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return xl}static get DefaultType(){return ne}static get NAME(){return bc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const f={relatedTarget:this._element};if(!j.trigger(this._element,"show.bs.dropdown",f).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const w of[].concat(...document.body.children))j.on(w,"mouseover",x);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wi),this._element.classList.add(Wi),j.trigger(this._element,"shown.bs.dropdown",f)}}hide(){if(_(this._element)||!this._isShown())return;const f={relatedTarget:this._element};this._completeHide(f)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(f){if(!j.trigger(this._element,"hide.bs.dropdown",f).defaultPrevented){if("ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))j.off(w,"mouseover",x);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wi),this._element.classList.remove(Wi),this._element.setAttribute("aria-expanded","false"),ft.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,"hidden.bs.dropdown",f)}}_getConfig(f){if(typeof(f=super._getConfig(f)).reference=="object"&&!d(f.reference)&&typeof f.reference.getBoundingClientRect!="function")throw new TypeError(`${bc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return f}_createPopper(){if(s===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let f=this._element;this._config.reference==="parent"?f=this._parent:d(this._config.reference)?f=p(this._config.reference):typeof this._config.reference=="object"&&(f=this._config.reference);const w=this._getPopperConfig();this._popper=s.createPopper(f,this._menu,w)}_isShown(){return this._menu.classList.contains(Wi)}_getPlacement(){const f=this._parent;if(f.classList.contains("dropend"))return iv;if(f.classList.contains("dropstart"))return ia;if(f.classList.contains("dropup-center"))return"top";if(f.classList.contains("dropdown-center"))return"bottom";const w=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return f.classList.contains("dropup")?w?El:Hi:w?Tl:sv}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:f}=this._config;return typeof f=="string"?f.split(",").map(w=>Number.parseInt(w,10)):typeof f=="function"?w=>f(w,this._element):f}_getPopperConfig(){const f={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ft.setDataAttribute(this._menu,"popper","static"),f.modifiers=[{name:"applyStyles",enabled:!1}]),{...f,...R(this._config.popperConfig,[f])}}_selectMenuItem({key:f,target:w}){const N=ae.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(B=>y(B));N.length&&$(N,w,f===sa,!N.includes(w)).focus()}static jQueryInterface(f){return this.each(function(){const w=dr.getOrCreateInstance(this,f);if(typeof f=="string"){if(w[f]===void 0)throw new TypeError(`No method named "${f}"`);w[f]()}})}static clearMenus(f){if(f.button===2||f.type==="keyup"&&f.key!=="Tab")return;const w=ae.find(Cc);for(const N of w){const B=dr.getInstance(N);if(!B||B._config.autoClose===!1)continue;const X=f.composedPath(),le=X.includes(B._menu);if(X.includes(B._element)||B._config.autoClose==="inside"&&!le||B._config.autoClose==="outside"&&le||B._menu.contains(f.target)&&(f.type==="keyup"&&f.key==="Tab"||/input|select|option|textarea|form/i.test(f.target.tagName)))continue;const Re={relatedTarget:B._element};f.type==="click"&&(Re.clickEvent=f),B._completeHide(Re)}}static dataApiKeydownHandler(f){const w=/input|textarea/i.test(f.target.tagName),N=f.key==="Escape",B=[kc,sa].includes(f.key);if(!B&&!N||w&&!N)return;f.preventDefault();const X=this.matches(Ar)?this:ae.prev(this,Ar)[0]||ae.next(this,Ar)[0]||ae.findOne(Ar,f.delegateTarget.parentNode),le=dr.getOrCreateInstance(X);if(B)return f.stopPropagation(),le.show(),void le._selectMenuItem(f);le._isShown()&&(f.stopPropagation(),le.hide(),X.focus())}}j.on(document,Ic,Ar,dr.dataApiKeydownHandler),j.on(document,Ic,Zs,dr.dataApiKeydownHandler),j.on(document,ot,dr.clearMenus),j.on(document,"keyup.bs.dropdown.data-api",dr.clearMenus),j.on(document,ot,Ar,function(O){O.preventDefault(),dr.getOrCreateInstance(this).toggle()}),D(dr);const xf="show",kn="mousedown.bs.backdrop",Dc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},et={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qi extends Rt{constructor(f){super(),this._config=this._getConfig(f),this._isAppended=!1,this._element=null}static get Default(){return Dc}static get DefaultType(){return et}static get NAME(){return"backdrop"}show(f){if(!this._config.isVisible)return void R(f);this._append();const w=this._getElement();this._config.isAnimated&&I(w),w.classList.add(xf),this._emulateAnimation(()=>{R(f)})}hide(f){this._config.isVisible?(this._getElement().classList.remove(xf),this._emulateAnimation(()=>{this.dispose(),R(f)})):R(f)}dispose(){this._isAppended&&(j.off(this._element,kn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const f=document.createElement("div");f.className=this._config.className,this._config.isAnimated&&f.classList.add("fade"),this._element=f}return this._element}_configAfterMerge(f){return f.rootElement=p(f.rootElement),f}_append(){if(this._isAppended)return;const f=this._getElement();this._config.rootElement.append(f),j.on(f,kn,()=>{R(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(f){M(f,this._getElement(),this._config.isAnimated)}}const bf=".bs.focustrap",Qt="backward",ts={autofocus:!0,trapElement:null},Rr={autofocus:"boolean",trapElement:"element"};class Lt extends Rt{constructor(f){super(),this._config=this._getConfig(f),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ts}static get DefaultType(){return Rr}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,bf),j.on(document,"focusin.bs.focustrap",f=>this._handleFocusin(f)),j.on(document,"keydown.tab.bs.focustrap",f=>this._handleKeydown(f)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,bf))}_handleFocusin(f){const{trapElement:w}=this._config;if(f.target===document||f.target===w||w.contains(f.target))return;const N=ae.focusableChildren(w);N.length===0?w.focus():this._lastTabNavDirection===Qt?N[N.length-1].focus():N[0].focus()}_handleKeydown(f){f.key==="Tab"&&(this._lastTabNavDirection=f.shiftKey?Qt:"forward")}}const Xn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mr=".sticky-top",Pr="padding-right",kf="margin-right";class Nc{constructor(){this._element=document.body}getWidth(){const f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){const f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pr,w=>w+f),this._setElementAttributes(Xn,Pr,w=>w+f),this._setElementAttributes(Mr,kf,w=>w-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pr),this._resetElementAttributes(Xn,Pr),this._resetElementAttributes(Mr,kf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,w,N){const B=this.getWidth();this._applyManipulationCallback(f,X=>{if(X!==this._element&&window.innerWidth>X.clientWidth+B)return;this._saveInitialAttribute(X,w);const le=window.getComputedStyle(X).getPropertyValue(w);X.style.setProperty(w,`${N(Number.parseFloat(le))}px`)})}_saveInitialAttribute(f,w){const N=f.style.getPropertyValue(w);N&&ft.setDataAttribute(f,w,N)}_resetElementAttributes(f,w){this._applyManipulationCallback(f,N=>{const B=ft.getDataAttribute(N,w);B!==null?(ft.removeDataAttribute(N,w),N.style.setProperty(w,B)):N.style.removeProperty(w)})}_applyManipulationCallback(f,w){if(d(f))w(f);else for(const N of ae.find(f,this._element))w(N)}}const If=".bs.modal",xt="hidden.bs.modal",oa="show.bs.modal",Cf="modal-open",Oc="show",bl="modal-static",ov={backdrop:!0,focus:!0,keyboard:!0},av={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ei extends pt{constructor(f,w){super(f,w),this._dialog=ae.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nc,this._addEventListeners()}static get Default(){return ov}static get DefaultType(){return av}static get NAME(){return"modal"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||this._isTransitioning||j.trigger(this._element,oa,{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Cf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(f)))}hide(){this._isShown&&!this._isTransitioning&&(j.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Oc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){j.off(window,If),j.off(this._dialog,If),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qi({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Lt({trapElement:this._element})}_showElement(f){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const w=ae.findOne(".modal-body",this._dialog);w&&(w.scrollTop=0),I(this._element),this._element.classList.add(Oc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,"shown.bs.modal",{relatedTarget:f})},this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,"keydown.dismiss.bs.modal",f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),j.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,"mousedown.dismiss.bs.modal",f=>{j.one(this._element,"click.dismiss.bs.modal",w=>{this._element===f.target&&this._element===w.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Cf),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,xt)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,w=this._element.style.overflowY;w==="hidden"||this._element.classList.contains(bl)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(bl),this._queueCallback(()=>{this._element.classList.remove(bl),this._queueCallback(()=>{this._element.style.overflowY=w},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const f=this._element.scrollHeight>document.documentElement.clientHeight,w=this._scrollBar.getWidth(),N=w>0;if(N&&!f){const B=k()?"paddingLeft":"paddingRight";this._element.style[B]=`${w}px`}if(!N&&f){const B=k()?"paddingRight":"paddingLeft";this._element.style[B]=`${w}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(f,w){return this.each(function(){const N=ei.getOrCreateInstance(this,f);if(typeof f=="string"){if(N[f]===void 0)throw new TypeError(`No method named "${f}"`);N[f](w)}})}}j.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(O){const f=ae.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&O.preventDefault(),j.one(f,oa,N=>{N.defaultPrevented||j.one(f,xt,()=>{y(this)&&this.focus()})});const w=ae.findOne(".modal.show");w&&ei.getInstance(w).hide(),ei.getOrCreateInstance(f).toggle(this)}),ur(ei),D(ei);const Df="show",Nf="showing",Of="hiding",Ac=".offcanvas.show",Rc="hidePrevented.bs.offcanvas",Af="hidden.bs.offcanvas",lv={backdrop:!0,keyboard:!0,scroll:!1},uv={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Lr extends pt{constructor(f,w){super(f,w),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lv}static get DefaultType(){return uv}static get NAME(){return"offcanvas"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||j.trigger(this._element,"show.bs.offcanvas",{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Nf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Df),this._element.classList.remove(Nf),j.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:f})},this._element,!0))}hide(){this._isShown&&(j.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Of),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Df,Of),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nc().reset(),j.trigger(this._element,Af)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const f=!!this._config.backdrop;return new qi({className:"offcanvas-backdrop",isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?()=>{this._config.backdrop!=="static"?this.hide():j.trigger(this._element,Rc)}:null})}_initializeFocusTrap(){return new Lt({trapElement:this._element})}_addEventListeners(){j.on(this._element,"keydown.dismiss.bs.offcanvas",f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():j.trigger(this._element,Rc))})}static jQueryInterface(f){return this.each(function(){const w=Lr.getOrCreateInstance(this,f);if(typeof f=="string"){if(w[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);w[f](this)}})}}j.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(O){const f=ae.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&O.preventDefault(),_(this))return;j.one(f,Af,()=>{y(this)&&this.focus()});const w=ae.findOne(Ac);w&&w!==f&&Lr.getInstance(w).hide(),Lr.getOrCreateInstance(f).toggle(this)}),j.on(window,"load.bs.offcanvas.data-api",()=>{for(const O of ae.find(Ac))Lr.getOrCreateInstance(O).show()}),j.on(window,"resize.bs.offcanvas",()=>{for(const O of ae.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(O).position!=="fixed"&&Lr.getOrCreateInstance(O).hide()}),ur(Lr),D(Lr);const Gi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rf=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,hv=(O,f)=>{const w=O.nodeName.toLowerCase();return f.includes(w)?!Rf.has(w)||!!cv.test(O.nodeValue):f.filter(N=>N instanceof RegExp).some(N=>N.test(w))},aa={allowList:Gi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},kl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Mf={entry:"(string|element|function|null)",selector:"(string|element)"};class la extends Rt{constructor(f){super(),this._config=this._getConfig(f)}static get Default(){return aa}static get DefaultType(){return kl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(f=>this._resolvePossibleFunction(f)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(f){return this._checkContent(f),this._config.content={...this._config.content,...f},this}toHtml(){const f=document.createElement("div");f.innerHTML=this._maybeSanitize(this._config.template);for(const[B,X]of Object.entries(this._config.content))this._setContent(f,X,B);const w=f.children[0],N=this._resolvePossibleFunction(this._config.extraClass);return N&&w.classList.add(...N.split(" ")),w}_typeCheckConfig(f){super._typeCheckConfig(f),this._checkContent(f.content)}_checkContent(f){for(const[w,N]of Object.entries(f))super._typeCheckConfig({selector:w,entry:N},Mf)}_setContent(f,w,N){const B=ae.findOne(N,f);B&&((w=this._resolvePossibleFunction(w))?d(w)?this._putElementInTemplate(p(w),B):this._config.html?B.innerHTML=this._maybeSanitize(w):B.textContent=w:B.remove())}_maybeSanitize(f){return this._config.sanitize?function(w,N,B){if(!w.length)return w;if(B&&typeof B=="function")return B(w);const X=new window.DOMParser().parseFromString(w,"text/html"),le=[].concat(...X.body.querySelectorAll("*"));for(const Re of le){const at=Re.nodeName.toLowerCase();if(!Object.keys(N).includes(at)){Re.remove();continue}const Dt=[].concat(...Re.attributes),gn=[].concat(N["*"]||[],N[at]||[]);for(const fr of Dt)hv(fr,gn)||Re.removeAttribute(fr.nodeName)}return X.body.innerHTML}(f,this._config.allowList,this._config.sanitizeFn):f}_resolvePossibleFunction(f){return R(f,[this])}_putElementInTemplate(f,w){if(this._config.html)return w.innerHTML="",void w.append(f);w.textContent=f.textContent}}const ns=new Set(["sanitize","allowList","sanitizeFn"]),Mc="fade",Il="show",Pf=".modal",Lf="hide.bs.modal",Cl="hover",$f="focus",dv={AUTO:"auto",TOP:"top",RIGHT:k()?"left":"right",BOTTOM:"bottom",LEFT:k()?"right":"left"},fv={allowList:Gi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ti extends pt{constructor(f,w){if(s===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(f,w),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return fv}static get DefaultType(){return Pc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(Pf),Lf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const f=j.trigger(this._element,this.constructor.eventName("show")),w=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(f.defaultPrevented||!w)return;this._disposePopper();const N=this._getTipElement();this._element.setAttribute("aria-describedby",N.getAttribute("id"));const{container:B}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(B.append(N),j.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(N),N.classList.add(Il),"ontouchstart"in document.documentElement)for(const X of[].concat(...document.body.children))j.on(X,"mouseover",x);this._queueCallback(()=>{j.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!j.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Il),"ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))j.off(f,"mouseover",x);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(f){const w=this._getTemplateFactory(f).toHtml();if(!w)return null;w.classList.remove(Mc,Il),w.classList.add(`bs-${this.constructor.NAME}-auto`);const N=(B=>{do B+=Math.floor(1e6*Math.random());while(document.getElementById(B));return B})(this.constructor.NAME).toString();return w.setAttribute("id",N),this._isAnimated()&&w.classList.add(Mc),w}setContent(f){this._newContent=f,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(f){return this._templateFactory?this._templateFactory.changeContent(f):this._templateFactory=new la({...this._config,content:f,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(f){return this.constructor.getOrCreateInstance(f.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mc)}_isShown(){return this.tip&&this.tip.classList.contains(Il)}_createPopper(f){const w=R(this._config.placement,[this,f,this._element]),N=dv[w.toUpperCase()];return s.createPopper(this._element,f,this._getPopperConfig(N))}_getOffset(){const{offset:f}=this._config;return typeof f=="string"?f.split(",").map(w=>Number.parseInt(w,10)):typeof f=="function"?w=>f(w,this._element):f}_resolvePossibleFunction(f){return R(f,[this._element])}_getPopperConfig(f){const w={placement:f,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:N=>{this._getTipElement().setAttribute("data-popper-placement",N.state.placement)}}]};return{...w,...R(this._config.popperConfig,[w])}}_setListeners(){const f=this._config.trigger.split(" ");for(const w of f)if(w==="click")j.on(this._element,this.constructor.eventName("click"),this._config.selector,N=>{this._initializeOnDelegatedTarget(N).toggle()});else if(w!=="manual"){const N=w===Cl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),B=w===Cl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");j.on(this._element,N,this._config.selector,X=>{const le=this._initializeOnDelegatedTarget(X);le._activeTrigger[X.type==="focusin"?$f:Cl]=!0,le._enter()}),j.on(this._element,B,this._config.selector,X=>{const le=this._initializeOnDelegatedTarget(X);le._activeTrigger[X.type==="focusout"?$f:Cl]=le._element.contains(X.relatedTarget),le._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(Pf),Lf,this._hideModalHandler)}_fixTitle(){const f=this._element.getAttribute("title");f&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",f),this._element.setAttribute("data-bs-original-title",f),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(f,w){clearTimeout(this._timeout),this._timeout=setTimeout(f,w)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(f){const w=ft.getDataAttributes(this._element);for(const N of Object.keys(w))ns.has(N)&&delete w[N];return f={...w,...typeof f=="object"&&f?f:{}},f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f.container=f.container===!1?document.body:p(f.container),typeof f.delay=="number"&&(f.delay={show:f.delay,hide:f.delay}),typeof f.title=="number"&&(f.title=f.title.toString()),typeof f.content=="number"&&(f.content=f.content.toString()),f}_getDelegateConfig(){const f={};for(const[w,N]of Object.entries(this._config))this.constructor.Default[w]!==N&&(f[w]=N);return f.selector=!1,f.trigger="manual",f}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(f){return this.each(function(){const w=ti.getOrCreateInstance(this,f);if(typeof f=="string"){if(w[f]===void 0)throw new TypeError(`No method named "${f}"`);w[f]()}})}}D(ti);const Ff={...ti.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},pv={...ti.DefaultType,content:"(null|string|element|function)"};class Dl extends ti{static get Default(){return Ff}static get DefaultType(){return pv}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(f){return this.each(function(){const w=Dl.getOrCreateInstance(this,f);if(typeof f=="string"){if(w[f]===void 0)throw new TypeError(`No method named "${f}"`);w[f]()}})}}D(Dl);const jf="click.bs.scrollspy",ua="active",Uf="[href]",mv={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gv={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ca extends pt{constructor(f,w){super(f,w),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return mv}static get DefaultType(){return gv}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const f of this._observableSections.values())this._observer.observe(f)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(f){return f.target=p(f.target)||document.body,f.rootMargin=f.offset?`${f.offset}px 0px -30%`:f.rootMargin,typeof f.threshold=="string"&&(f.threshold=f.threshold.split(",").map(w=>Number.parseFloat(w))),f}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,jf),j.on(this._config.target,jf,Uf,f=>{const w=this._observableSections.get(f.target.hash);if(w){f.preventDefault();const N=this._rootElement||window,B=w.offsetTop-this._element.offsetTop;if(N.scrollTo)return void N.scrollTo({top:B,behavior:"smooth"});N.scrollTop=B}}))}_getNewObserver(){const f={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(w=>this._observerCallback(w),f)}_observerCallback(f){const w=le=>this._targetLinks.get(`#${le.target.id}`),N=le=>{this._previousScrollData.visibleEntryTop=le.target.offsetTop,this._process(w(le))},B=(this._rootElement||document.documentElement).scrollTop,X=B>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=B;for(const le of f){if(!le.isIntersecting){this._activeTarget=null,this._clearActiveClass(w(le));continue}const Re=le.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(X&&Re){if(N(le),!B)return}else X||Re||N(le)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const f=ae.find(Uf,this._config.target);for(const w of f){if(!w.hash||_(w))continue;const N=ae.findOne(decodeURI(w.hash),this._element);y(N)&&(this._targetLinks.set(decodeURI(w.hash),w),this._observableSections.set(w.hash,N))}}_process(f){this._activeTarget!==f&&(this._clearActiveClass(this._config.target),this._activeTarget=f,f.classList.add(ua),this._activateParents(f),j.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:f}))}_activateParents(f){if(f.classList.contains("dropdown-item"))ae.findOne(".dropdown-toggle",f.closest(".dropdown")).classList.add(ua);else for(const w of ae.parents(f,".nav, .list-group"))for(const N of ae.prev(w,".nav-link, .nav-item > .nav-link, .list-group-item"))N.classList.add(ua)}_clearActiveClass(f){f.classList.remove(ua);const w=ae.find("[href].active",f);for(const N of w)N.classList.remove(ua)}static jQueryInterface(f){return this.each(function(){const w=ca.getOrCreateInstance(this,f);if(typeof f=="string"){if(w[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);w[f]()}})}}j.on(window,"load.bs.scrollspy.data-api",()=>{for(const O of ae.find('[data-bs-spy="scroll"]'))ca.getOrCreateInstance(O)}),D(ca);const yv="ArrowLeft",Vf="ArrowRight",vv="ArrowUp",Bf="ArrowDown",Nl="active",zf="fade",Lc="show",Ol='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ha=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Ol}`;class ni extends pt{constructor(f){super(f),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,"keydown.bs.tab",w=>this._keydown(w)))}static get NAME(){return"tab"}show(){const f=this._element;if(this._elemIsActive(f))return;const w=this._getActiveElem(),N=w?j.trigger(w,"hide.bs.tab",{relatedTarget:f}):null;j.trigger(f,"show.bs.tab",{relatedTarget:w}).defaultPrevented||N&&N.defaultPrevented||(this._deactivate(w,f),this._activate(f,w))}_activate(f,w){f&&(f.classList.add(Nl),this._activate(ae.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.removeAttribute("tabindex"),f.setAttribute("aria-selected",!0),this._toggleDropDown(f,!0),j.trigger(f,"shown.bs.tab",{relatedTarget:w})):f.classList.add(Lc)},f,f.classList.contains(zf)))}_deactivate(f,w){f&&(f.classList.remove(Nl),f.blur(),this._deactivate(ae.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.setAttribute("aria-selected",!1),f.setAttribute("tabindex","-1"),this._toggleDropDown(f,!1),j.trigger(f,"hidden.bs.tab",{relatedTarget:w})):f.classList.remove(Lc)},f,f.classList.contains(zf)))}_keydown(f){if(![yv,Vf,vv,Bf].includes(f.key))return;f.stopPropagation(),f.preventDefault();const w=[Vf,Bf].includes(f.key),N=$(this._getChildren().filter(B=>!_(B)),f.target,w,!0);N&&(N.focus({preventScroll:!0}),ni.getOrCreateInstance(N).show())}_getChildren(){return ae.find(ha,this._parent)}_getActiveElem(){return this._getChildren().find(f=>this._elemIsActive(f))||null}_setInitialAttributes(f,w){this._setAttributeIfNotExists(f,"role","tablist");for(const N of w)this._setInitialAttributesOnChild(N)}_setInitialAttributesOnChild(f){f=this._getInnerElement(f);const w=this._elemIsActive(f),N=this._getOuterElement(f);f.setAttribute("aria-selected",w),N!==f&&this._setAttributeIfNotExists(N,"role","presentation"),w||f.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(f,"role","tab"),this._setInitialAttributesOnTargetPanel(f)}_setInitialAttributesOnTargetPanel(f){const w=ae.getElementFromSelector(f);w&&(this._setAttributeIfNotExists(w,"role","tabpanel"),f.id&&this._setAttributeIfNotExists(w,"aria-labelledby",`${f.id}`))}_toggleDropDown(f,w){const N=this._getOuterElement(f);if(!N.classList.contains("dropdown"))return;const B=(X,le)=>{const Re=ae.findOne(X,N);Re&&Re.classList.toggle(le,w)};B(".dropdown-toggle",Nl),B(".dropdown-menu",Lc),N.setAttribute("aria-expanded",w)}_setAttributeIfNotExists(f,w,N){f.hasAttribute(w)||f.setAttribute(w,N)}_elemIsActive(f){return f.classList.contains(Nl)}_getInnerElement(f){return f.matches(ha)?f:ae.findOne(ha,f)}_getOuterElement(f){return f.closest(".nav-item, .list-group-item")||f}static jQueryInterface(f){return this.each(function(){const w=ni.getOrCreateInstance(this);if(typeof f=="string"){if(w[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);w[f]()}})}}j.on(document,"click.bs.tab",Ol,function(O){["A","AREA"].includes(this.tagName)&&O.preventDefault(),_(this)||ni.getOrCreateInstance(this).show()}),j.on(window,"load.bs.tab",()=>{for(const O of ae.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))ni.getOrCreateInstance(O)}),D(ni);const $c="hide",da="show",Al="showing",wv={animation:"boolean",autohide:"boolean",delay:"number"},_v={animation:!0,autohide:!0,delay:5e3};class fa extends pt{constructor(f,w){super(f,w),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _v}static get DefaultType(){return wv}static get NAME(){return"toast"}show(){j.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($c),I(this._element),this._element.classList.add(da,Al),this._queueCallback(()=>{this._element.classList.remove(Al),j.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(j.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Al),this._queueCallback(()=>{this._element.classList.add($c),this._element.classList.remove(Al,da),j.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(da),super.dispose()}isShown(){return this._element.classList.contains(da)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(f,w){switch(f.type){case"mouseover":case"mouseout":this._hasMouseInteraction=w;break;case"focusin":case"focusout":this._hasKeyboardInteraction=w}if(w)return void this._clearTimeout();const N=f.relatedTarget;this._element===N||this._element.contains(N)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,"mouseover.bs.toast",f=>this._onInteraction(f,!0)),j.on(this._element,"mouseout.bs.toast",f=>this._onInteraction(f,!1)),j.on(this._element,"focusin.bs.toast",f=>this._onInteraction(f,!0)),j.on(this._element,"focusout.bs.toast",f=>this._onInteraction(f,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(f){return this.each(function(){const w=fa.getOrCreateInstance(this,f);if(typeof f=="string"){if(w[f]===void 0)throw new TypeError(`No method named "${f}"`);w[f](this)}})}}return ur(fa),D(fa),{Alert:bn,Button:We,Carousel:we,Collapse:Ht,Dropdown:dr,Modal:ei,Offcanvas:Lr,Popover:Dl,ScrollSpy:ca,Tab:ni,Toast:fa,Tooltip:ti}})})(oZ);Uw.createRoot(document.getElementById("root")).render(v.jsx(Br.StrictMode,{children:v.jsx(NV,{children:v.jsx(iZ,{})})}))});export default QZ();
